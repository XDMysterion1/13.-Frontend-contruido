(this["webpackJsonpsakai-react"]=this["webpackJsonpsakai-react"]||[]).push([[0],{106:function(e,a,t){e.exports=t(184)},181:function(e,a,t){},182:function(e,a,t){},183:function(e,a,t){},184:function(e,a,t){"use strict";t.r(a);t(107);var l=t(0),o=t.n(l),r=t(30),n=t.n(r),c=t(16),s=t.n(c),i=t(9),m=t(185),d=t(11),u=t(29);const p=e=>{const[a,t]=Object(l.useState)(!1),r=Object(i.f)(),n=new u.a;return o.a.createElement("div",{className:"layout-topbar"},o.a.createElement("button",{type:"button",className:"p-link  layout-menu-button layout-topbar-button",onClick:e.onToggleMenuClick},o.a.createElement("i",{className:"pi pi-bars"})),o.a.createElement("button",{type:"button",className:"p-link layout-topbar-menu-button layout-topbar-button",onClick:e.onMobileTopbarMenuClick},o.a.createElement("i",{className:"pi pi-ellipsis-v"})),o.a.createElement(d.b,{to:"/",className:"layout-topbar-logo ml-6 "},o.a.createElement("img",{src:(e.layoutColorMode,"assets/layout/images/MagicTech.png"),alt:"logo",style:{height:"1.8em",width:"2.0em"}}),"light"===e.layoutColorMode?n.set("theme","light"):n.set("theme","dark"),o.a.createElement("span",null,"MAGIC TECH")),a?o.a.createElement("ul",{className:s()("layout-topbar-menu lg:flex origin-top",{"layout-topbar-menu-mobile-active":e.mobileTopbarMenuActive})},o.a.createElement("li",null,o.a.createElement("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick},o.a.createElement("i",{className:"pi pi-calendar"}),o.a.createElement("span",null,"Events"))),o.a.createElement("li",null,o.a.createElement("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick},o.a.createElement("i",{className:"pi pi-cog"}),o.a.createElement("span",null,"Settings"))),o.a.createElement("li",null,o.a.createElement("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick},o.a.createElement("i",{className:"pi pi-user"}),o.a.createElement("span",null,"Profile")))):o.a.createElement("ul",{className:s()("layout-topbar-menu lg:flex origin-top",{"layout-topbar-menu-mobile-active":e.mobileTopbarMenuActive})},o.a.createElement("li",null,o.a.createElement("button",{className:"p-link layout-topbar-button",onClick:()=>r.push("/Register")},o.a.createElement("i",{className:"pi pi-user-plus"}),o.a.createElement("span",null,"Registrarse"))),o.a.createElement("li",null,o.a.createElement("button",{className:"p-link layout-topbar-button",onClick:()=>r.push("/Login")},o.a.createElement("i",{className:"pi pi-user"}),o.a.createElement("span",null,"Iniciar Sesion")))))},g=e=>o.a.createElement("div",{className:"layout-footer"},o.a.createElement("img",{src:(e.layoutColorMode,"assets/layout/images/MagicTech.png"),alt:"Logo",height:"20",className:"mr-2",style:{height:"2.7em",width:"3em"}}),"por",o.a.createElement("span",{className:"font-medium ml-2"},"MAGIC TECH"));var b=t(102);const E=e=>{const[a,t]=Object(l.useState)(null),r=(l,o,r)=>{if(o.disabled)return l.preventDefault(),!0;o.command&&o.command({originalEvent:l,item:o}),t(r===a?null:r),e.onMenuItemClick&&e.onMenuItemClick({originalEvent:l,item:o})},n=(e,a)=>{let t=(e=>{let a=e.items&&o.a.createElement("i",{className:"pi pi-fw pi-angle-down menuitem-toggle-icon"}),t=e.badge&&o.a.createElement("span",{className:"menuitem-badge"},e.badge);return o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:e.icon}),o.a.createElement("span",null,e.label),a,t,o.a.createElement(b.a,null))})(e);return e.to?o.a.createElement(d.c,{className:"p-ripple",activeClassName:"router-link-active router-link-exact-active",to:e.to,onClick:t=>r(t,e,a),exact:!0,target:e.target},t):o.a.createElement("a",{href:e.url,className:"p-ripple",onClick:t=>r(t,e,a),target:e.target},t)};let c=e.items&&e.items.map((t,l)=>{let r=a===l,c=s()(t.badgeStyleClass,{"layout-menuitem-category":e.root,"active-menuitem":r&&!t.to});return e.root?o.a.createElement("li",{className:c,key:l},!0===e.root&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"layout-menuitem-root-text"},t.label),o.a.createElement(E,{items:t.items,onMenuItemClick:e.onMenuItemClick}))):o.a.createElement("li",{className:c,key:l},n(t,l),o.a.createElement(m.a,{classNames:"layout-submenu-wrapper",timeout:{enter:1e3,exit:450},in:r,unmountOnExit:!0},o.a.createElement(E,{items:t.items,onMenuItemClick:e.onMenuItemClick})))});return c?o.a.createElement("ul",{className:e.className},c):null},f=e=>o.a.createElement("div",{className:"layout-menu-container"},o.a.createElement(E,{items:e.model,className:"layout-menu",onMenuItemClick:e.onMenuItemClick,root:!0}));var h=t(44),y=(t(160),t(3));const N=e=>{const[a,t]=Object(l.useState)(!1),[r,n]=Object(l.useState)(16),[c]=Object(l.useState)([12,13,14,15,16]),[i,m]=Object(l.useState)("saga"),[d,p]=Object(l.useState)("blue"),g=Object(l.useRef)(null);let b=Object(l.useRef)(null);const E=new u.a,f=Object(l.useCallback)(()=>{b.current&&(document.removeEventListener("click",b.current),b.current=null)},[]),N=Object(l.useCallback)(e=>{t(!1),f(),e.preventDefault()},[f]),v=Object(l.useCallback)(()=>{b.current||(b.current=e=>{a&&C(e)&&N(e)},document.addEventListener("click",b.current))},[a,N]);Object(l.useEffect)(()=>{a?v():f()},[a,v,f]);const C=e=>!(g.current.isSameNode(e.target)||g.current.contains(e.target));Object(l.useEffect)(()=>{document.documentElement.style.fontSize=r+"px"},[r]);const w=s()("layout-config",{"layout-config-active":a});Object(l.useEffect)(()=>{let e=i+"-"+d,a=document.getElementById("theme-link");k(a,"assets/themes/"+e+"/theme.css")});const k=(e,a,t)=>{if(S())e.setAttribute("href",a),t&&t();else{const l=e.getAttribute("id"),o=e.cloneNode(!0);o.setAttribute("href",a),o.setAttribute("id",l+"-clone"),e.parentNode.insertBefore(o,e.nextSibling),o.addEventListener("load",()=>{e.remove(),o.setAttribute("id",l),t&&t()})}},S=()=>/(MSIE|Trident\/|Edge\/)/i.test(window.navigator.userAgent),O=(a,t)=>{e.onColorModeChange(a.value),m(t),"saga"===t?E.set("theme","light"):E.set("theme","dark")},j=(e,a)=>{p(a)};return o.a.createElement("div",{ref:g,className:w,id:"layout-config"},o.a.createElement("button",{className:"layout-config-button p-link",id:"layout-config-button",onClick:e=>{t(e=>!e)}},o.a.createElement("i",{className:"pi pi-cog"})),o.a.createElement(y.a,{className:"p-button-danger layout-config-close p-button-rounded p-button-text",icon:"pi pi-times",onClick:N}),o.a.createElement("div",{className:"layout-config-content"},o.a.createElement("h6",{className:"mt-0"},"Escala de Componentes"),o.a.createElement("div",{className:"config-scale"},o.a.createElement(y.a,{icon:"pi pi-minus",onClick:()=>{n(e=>--e)},className:"p-button-text",disabled:r===c[0]}),c.map(e=>o.a.createElement("i",{className:s()("pi pi-circle-on",{"scale-active":e===r}),key:e})),o.a.createElement(y.a,{icon:"pi pi-plus",onClick:()=>{n(e=>++e)},className:"p-button-text",disabled:r===c[c.length-1]})),o.a.createElement("h6",null,"Tipo de Menu"),o.a.createElement("div",{className:"p-formgroup-inline"},o.a.createElement("div",{className:"field-radiobutton"},o.a.createElement(h.a,{inputId:"static",name:"layoutMode",value:"static",onChange:a=>e.onLayoutModeChange(a.value),checked:"static"===e.layoutMode}),o.a.createElement("label",{htmlFor:"static"},"Estatico")),o.a.createElement("div",{className:"field-radiobutton"},o.a.createElement(h.a,{inputId:"overlay",name:"layoutMode",value:"overlay",onChange:a=>e.onLayoutModeChange(a.value),checked:"overlay"===e.layoutMode}),o.a.createElement("label",{htmlFor:"overlay"},"Dinamico"))),o.a.createElement("h6",null,"Tema"),o.a.createElement("div",{className:"p-formgroup-inline"},o.a.createElement("div",{className:"field-radiobutton"},o.a.createElement(h.a,{inputId:"light",name:"layoutColorMode",value:"light",onChange:e=>O(e,"saga"),checked:"light"===e.layoutColorMode}),o.a.createElement("label",{htmlFor:"light"},"Claro")),o.a.createElement("div",{className:"field-radiobutton"},o.a.createElement(h.a,{inputId:"dim",name:"layoutColorMode",value:"dim",onChange:e=>O(e,"vela"),checked:"dim"===e.layoutColorMode}),o.a.createElement("label",{htmlFor:"dark"},"Noche")),o.a.createElement("div",{className:"field-radiobutton"},o.a.createElement(h.a,{inputId:"dark",name:"layoutColorMode",value:"dark",onChange:e=>O(e,"arya"),checked:"dark"===e.layoutColorMode}),o.a.createElement("label",{htmlFor:"dark"},"Oscuro"))),o.a.createElement("h6",null,"Colores Primarios"),o.a.createElement("div",{className:"flex"},o.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-blue-500 mr-3 cursor-pointer",onClick:e=>j(0,"blue")}),o.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-green-500 mr-3 cursor-pointer",onClick:e=>j(0,"green")}),o.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-orange-500 mr-3 cursor-pointer",onClick:e=>j(0,"orange")}),o.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-purple-500 mr-3 cursor-pointer",onClick:e=>j(0,"purple")}))))},v=()=>o.a.createElement("div",{className:"grid"},o.a.createElement("h1",null,"Estamos trabajando - En el Tablero"));var C=t(15),w=t(2),k=t(20),S=t(33),O=t(17),j=t(4),x=t(14),L=t(7),M=t(19),P=t(28),I=t.n(P),R=t(5),F=t.n(R);const A=()=>F.a.get("https://magic-tech-backend.herokuapp.com/api/getRoles"),T=e=>{let a={id:null,rol:""};const[t,r]=Object(l.useState)(null),[n,c]=Object(l.useState)(!1),[s,i]=Object(l.useState)(!1),[m,d]=Object(l.useState)(""),[u,p]=Object(l.useState)(!0),[g,b]=Object(l.useState)(a),[E,f]=Object(l.useState)(null),[h,N]=Object(l.useState)(!1),v=Object(l.useRef)(null),P=Object(l.useRef)(null),[R,T]=Object(l.useState)(!1),[D,z]=Object(l.useState)(!1),[q,U]=Object(l.useState)(""),G=Object(M.a)({initialValues:{rol:""},validate:e=>{let a={};return e.rol?e.rol.length<2?a.rol="Como minimo 2 caracteres":e.rol.length>30?a.rol="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.rol)?($(e.rol,q)||!0!==R)&&(Z(e.rol)||!1!==R)||(a.rol="Ya existe el rol"):a.rol="No se permiten numero o caracteres especiales":a.rol="Se requiere el rol",a},onSubmit:e=>{N(!0),z(!0);let l=[...t],o={...g};if(o.rol=e.rol,o.rol.trim())if(g.id){b({...g}),console.log(g);l[Y(g.id)]=o,((e,a)=>{F.a.put("https://magic-tech-backend.herokuapp.com/api/updateRol/".concat(a),{rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({rol:"".concat(o.rol)},g.id),v.current.show({severity:"success",summary:"Successful",detail:"Rol Actualizado",life:3e3})}else o.id=I()("rol-"),l.push(o),(e=>{F.a.post("https://magic-tech-backend.herokuapp.com/api/createRol",{id:"".concat(e.id),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:o.id,rol:"".concat(o.rol)}),v.current.show({severity:"success",summary:"Successful",detail:"Rol Creado",life:3e3});r(l),c(!1),b(a),G.resetForm()}}),Z=e=>void 0===[...t].find(a=>a.rol.toLowerCase().trim()===e.toLowerCase().trim()),$=(e,a)=>{let l=[...t].filter(e=>e.rol.toLowerCase()!=a.toLowerCase()).find(a=>a.rol.toLowerCase().trim()===e.toLowerCase().trim());return void 0===l||l===a};Object(l.useEffect)(()=>{V()},[]);const V=()=>{A().then(e=>{e.error?console.log("Error"):(console.log("---------roles insertados-----------"),r(e.data),p(!1))})},H=()=>{b(a),N(!1),T(!1),G.resetForm(),c(!0)},B=()=>{N(!1),c(!1)},K=()=>{i(!1)},Y=e=>{let a=-1;for(let l=0;l<t.length;l++)if(t[l].id===e){a=l;break}return a},_=o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:K}),o.a.createElement(y.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=t.filter(e=>e.id!==g.id);var l;r(e),i(!1),g.rol.trim()&&g.id&&(l=g.id,F.a.delete("https://magic-tech-backend.herokuapp.com/api/deleteRolId/".concat(l))),b(a),v.current.show({severity:"success",summary:"Successful",detail:"Rol Eliminado",life:3e3})}})),W=o.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},o.a.createElement("h5",{className:"m-0"},"Gestion de roles"),o.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},o.a.createElement("i",{className:"pi pi-search"}),o.a.createElement(j.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),J=o.a.createElement(x.a,null,o.a.createElement(L.a,null,o.a.createElement(w.a,{header:W,colSpan:3})),o.a.createElement(L.a,null,o.a.createElement(w.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"ROL",field:"rol",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return o.a.createElement("div",{className:"p-grid crud-demo"},o.a.createElement("div",{className:"p-col-12"},o.a.createElement("div",{className:"card"},o.a.createElement(k.a,{ref:v}),o.a.createElement(S.a,{className:"p-mb-4",left:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:H}))}),o.a.createElement(C.a,{ref:P,value:t,selection:E,onSelectionChange:e=>f(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} roles",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:u,headerColumnGroup:J},o.a.createElement(w.a,{style:{width:"20%"},header:"ID",field:"id",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),o.a.createElement(w.a,{style:{width:"20%"},header:"ROL",field:"rol",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Rol"),e.rol)}),o.a.createElement(w.a,{style:{width:"20%"},body:e=>o.a.createElement("div",{className:"actions"},o.a.createElement(y.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{b({...e}),G.resetForm(),G.setValues({rol:"".concat(e.rol)}),U("".concat(e.rol)),T(!0),c(!0)})(e)}),o.a.createElement(y.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{b(e),i(!0)})(e)}))})),o.a.createElement(O.a,{visible:n,style:{width:"450px"},header:()=>R?"Actualizando Rol":"A\xf1adir Rol",modal:!0,className:"p-fluid",onHide:B},o.a.createElement("form",{onSubmit:G.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/rol.png":"assets/layout/images/rol-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(j.a,{id:"rol",type:"text",name:"rol",value:G.values.rol,onChange:G.handleChange,placeholder:"Rol",autoFocus:!0}))),(e=>!(!G.touched[e]||!G.errors[e]))(Q="rol")&&o.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},G.errors[Q])),o.a.createElement("div",{className:"mt-2"},o.a.createElement("div",{className:"flex justify-content-center flex-wrap"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:B,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",style:{background:"#13af4e",color:"#ffffff"}})))))),o.a.createElement(O.a,{visible:s,style:{width:"450px"},header:"Confirm",modal:!0,footer:_,onHide:K},o.a.createElement("div",{className:"confirmation-content"},o.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),g&&o.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",o.a.createElement("b",null,g.rol),"?"))))));var Q};var D=t(24),z=t(18);const q=()=>F.a.get("https://magic-tech-backend.herokuapp.com/api/getUsers");const U=e=>{let a={id:null,nombre:"",apellido:"",email:"",password:"",rol:""};const[t,r]=Object(l.useState)(null),[n,c]=Object(l.useState)(null),[s,i]=Object(l.useState)(null),[m,d]=Object(l.useState)(""),[u,p]=Object(l.useState)(!0),[g,b]=Object(l.useState)(!1),[E,f]=Object(l.useState)(!1),[h,N]=Object(l.useState)(a),[v,P]=Object(l.useState)(null),[R,T]=Object(l.useState)(!1),U=Object(l.useRef)(null),G=Object(l.useRef)(null),[Z,$]=Object(l.useState)(!1),[V,H]=Object(l.useState)(""),B=Object(M.a)({initialValues:{nombre:"",apellido:"",email:"",password:"",confirmPassword:"",rol:""},validate:e=>{let a={};return e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)||(a.nombre="No se permiten numero o caracteres especiales"):a.nombre="Se requiere el nombre",e.apellido?e.apellido.length<2?a.apellido="Como minimo 2 caracteres":e.apellido.length>30?a.apellido="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.apellido)||(a.apellido="No se permiten numero o caracteres especiales"):a.apellido="Se requiere el apellido",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?(Y(e.email)||!1!==Z)&&(_(e.email,V)||!0!==Z)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.rol||(a.rol="Se requiere el rol"),a},onSubmit:e=>{if(!0===R){let t=[...s],l={...h};if(l.nombre=e.nombre,l.apellido=e.apellido,l.email=e.email,l.password=e.password,l.rol=e.rol,l.nombre.trim())if(h.id){N({...h});t[ae(h.id)]=l,((e,a)=>{F.a.put("https://magic-tech-backend.herokuapp.com/api/updateUser/".concat(a),{nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({nombre:"".concat(l.nombre),apellido:"".concat(l.apellido),email:"".concat(l.email),password:"".concat(l.password),rol:"".concat(l.rol)},h.id),U.current.show({severity:"success",summary:"Successful",detail:"Usuario Actualizado",life:3e3})}else l.id=I()("user-"),t.push(l),(e=>{F.a.post("https://magic-tech-backend.herokuapp.com/api/createUser",{id:"".concat(e.id),nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(l.id),nombre:"".concat(l.nombre),apellido:"".concat(l.apellido),email:"".concat(l.email),password:"".concat(l.password),rol:"".concat(l.rol)}),U.current.show({severity:"success",summary:"Successful",detail:"usuario Creado",life:3e3});i(t),b(!1),N(a),B.resetForm()}}}),K=e=>(e=>!(!B.touched[e]||!B.errors[e]))(e)&&o.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},B.errors[e]),Y=e=>void 0===[...s].find(a=>a.email.toLowerCase()===e.toLowerCase()),_=(e,a)=>{let t=[...s].filter(e=>e.email.toLowerCase()!=a.toLowerCase()).find(a=>a.email.toLowerCase()===e.toLowerCase());return void 0===t||t===a};Object(l.useEffect)(()=>{W()},[]);const W=()=>{A().then(e=>{e.error?console.log("Error"):(console.log("---------roles insertados-----------"),r(e.data))})};Object(l.useEffect)(()=>{J()},[]);const J=()=>{q().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),i(e.data),p(!1))})},Q=()=>{N(a),B.resetForm(),T(!1),$(!1),b(!0)},X=()=>{T(!1),b(!1)},ee=()=>{f(!1)},ae=e=>{let a=-1;for(let t=0;t<s.length;t++)if(s[t].id===e){a=t;break}return a},te=o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:ee}),o.a.createElement(y.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=s.filter(e=>e.id!==h.id);var t;i(e),f(!1),h.email.trim()&&h.id&&(t=h.id,F.a.delete("https://magic-tech-backend.herokuapp.com/api/deleteUserId/".concat(t))),N(a),U.current.show({severity:"success",summary:"Successful",detail:"Usuario Eliminado",life:3e3})}})),le=o.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},o.a.createElement("h5",{className:"m-0"},"Gestion de usuarios"),o.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},o.a.createElement("i",{className:"pi pi-search"}),o.a.createElement(j.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),oe=o.a.createElement(x.a,null,o.a.createElement(L.a,null,o.a.createElement(w.a,{header:le,colSpan:6})),o.a.createElement(L.a,null,o.a.createElement(w.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"15%"}}),o.a.createElement(w.a,{header:"NOMBRE",field:"nombre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"APELLIDO",field:"apellido",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"CORREO ELECTRONICO",field:"email",sortable:!0,style:{"background-color":"#13af4e",width:"60%"}}),o.a.createElement(w.a,{header:"ROL",field:"rol",sortable:!0,style:{"background-color":"#13af4e",width:"10%"}}),o.a.createElement(w.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"10%"}})));return o.a.createElement("div",{className:"p-grid crud-demo"},o.a.createElement("div",{className:"p-col-12"},o.a.createElement("div",{className:"card"},o.a.createElement(k.a,{ref:U}),o.a.createElement(S.a,{className:"p-mb-4",left:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:Q}))}),o.a.createElement(C.a,{ref:G,value:s,selection:v,onSelectionChange:e=>P(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:u,headerColumnGroup:oe},o.a.createElement(w.a,{style:{width:"15%"},field:"id",header:"ID",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),o.a.createElement(w.a,{style:{width:"20%"},field:"nombre",header:"APELLIDO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),o.a.createElement(w.a,{style:{width:"20%"},field:"apellido",header:"NOMBRE",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Apellido"),e.apellido)}),o.a.createElement(w.a,{style:{width:"60%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)}),o.a.createElement(w.a,{style:{width:"10%"},field:"rol",header:"ROL",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Rol"),e.rol)}),o.a.createElement(w.a,{style:{width:"10%"},body:e=>o.a.createElement("div",{className:"actions"},o.a.createElement(y.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{N({...e}),T(!0),B.resetForm(),B.setValues({nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),confirmPassword:"".concat(e.password),rol:"".concat(e.rol)}),H("".concat(e.email)),$(!0),b(!0)})(e)}),o.a.createElement(y.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{N(e),f(!0)})(e)}))})),o.a.createElement(O.a,{visible:g,style:{width:"450px"},header:()=>Z?"Actualizando usuario":"A\xf1adir Usuario",modal:!0,className:"p-fluid",onHide:X},o.a.createElement("form",{onSubmit:B.handleSubmit},o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-user"})),o.a.createElement(j.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:B.values.nombre,onChange:B.handleChange,autoFocus:!0}))),K("nombre"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-user"})),o.a.createElement(j.a,{id:"apellido",name:"apellido",placeholder:"Apellido",value:B.values.apellido,onChange:B.handleChange}))),K("apellido"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(j.a,{id:"email",name:"email",placeholder:"Correo electronico",value:B.values.email,onChange:B.handleChange}))),K("email"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(D.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:B.values.password,onChange:B.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),K("password"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(D.a,{id:"rol",name:"confirmPassword",placeholder:"Confirmar contrase\xf1a",value:B.values.confirmPassword,onChange:B.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),K("confirmPassword"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/rol.png":"assets/layout/images/rol-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(z.a,{id:"rol",name:"rol",placeholder:"Seleccione un rol",value:B.values.rol,onChange:B.handleChange,options:t,optionLabel:"rol",optionValue:"id"}))),K("rol"),o.a.createElement("div",{className:"mt-2"},o.a.createElement("div",{className:"flex justify-content-center flex-wrap"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:X,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{T(!0),B.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),o.a.createElement(O.a,{className:"mt-2",visible:E,style:{width:"450px"},header:"Confirm",modal:!0,footer:te,onHide:ee},o.a.createElement("div",{className:"confirmation-content"},o.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),h&&o.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",o.a.createElement("b",null,h.nombre)," ",o.a.createElement("b",null,h.apellido),"?"))))))};var G=t(41);const Z=()=>F.a.get("https://magic-tech-backend.herokuapp.com/api/getEmpresas"),$=e=>{let a={id:null,nombre:"",nombreCorto:"",nombreLargo:"",tipoSociedad:"",direccion:"",email:"",password:"",informacion:"",user:""};const[t,r]=Object(l.useState)(null),[n,c]=Object(l.useState)(null),[s,i]=Object(l.useState)(!1),[m,d]=Object(l.useState)(""),[u,p]=Object(l.useState)(!0),[g,b]=Object(l.useState)(!1),[E,f]=Object(l.useState)(a),[h,N]=Object(l.useState)(null),[v,P]=Object(l.useState)(!1),R=Object(l.useRef)(null),A=Object(l.useRef)(null),[T,U]=Object(l.useState)(!1),[$,V]=Object(l.useState)(""),[H,B]=Object(l.useState)(""),K=Object(M.a)({initialValues:{nombre:"",nombreCorto:"",nombreLargo:"",tipoSociedad:"",direccion:"",email:"",password:"",confirmPassword:"",informacion:"",user:""},validate:e=>{let a={};return e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)?(J(e.nombre)||!1!==T)&&(Q(e.nombre,H)||!0!==T)||(a.nombre="Ya existe el nombre de la empresa"):a.nombre="No se permiten numero o caracteres especiales":a.nombre="Se requiere el nombre",e.nombreCorto?e.nombreCorto.length<2?a.nombreCorto="Como minimo 2 caracteres":e.nombreCorto.length>30?a.nombreCorto="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreCorto)||(a.nombreCorto="No se permiten numero o caracteres especiales"):a.nombreCorto="Se requiere el nombre corto",e.nombreLargo?e.nombreLargo.length<2?a.nombreLargo="Como minimo 2 caracteres":e.nombreLargo.length>50?a.nombreLargo="Como maximo 50 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreLargo)||(a.nombreLargo="No se permiten numero o caracteres especiales"):a.nombreLargo="Se requiere el nombre largo",e.tipoSociedad?e.tipoSociedad.length<2?a.tipoSociedad="Como minimo 2 caracteres":e.tipoSociedad.length>30?a.tipoSociedad="Como maximo 30 caracteres":/^^[a-zA-Z.\s]+$/i.test(e.tipoSociedad)||(a.tipoSociedad="No se permiten numero o caracteres especiales"):a.tipoSociedad="Se requiere el tipo de sociedad",e.direccion?e.direccion.length<2?a.direccion="Como minimo 2 caracteres":e.direccion.length>50?a.direccion="Como maximo 50 caracteres":/^^[a-zA-Z0-9.\s]+$/i.test(e.direccion)||(a.direccion="No se permiten numero o caracteres especiales"):a.direccion="Se requiere la direccion",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?(_(e.email)||!1!==T)&&(W(e.email,$)||!0!==T)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.informacion?e.informacion.length<2?a.informacion="Como minimo 2 caracteres":e.informacion.length>255?a.informacion="Como maximo 255 caracteres":/^^[a-zA-Z0-9.\s]+$/i.test(e.informacion)||(a.informacion="No se permiten numero o caracteres especiales"):a.informacion="Se requiere la informacion de la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario",a},onSubmit:e=>{if(!0===v){let t=[...n],l={...E};if(l.nombre=e.nombre,l.nombreCorto=e.nombreCorto,l.nombreLargo=e.nombreLargo,l.tipoSociedad=e.tipoSociedad,l.direccion=e.direccion,l.email=e.email,l.password=e.password,l.confirmPassword=e.confirmPassword,l.informacion=e.informacion,l.user=e.user,l.nombre.trim())if(E.id){f({...E}),console.log(E);t[oe(E.id)]=l,((e,a)=>{F.a.put("https://magic-tech-backend.herokuapp.com/api/updateEmpresa/".concat(a),{nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),informacion:"".concat(e.informacion),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({nombre:"".concat(l.nombre),nombreCorto:"".concat(l.nombreCorto),nombreLargo:"".concat(l.nombreLargo),tipoSociedad:"".concat(l.tipoSociedad),direccion:"".concat(l.direccion),email:"".concat(l.email),password:"".concat(l.password),informacion:"".concat(l.informacion),user:"".concat(l.user)},E.id),R.current.show({severity:"success",summary:"Successful",detail:"Empresa Actualizado",life:3e3})}else l.id=I()("empresa-"),t.push(l),console.log({id:"".concat(l.id),nombre:"".concat(l.nombre),nombreCorto:"".concat(l.nombreCorto),nombreLargo:"".concat(l.nombreLargo),tipoSociedad:"".concat(l.tipoSociedad),direccion:"".concat(l.direccion),email:"".concat(l.email),password:"".concat(l.password),informacion:"".concat(l.informacion),user:"".concat(l.user)}),(e=>{F.a.post("https://magic-tech-backend.herokuapp.com/api/createEmpresa",{id:"".concat(e.id),nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),informacion:"".concat(e.informacion),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(l.id),nombre:"".concat(l.nombre),nombreCorto:"".concat(l.nombreCorto),nombreLargo:"".concat(l.nombreLargo),tipoSociedad:"".concat(l.tipoSociedad),direccion:"".concat(l.direccion),email:"".concat(l.email),password:"".concat(l.password),informacion:"".concat(l.informacion),user:"".concat(l.user)}),R.current.show({severity:"success",summary:"Successful",detail:"Empresa Creado",life:3e3});c(t),i(!1),f(a),K.resetForm()}}}),Y=e=>(e=>!(!K.touched[e]||!K.errors[e]))(e)&&o.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},K.errors[e]),_=e=>void 0===[...n].find(a=>a.email.toLowerCase()===e.toLowerCase()),W=(e,a)=>{let t=[...n].filter(e=>e.email.toLowerCase()!=a.toLowerCase()).find(a=>a.email.toLowerCase()===e.toLowerCase());return void 0===t||t===a},J=e=>void 0===[...n].find(a=>a.nombre.toLowerCase().trim()===e.toLowerCase().trim()),Q=(e,a)=>{let t=[...n].filter(e=>e.nombre.toLowerCase().trim()!=a.toLowerCase().trim()).find(a=>a.nombre.toLowerCase().trim()===e.toLowerCase().trim());return void 0===t||t===a};Object(l.useEffect)(()=>{X()},[]);const X=()=>{q().then(e=>{e.error?console.log("Error"):(console.log("---------Usuarios insertados-----------"),r(e.data))})};Object(l.useEffect)(()=>{ee()},[]);const ee=()=>{Z().then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertados-----------"),c(e.data),p(!1))})};Object(l.useEffect)(()=>{console.log(T)},[T]);const ae=()=>{f(a),K.resetForm(),P(!1),U(!1),i(!0)},te=()=>{P(!1),i(!1)},le=()=>{b(!1)},oe=e=>{let a=-1;for(let t=0;t<n.length;t++)if(n[t].id===e){a=t;break}return a},re=o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:le}),o.a.createElement(y.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=n.filter(e=>e.id!==E.id);var t;c(e),b(!1),E.email.trim()&&E.id&&(t=E.id,F.a.delete("https://magic-tech-backend.herokuapp.com/api/deleteEmpresaId/".concat(t))),f(a),R.current.show({severity:"success",summary:"Successful",detail:"Empresa Eliminada",life:3e3})}})),ne=o.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},o.a.createElement("h5",{className:"m-0"},"Gestion de empresas"),o.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},o.a.createElement("i",{className:"pi pi-search"}),o.a.createElement(j.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),ce=o.a.createElement(x.a,null,o.a.createElement(L.a,null,o.a.createElement(w.a,{header:ne,colSpan:7})),o.a.createElement(L.a,null,o.a.createElement(w.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"NOMBRE",field:"nombre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"SOCIEDAD",field:"tipoSociedad",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"DIRECCION",field:"direccion",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"CORREO ELECTRONICO",field:"email",sortable:!0,style:{"background-color":"#13af4e",width:"25%"}}),o.a.createElement(w.a,{header:"USUARIO",field:"user",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return o.a.createElement("div",{className:"p-grid crud-demo"},o.a.createElement("div",{className:"p-col-12"},o.a.createElement("div",{className:"card"},o.a.createElement(k.a,{ref:R}),o.a.createElement(S.a,{className:"",left:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:ae}))}),o.a.createElement(C.a,{ref:A,value:n,selection:h,onSelectionChange:e=>N(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:u,headerColumnGroup:ce},o.a.createElement(w.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),o.a.createElement(w.a,{style:{width:"20%"},field:"nombre",header:"NOMBRE",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),o.a.createElement(w.a,{style:{width:"20%"},field:"tipoSociedad",header:"SOCIEDAD",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Tipo Sociedad"),e.tipoSociedad)}),o.a.createElement(w.a,{style:{width:"20%"},field:"direccion",header:"DIRECCION",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Direccion"),e.direccion)}),o.a.createElement(w.a,{style:{width:"25%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)}),o.a.createElement(w.a,{style:{width:"20%"},field:"user",header:"USUARIO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Usuario"),e.user)}),o.a.createElement(w.a,{style:{width:"20%"},body:e=>o.a.createElement("div",{className:"actions"},o.a.createElement(y.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),P(!0),K.resetForm(),K.setValues({nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),confirmPassword:"".concat(e.password),informacion:"".concat(e.informacion),user:"".concat(e.user)}),V("".concat(e.email)),B("".concat(e.nombre)),U(!0),i(!0)})(e)}),o.a.createElement(y.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),b(!0)})(e)}))})),o.a.createElement(O.a,{visible:s,style:{width:"450px"},header:()=>T?"Actualizando Empresa":"A\xf1adir Empresa",modal:!0,className:"p-fluid",onHide:te},o.a.createElement("form",{onSubmit:K.handleSubmit},o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-user"})),o.a.createElement(j.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:K.values.nombre,onChange:K.handleChange,autoFocus:!0}))),Y("nombre"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-user"})),o.a.createElement(j.a,{id:"nombreCorto",name:"nombreCorto",placeholder:"Nombre Corto",value:K.values.nombreCorto,onChange:K.handleChange}))),Y("nombreCorto"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-user"})),o.a.createElement(j.a,{id:"nombreLargo",name:"nombreLargo",placeholder:"Nombre Largo",value:K.values.nombreLargo,onChange:K.handleChange}))),Y("nombreLargo"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-briefcase"})),o.a.createElement(z.a,{id:"tipoSociedad",name:"tipoSociedad",placeholder:"Seleccione el tipo de sociedad",value:K.values.tipoSociedad,onChange:K.handleChange,options:[{name:"Sociedad de Responsabilidad Limitada",tipo:"S.R.L."},{name:"Sociedad An\xf3nima",tipo:"S.A."},{name:"Sociedad Colectiva",tipo:"S.C."},{name:"Sociedad An\xf3nima Mixta o de Econom\xeda Mixta",tipo:"S.A.M."},{name:"Sociedad en Comandita Simple",tipo:"S.C.S."}],optionLabel:"tipo",optionValue:"tipo"}))),Y("tipoSociedad"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-map-marker"})),o.a.createElement(j.a,{id:"direccion",name:"direccion",placeholder:"Direccion",value:K.values.direccion,onChange:K.handleChange}))),Y("direccion"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(j.a,{id:"email",name:"email",placeholder:"Correo electronico",value:K.values.email,onChange:K.handleChange}))),Y("email"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(D.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:K.values.password,onChange:K.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),Y("password"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(D.a,{id:"confirmPassword",name:"confirmPassword",placeholder:"Confirmar contrase\xf1a",value:K.values.confirmPassword,onChange:K.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),Y("confirmPassword"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-info"})),o.a.createElement(G.a,{id:"informacion",name:"informacion",placeholder:"Informacion",value:K.values.informacion,onChange:K.handleChange}))),Y("informacion"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-user"})),o.a.createElement(z.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:K.values.user,onChange:K.handleChange,options:t,optionLabel:"nombre",optionValue:"id"}))),Y("user"),o.a.createElement("div",{className:"mt-2"},o.a.createElement("div",{className:"flex justify-content-center flex-wrap"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:te,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{P(!0),K.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),o.a.createElement(O.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:re,onHide:le},o.a.createElement("div",{className:"confirmation-content"},o.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&o.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",o.a.createElement("b",null,E.nombre)," ",o.a.createElement("b",null,E.tipoSociedadad),"?"))))))},V=e=>{let a={id:null,titulo:"",codigo:"",semestre:"",link:"",estado:"",user:""};const[t,r]=Object(l.useState)(null),[n,c]=Object(l.useState)(null),[s,i]=Object(l.useState)(""),[m,d]=Object(l.useState)(!0),[u,p]=Object(l.useState)(!1),[g,b]=Object(l.useState)(!1),[E,f]=Object(l.useState)(a),[h,N]=Object(l.useState)(null),[v,P]=Object(l.useState)(!1),R=Object(l.useRef)(null),A=Object(l.useRef)(null),[T,D]=Object(l.useState)(!1),[U,Z]=Object(l.useState)(""),$=Object(M.a)({initialValues:{titulo:"",codigo:"",semestre:"",link:"",estado:"",user:""},validate:e=>{let a={};return e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(V(e.codigo)||!1!==T)&&(H(e.codigo,U)||!0!==T)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.estado||(a.estado="Se requiere el estado"),e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario",a},onSubmit:e=>{if(!0===v){let l=[...t],o={...E};if(o.titulo=e.titulo,o.codigo=e.codigo,o.semestre=e.semestre,o.link=e.link,o.estado=e.estado,o.user=e.user,o.titulo.trim())if(E.id){f({...E});l[Q(E.id)]=o,((e,a)=>{F.a.put("https://magic-tech-backend.herokuapp.com/api/updateConvocatoria/".concat(a),{titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),estado:"".concat(o.estado),user:"".concat(o.user)},E.id),R.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Actualizada",life:3e3})}else o.id=I()("conv-"),l.push(o),console.log({id:"".concat(o.id),titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),estado:"".concat(o.estado),user:"".concat(o.user)}),(e=>{F.a.post("https://magic-tech-backend.herokuapp.com/api/createConvocatoria",{id:"".concat(e.id),titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),estado:"".concat(o.estado),user:"".concat(o.user)}),R.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Creada",life:3e3});r(l),p(!1),f(a),$.resetForm()}}}),V=e=>void 0===[...t].find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim()),H=(e,a)=>{let l=[...t].filter(e=>e.codigo.toLowerCase()!=a.toLowerCase()).find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim());return void 0===l||l===a},B=e=>(e=>!(!$.touched[e]||!$.errors[e]))(e)&&o.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},$.errors[e]);Object(l.useEffect)(()=>{K()},[]);const K=()=>{F.a.get("https://magic-tech-backend.herokuapp.com/api/getConvocatorias").then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertados-----------"),r(e.data),d(!1))})};Object(l.useEffect)(()=>{Y()},[]);const Y=()=>{q().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),c(e.data))})};Object(l.useEffect)(()=>{console.log(T)},[T]);const _=()=>{f(a),$.resetForm(),P(!1),D(!1),p(!0)},W=()=>{P(!1),p(!1)},J=()=>{b(!1)},Q=e=>{let a=-1;for(let l=0;l<t.length;l++)if(t[l].id===e){a=l;break}return a},X=o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:J}),o.a.createElement(y.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=t.filter(e=>e.id!==E.id);var l;r(e),b(!1),E.titulo.trim()&&E.id&&(l=E.id,F.a.delete("https://magic-tech-backend.herokuapp.com/api/deleteConvocatoriaId/".concat(l))),f(a),R.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Eliminada",life:3e3})}})),ee=o.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},o.a.createElement("h5",{className:"m-0"},"Gestion de convocatorias"),o.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},o.a.createElement("i",{className:"pi pi-search"}),o.a.createElement(j.a,{type:"search",onInput:e=>i(e.target.value),placeholder:"Buscar..."}))),ae=o.a.createElement(x.a,null,o.a.createElement(L.a,null,o.a.createElement(w.a,{header:ee,colSpan:8})),o.a.createElement(L.a,null,o.a.createElement(w.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"CODIGO",field:"codigo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"SEMESTRE",field:"semestre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"LINK",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"40%"}}),o.a.createElement(w.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"USUARIO",field:"user",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return o.a.createElement("div",{className:"p-grid crud-demo"},o.a.createElement("div",{className:"p-col-12"},o.a.createElement("div",{className:"card"},o.a.createElement(k.a,{ref:R}),o.a.createElement(S.a,{className:"",left:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:_}))}),o.a.createElement(C.a,{headerColumnGroup:ae,ref:A,value:t,selection:h,onSelectionChange:e=>N(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:s,emptyMessage:"No se encontro el rol",loading:m,headerColumnGroup:ae},o.a.createElement(w.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),o.a.createElement(w.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),o.a.createElement(w.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),o.a.createElement(w.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),o.a.createElement(w.a,{style:{width:"40%"},field:"link",header:"LINK",sortable:!0,body:a=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Link"),o.a.createElement(y.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),o.a.createElement(w.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),o.a.createElement(w.a,{style:{width:"20%"},field:"user",header:"USER",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"User"),e.user)}),o.a.createElement(w.a,{style:{width:"20%"},body:e=>o.a.createElement("div",{className:"actions"},o.a.createElement(y.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),P(!0),$.resetForm(),$.setValues({titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}),Z("".concat(e.codigo)),D(!0),p(!0)})(e)}),o.a.createElement(y.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),b(!0)})(e)}))})),o.a.createElement(O.a,{visible:u,style:{width:"450px"},header:()=>T?"Actualizando convocatoria":"A\xf1adir convocatoria",modal:!0,className:"p-fluid",onHide:W},o.a.createElement("form",{onSubmit:$.handleSubmit},o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/title.png":"assets/layout/images/title-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(j.a,{id:"titulo",name:"titulo",placeholder:"Titulo",value:$.values.titulo,onChange:$.handleChange,autoFocus:!0}))),B("titulo"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(j.a,{id:"codigo",name:"codigo",placeholder:"Codigo",value:$.values.codigo,onChange:$.handleChange}))),B("codigo"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-calendar"})),o.a.createElement(z.a,{id:"semestre",name:"semestre",placeholder:"Seleccione el semestre",value:$.values.semestre,onChange:$.handleChange,options:[{name:"I-2020"},{name:"II-2020"},{name:"I-2021"},{name:"II-2021"},{name:"I-2022"},{name:"II-2022"}],optionLabel:"name",optionValue:"name"}))),B("semestre"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-link"})),o.a.createElement(G.a,{id:"link",name:"link",placeholder:"Link",value:$.values.link,onChange:$.handleChange}))),B("link"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/post.png":"assets/layout/images/post-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(z.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:$.values.estado,onChange:$.handleChange,options:[{name:"Publicar"},{name:"No publicado"}],optionLabel:"name",optionValue:"name"}))),B("estado"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-user"})),o.a.createElement(z.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:$.values.user,onChange:$.handleChange,options:n,optionLabel:"nombre",optionValue:"id"}))),B("user"),o.a.createElement("div",{className:"mt-2"},o.a.createElement("div",{className:"flex justify-content-center flex-wrap"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:W,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{P(!0),$.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),o.a.createElement(O.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:X,onHide:J},o.a.createElement("div",{className:"confirmation-content"},o.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&o.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",o.a.createElement("b",null,E.titulo)," ",o.a.createElement("b",null,E.semestre),"?"))))))},H=e=>{let a={id:null,titulo:"",codigo:"",semestre:"",link:"",estado:"",user:""};const[t,r]=Object(l.useState)(null),[n,c]=Object(l.useState)(null),[s,i]=Object(l.useState)(""),[m,d]=Object(l.useState)(!0),[u,p]=Object(l.useState)(!1),[g,b]=Object(l.useState)(!1),[E,f]=Object(l.useState)(a),[h,N]=Object(l.useState)(null),[v,P]=Object(l.useState)(!1),R=Object(l.useRef)(null),A=Object(l.useRef)(null),[T,D]=Object(l.useState)(!1),[U,Z]=Object(l.useState)(""),$=Object(M.a)({initialValues:{titulo:"",codigo:"",semestre:"",link:"",estado:"",user:""},validate:e=>{let a={};return e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(V(e.codigo)||!1!==T)&&(H(e.codigo,U)||!0!==T)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.estado||(a.estado="Se requiere el estado"),e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario",a},onSubmit:e=>{if(!0===v){let l=[...t],o={...E};if(o.titulo=e.titulo,o.codigo=e.codigo,o.semestre=e.semestre,o.link=e.link,o.estado=e.estado,o.user=e.user,o.titulo.trim())if(E.id){f({...E});l[Q(E.id)]=o,((e,a)=>{F.a.put("https://magic-tech-backend.herokuapp.com/api/updatePliego/".concat(a),{titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),estado:"".concat(o.estado),user:"".concat(o.user)},E.id),R.current.show({severity:"success",summary:"Successful",detail:"Pliego de especificaciones Actualizada",life:3e3})}else o.id=I()("plieg-"),l.push(o),(e=>{F.a.post("https://magic-tech-backend.herokuapp.com/api/createPliego",{id:"".concat(e.id),titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),estado:"".concat(o.estado),user:"".concat(o.user)}),R.current.show({severity:"success",summary:"Successful",detail:"Pliego de especificaciones Creada",life:3e3});r(l),p(!1),f(a),$.resetForm()}}}),V=e=>void 0===[...t].find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim()),H=(e,a)=>{let l=[...t].filter(e=>e.codigo.toLowerCase().trim()!=a.toLowerCase().trim()).find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim());return void 0===l||l===a},B=e=>(e=>!(!$.touched[e]||!$.errors[e]))(e)&&o.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},$.errors[e]);Object(l.useEffect)(()=>{K()},[]);const K=()=>{F.a.get("https://magic-tech-backend.herokuapp.com/api/getPliegos").then(e=>{e.error?console.log("Error"):(console.log("---------Pliego de espeficiaciones insertados-----------"),r(e.data),d(!1))})};Object(l.useEffect)(()=>{Y()},[]);const Y=()=>{q().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),c(e.data))})};Object(l.useEffect)(()=>{console.log(T)},[T]);const _=()=>{f(a),$.resetForm(),P(!1),D(!1),p(!0)},W=()=>{P(!1),p(!1)},J=()=>{b(!1)},Q=e=>{let a=-1;for(let l=0;l<t.length;l++)if(t[l].id===e){a=l;break}return a},X=o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:J}),o.a.createElement(y.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=t.filter(e=>e.id!==E.id);var l;r(e),b(!1),E.titulo.trim()&&E.id&&(l=E.id,F.a.delete("https://magic-tech-backend.herokuapp.com/api/deletePliegoId/".concat(l))),f(a),R.current.show({severity:"success",summary:"Successful",detail:"Pliego de espeficiacion Eliminada",life:3e3})}})),ee=o.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},o.a.createElement("h5",{className:"m-0"},"Gestion de pliego de especificaciones"),o.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},o.a.createElement("i",{className:"pi pi-search"}),o.a.createElement(j.a,{type:"search",onInput:e=>i(e.target.value),placeholder:"Buscar..."}))),ae=o.a.createElement(x.a,null,o.a.createElement(L.a,null,o.a.createElement(w.a,{header:ee,colSpan:8})),o.a.createElement(L.a,null,o.a.createElement(w.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"CODIGO",field:"codigo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"SEMESTRE",field:"semestre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"LINK",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"40%"}}),o.a.createElement(w.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"USUARIO",field:"user",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return o.a.createElement("div",{className:"p-grid crud-demo"},o.a.createElement("div",{className:"p-col-12"},o.a.createElement("div",{className:"card"},o.a.createElement(k.a,{ref:R}),o.a.createElement(S.a,{className:"",left:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:_}))}),o.a.createElement(C.a,{headerColumnGroup:ae,ref:A,value:t,selection:h,onSelectionChange:e=>N(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:s,emptyMessage:"No se encontro el rol",loading:m,headerColumnGroup:ae},o.a.createElement(w.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),o.a.createElement(w.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),o.a.createElement(w.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),o.a.createElement(w.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),o.a.createElement(w.a,{style:{width:"40%"},field:"link",header:"LINK",sortable:!0,body:a=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Link"),o.a.createElement(y.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),o.a.createElement(w.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),o.a.createElement(w.a,{style:{width:"20%"},field:"user",header:"USER",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"User"),e.user)}),o.a.createElement(w.a,{style:{width:"20%"},body:e=>o.a.createElement("div",{className:"actions"},o.a.createElement(y.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),P(!0),$.resetForm(),$.setValues({titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}),Z("".concat(e.codigo)),D(!0),p(!0)})(e)}),o.a.createElement(y.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),b(!0)})(e)}))})),o.a.createElement(O.a,{visible:u,style:{width:"450px"},header:()=>T?"Actualizando pliego de espeficiciones":"A\xf1adir pliego de espeficiciones",modal:!0,className:"p-fluid",onHide:W},o.a.createElement("form",{onSubmit:$.handleSubmit},o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/title.png":"assets/layout/images/title-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(j.a,{id:"titulo",name:"titulo",placeholder:"Titulo",value:$.values.titulo,onChange:$.handleChange,autoFocus:!0}))),B("titulo"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(j.a,{id:"codigo",name:"codigo",placeholder:"Codigo",value:$.values.codigo,onChange:$.handleChange}))),B("codigo"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-calendar"})),o.a.createElement(z.a,{id:"semestre",name:"semestre",placeholder:"Seleccione el semestre",value:$.values.semestre,onChange:$.handleChange,options:[{name:"I-2020"},{name:"II-2020"},{name:"I-2021"},{name:"II-2021"},{name:"I-2022"},{name:"II-2022"}],optionLabel:"name",optionValue:"name"}))),B("semestre"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-link"})),o.a.createElement(G.a,{id:"link",name:"link",placeholder:"Link",value:$.values.link,onChange:$.handleChange}))),B("link"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/post.png":"assets/layout/images/post-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(z.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:$.values.estado,onChange:$.handleChange,options:[{name:"Publicar"},{name:"No publicado"}],optionLabel:"name",optionValue:"name"}))),B("estado"),o.a.createElement("div",{className:"p-field mt-2"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-user"})),o.a.createElement(z.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:$.values.user,onChange:$.handleChange,options:n,optionLabel:"nombre",optionValue:"id"}))),B("user"),o.a.createElement("div",{className:"mt-2"},o.a.createElement("div",{className:"flex justify-content-center flex-wrap"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:W,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{P(!0),$.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),o.a.createElement(O.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:X,onHide:J},o.a.createElement("div",{className:"confirmation-content"},o.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&o.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",o.a.createElement("b",null,E.titulo)," ",o.a.createElement("b",null,E.semestre),"?"))))))},B=()=>o.a.createElement("div",{className:"grid"},o.a.createElement("h1",null,"Estamos trabajando - En los Avisos")),K=e=>{const[a,t]=Object(l.useState)(null),[r,n]=Object(l.useState)(""),[c,s]=Object(l.useState)(!0);Object(l.useEffect)(()=>{i()},[]);const i=()=>{Z().then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertados-----------"),t(e.data),s(!1))})},m=o.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},o.a.createElement("h5",{className:"m-0"},"Lista de empresas registradas en funda empresa"),o.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},o.a.createElement("i",{className:"pi pi-search"}),o.a.createElement(j.a,{type:"search",onInput:e=>n(e.target.value),placeholder:"Buscar..."}))),d=o.a.createElement(x.a,null,o.a.createElement(L.a,null,o.a.createElement(w.a,{header:m,colSpan:4})),o.a.createElement(L.a,null,o.a.createElement(w.a,{header:"NOMBRE",field:"nombre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"SOCIEDAD",field:"tipoSociedad",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"DIRECCION",field:"direccion",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"CORREO ELECTRONICO",field:"email",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}})));return o.a.createElement("div",{className:"grid table-demo"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"card"},o.a.createElement(C.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers ",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:r,emptyMessage:"No se encontraron empresas",loading:c,headerColumnGroup:d},o.a.createElement(w.a,{style:{width:"20%"},field:"nombre",header:"NOMBRE",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),o.a.createElement(w.a,{style:{width:"20%"},field:"tipoSociedad",header:"SOCIEDAD",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Tipo Sociedad"),e.tipoSociedad)}),o.a.createElement(w.a,{style:{width:"20%"},field:"direccion",header:"DIRECCION",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Direccion"),e.direccion)}),o.a.createElement(w.a,{style:{width:"25%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)})))))},Y=e=>{const[a,t]=Object(l.useState)(null),[r,n]=Object(l.useState)(""),[c,s]=Object(l.useState)(!0);Object(l.useEffect)(()=>{i()},[]);const i=()=>{F.a.get("https://magic-tech-backend.herokuapp.com/api/getConvocatoriasPublicados").then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertados-----------"),t(e.data),s(!1))})},m=o.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},o.a.createElement("h5",{className:"m-0"},"Lista de convocatorias publicadas"),o.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},o.a.createElement("i",{className:"pi pi-search"}),o.a.createElement(j.a,{type:"search",onInput:e=>n(e.target.value),placeholder:"Buscar..."}))),d=o.a.createElement(x.a,null,o.a.createElement(L.a,null,o.a.createElement(w.a,{header:m,colSpan:4})),o.a.createElement(L.a,null,o.a.createElement(w.a,{header:"NOMBRE",field:"TITULO",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"SOCIEDAD",field:"CODIGO",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"DIRECCION",field:"SEMESTRE",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"LINK",field:"LINK",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}})));return o.a.createElement("div",{className:"grid table-demo"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"card"},o.a.createElement(C.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:r,emptyMessage:"No se encontraron empresas",loading:c,headerColumnGroup:d},o.a.createElement(w.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),o.a.createElement(w.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),o.a.createElement(w.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),o.a.createElement(w.a,{style:{width:"25%"},field:"link",header:"LINK",sortable:!0,body:a=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Link"),o.a.createElement(y.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))})))))},_=e=>{const[a,t]=Object(l.useState)(null),[r,n]=Object(l.useState)(""),[c,s]=Object(l.useState)(!0);Object(l.useEffect)(()=>{i()},[]);const i=()=>{F.a.get("https://magic-tech-backend.herokuapp.com/api/getPliegosPublicados").then(e=>{e.error?console.log("Error"):(console.log("---------Pliegos insertados-----------"),t(e.data),s(!1))})},m=o.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},o.a.createElement("h5",{className:"m-0"},"Lista de pliegos de especificaciones publicadas"),o.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},o.a.createElement("i",{className:"pi pi-search"}),o.a.createElement(j.a,{type:"search",onInput:e=>n(e.target.value),placeholder:"Buscar..."}))),d=o.a.createElement(x.a,null,o.a.createElement(L.a,null,o.a.createElement(w.a,{header:m,colSpan:4})),o.a.createElement(L.a,null,o.a.createElement(w.a,{header:"NOMBRE",field:"TITULO",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"SOCIEDAD",field:"CODIGO",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"DIRECCION",field:"SEMESTRE",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),o.a.createElement(w.a,{header:"LINK",field:"LINK",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}})));return o.a.createElement("div",{className:"grid table-demo"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"card"},o.a.createElement(C.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:r,emptyMessage:"No se encontraron empresas",loading:c,headerColumnGroup:d},o.a.createElement(w.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),o.a.createElement(w.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),o.a.createElement(w.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),o.a.createElement(w.a,{style:{width:"25%"},field:"link",header:"LINK",sortable:!0,body:a=>o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-column-title"},"Link"),o.a.createElement(y.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))})))))};class W{getMenusAdmin(){return F.a.get("assets/demo/data/menuAdmin.json").then(e=>e.data.data)}getMenusUser(){return F.a.get("assets/demo/data/menuUser.json").then(e=>e.data.data)}getMenusDocente(){return F.a.get("assets/demo/data/menuDocente.json").then(e=>e.data.data)}}var J=t(13);t(177),t(178),t(179),t(180),t(181),t(182),t(183);var Q=()=>{const[e,a]=Object(l.useState)("static"),[t,r]=Object(l.useState)("light"),[n,c]=Object(l.useState)("outlined"),[d,b]=Object(l.useState)(!0),[E,h]=Object(l.useState)(!1),[y,C]=Object(l.useState)(!1),[w,k]=Object(l.useState)(!1),[S,O]=Object(l.useState)(!1),[j,x]=Object(l.useState)(null),L=(new u.a,new W);J.a.ripple=!0;let M=!1,P=!1;Object(l.useEffect)(()=>{L.getMenusAdmin().then(e=>x(e))},[]),Object(l.useEffect)(()=>{w?R(document.body,"body-overflow-hidden"):F(document.body,"body-overflow-hidden")},[w]);const I=()=>window.innerWidth>=992,R=(e,a)=>{e.classList?e.classList.add(a):e.className+=" "+a},F=(e,a)=>{e.classList?e.classList.remove(a):e.className=e.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")},A=s()("layout-wrapper",{"layout-overlay":"overlay"===e,"layout-static":"static"===e,"layout-static-sidebar-inactive":E&&"static"===e,"layout-overlay-sidebar-active":y&&"overlay"===e,"layout-mobile-sidebar-active":w,"p-input-filled":"filled"===n,"p-ripple-disabled":!1===d,"layout-theme-light":"light"===t});return o.a.createElement("div",{className:A,onClick:e=>{M||(C(!1),k(!1)),P||O(!1),P=!1,M=!1}},o.a.createElement(p,{onToggleMenuClick:a=>{M=!0,I()?"overlay"===e?(!0===w&&C(!0),C(e=>!e),k(!1)):"static"===e&&h(e=>!e):k(e=>!e),a.preventDefault()},layoutColorMode:t,mobileTopbarMenuActive:S,onMobileTopbarMenuClick:e=>{P=!0,O(e=>!e),e.preventDefault()},onMobileSubTopbarMenuClick:e=>{P=!0,e.preventDefault()}}),o.a.createElement("div",{className:"layout-sidebar",onClick:()=>{M=!0}},o.a.createElement(f,{model:j,onMenuItemClick:e=>{e.item.items||(C(!1),k(!1))},layoutColorMode:t})),o.a.createElement("div",{className:"layout-main-container"},o.a.createElement("div",{className:"layout-main"},o.a.createElement(i.a,{path:"/",exact:!0,component:v}),o.a.createElement(i.a,{path:"/Role",exact:!0,render:e=>o.a.createElement(T,Object.assign({layoutColorMode:t},e))}),o.a.createElement(i.a,{path:"/User",exact:!0,render:e=>o.a.createElement(U,Object.assign({layoutColorMode:t},e))}),o.a.createElement(i.a,{path:"/Empresa",exact:!0,render:e=>o.a.createElement($,Object.assign({layoutColorMode:t},e))}),o.a.createElement(i.a,{path:"/Convocatoria",exact:!0,render:e=>o.a.createElement(V,Object.assign({layoutColorMode:t},e))}),o.a.createElement(i.a,{path:"/PliegoEspecificacion",exact:!0,render:e=>o.a.createElement(H,Object.assign({layoutColorMode:t},e))}),o.a.createElement(i.a,{path:"/Aviso",component:B}),o.a.createElement(i.a,{path:"/ListEmpresa",exact:!0,render:e=>o.a.createElement(K,Object.assign({layoutColorMode:t},e))}),o.a.createElement(i.a,{path:"/ListConvocatoria",exact:!0,render:e=>o.a.createElement(Y,Object.assign({layoutColorMode:t},e))}),o.a.createElement(i.a,{path:"/ListPliego",exact:!0,render:e=>o.a.createElement(_,Object.assign({layoutColorMode:t},e))})),o.a.createElement(g,{layoutColorMode:t})),o.a.createElement(N,{rippleEffect:d,onRippleEffect:e=>{J.a.ripple=e.value,b(e.value)},inputStyle:n,onInputStyleChange:e=>{c(e)},layoutMode:e,onLayoutModeChange:e=>{a(e)},layoutColorMode:t,onColorModeChange:e=>{r(e)}}),o.a.createElement(m.a,{classNames:"layout-mask",timeout:{enter:200,exit:200},in:w,unmountOnExit:!0},o.a.createElement("div",{className:"layout-mask p-component-overlay"})))};var X=Object(i.h)(e=>{let a=Object(i.g)();return Object(l.useEffect)(()=>{window.scrollTo(0,0)},[a]),e.children}),ee=t(55);const ae=e=>{const a=Object(i.f)(),[t,r]=Object(l.useState)(!0),n=Object(l.useRef)(null),c=new u.a,s=Object(M.a)({initialValues:{email:"",password:""},validate:e=>{let a={};return e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com"):a.email="Se requiere el correo electronico",e.password?e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",a},onSubmit:e=>{r(!1);const t=setTimeout(()=>{},1e4);F.a.post("https://magic-tech-backend.herokuapp.com/api/login",{email:"".concat(e.email),password:"".concat(e.password)}).then((function(e){c.set("id",e.data.id,{path:"/"}),c.set("nombre",e.data.nombre,{path:"/"}),c.set("apellido",e.data.apellido,{path:"/"}),c.set("email",e.data.email,{path:"/"}),c.set("rol",e.data.rol,{path:"/"}),c.set("isLogin",!0),console.log("id:        "+c.get("id")),console.log("nombre:    "+c.get("nombre")),console.log("apellido:  "+c.get("apellido")),console.log("email:     "+c.get("email")),console.log("rol:       "+c.get("rol")),console.log("isLogin:   "+c.get("isLogin")),200===e.status&&(clearTimeout(t),a.push("/")),s.resetForm(),r(!0)})).catch((function(a){n.current.show({severity:"error",summary:"Error Message",detail:"El correo electronico o la contrase\xf1a son incorrectas",life:3e3}),clearTimeout(t),r(!0),s.resetForm(),s.setValues({email:"".concat(e.email),password:""})}))}}),m=e=>(e=>!(!s.touched[e]||!s.errors[e]))(e)&&o.a.createElement("small",{className:"ml-5 p-error",style:{color:"#ff0000"}},s.errors[e]);return o.a.createElement("div",{className:"grid justify-content-evenly mt-6"},o.a.createElement(k.a,{ref:n}),o.a.createElement("div",{className:"lg:col-3"}),o.a.createElement("div",{className:" lg:col-3 md:col-3"},o.a.createElement("div",{className:"card p-fluid",style:"light"===c.get("theme")?{border:"black 2px outset"}:{border:"white 2px outset"}},o.a.createElement("form",{onSubmit:s.handleSubmit},o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement("h2",{className:"p-text-center p-p-1"},"Iniciar sesi\xf3n"))),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement("img",{src:"light"===c.get("theme")?"assets/layout/images/avatar.png":"assets/layout/images/avatar-dark.png",className:"p-avatar-xl",shape:"circle",size:"xlarge",style:{height:"8em",width:"8em"}}))),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center"},o.a.createElement("div",{className:"p-field mt-1 lg:col-11"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===c.get("theme")?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(j.a,{id:"email",name:"email",placeholder:"Correo electronico",value:s.values.email,onChange:s.handleChange,autoFocus:!0}))))),m("email"),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center"},o.a.createElement("div",{className:"p-field mt-1 lg:col-10"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===c.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(D.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:s.values.password,onChange:s.handleChange,toggleMask:!0,feedback:!1}))))),m("password"),t?o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},o.a.createElement(y.a,{type:"submit",id:"buttonSubmit",icon:"pi pi-arrow-right",className:"p-button-raised mt-4 p-button-lg",style:{fontSize:"1.5em","background-color":"#d13639",color:"#ffffff",border:"1px solid hsl(0deg 0% 100% / 12%)"}}))):o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-4"},o.a.createElement(ee.a,{style:{width:"50px",height:"50px",stroke:"#d62d20"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"10s"}))),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  mt-3"},o.a.createElement(d.b,{to:"/Register"},o.a.createElement(y.a,{label:"Crear una cuenta",className:"p-button-link",style:"light"===c.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}})))),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center"},o.a.createElement(d.b,{to:"/"},o.a.createElement(y.a,{label:"Pagina principal",className:"p-button-link",style:"light"===c.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}}))))))),o.a.createElement("div",{className:"lg:col-3"}))},te=e=>{const a=Object(l.useRef)(null),[t,r]=Object(l.useState)(null),[n,c]=(Object(i.f)(),Object(l.useState)("")),[s,m]=Object(l.useState)(!0),p=new u.a,g=Object(M.a)({initialValues:{nombre:"",apellido:"",email:"",password:"",confirmPassword:""},validate:e=>{let a={};return e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)||(a.nombre="No se permiten numero o caracteres especiales"):a.nombre="Se requiere el nombre",e.apellido?e.apellido.length<2?a.apellido="Como minimo 2 caracteres":e.apellido.length>30?a.apellido="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.apellido)||(a.apellido="No se permiten numero o caracteres especiales"):a.apellido="Se requiere el apellido",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?E(e.email)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",a},onSubmit:e=>{let t=I()("user-");m(!1);const l=setTimeout(()=>{},1e4);F.a.post("https://magic-tech-backend.herokuapp.com/api/createUser",{id:"".concat(t),nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),rol:"".concat("rol-kvjva7f6")}).then((function(e){200===e.status&&(clearTimeout(l),a.current.show({severity:"success",summary:"Successful",detail:"Registrado Exitosamente",life:3e3})),g.resetForm(),m(!0)})).catch((function(e){clearTimeout(l),m(!0),g.resetForm()}))}}),b=e=>(e=>!(!g.touched[e]||!g.errors[e]))(e)&&o.a.createElement("small",{className:"ml-2 p-error",style:{color:"#ff0000"}},g.errors[e]),E=e=>void 0===[...t].find(a=>a.email.toLowerCase()===e.toLowerCase());Object(l.useEffect)(()=>{f()},[]);const f=()=>{q().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),r(e.data))})};return o.a.createElement("div",{className:"grid justify-content-evenly mt-6"},o.a.createElement(k.a,{ref:a}),o.a.createElement("div",{className:"lg:col-3"}),o.a.createElement("div",{className:" lg:col-3 md:col-3"},o.a.createElement("div",{className:"card p-fluid",style:"light"===p.get("theme")?{border:"black 2px outset"}:{border:"white 2px outset"}},o.a.createElement("form",{onSubmit:g.handleSubmit},o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  "},o.a.createElement("h2",{className:"p-text-center p-p-1"},"Registrarse"))),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  "},o.a.createElement("div",{className:"p-field mt-2 lg:col-12"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-user"})),o.a.createElement(j.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:g.values.nombre,onChange:g.handleChange,autoFocus:!0}))))),b("nombre"),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  "},o.a.createElement("div",{className:"p-field mt-1 lg:col-12"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("i",{className:"pi pi-user"})),o.a.createElement(j.a,{id:"apellido",name:"apellido",placeholder:"Apellido",value:g.values.apellido,onChange:g.handleChange}))))),b("apellido"),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  "},o.a.createElement("div",{className:"p-field mt-1 lg:col-12"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(j.a,{id:"email",name:"email",placeholder:"Correo electronico",value:g.values.email,onChange:g.handleChange}))))),b("email"),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  "},o.a.createElement("div",{className:"p-field mt-1 lg:col-11"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(D.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:g.values.password,onChange:g.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))))),b("password"),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  "},o.a.createElement("div",{className:"p-field mt-1 lg:col-11"},o.a.createElement("div",{className:"p-inputgroup"},o.a.createElement("span",{className:"p-inputgroup-addon"},o.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),o.a.createElement(D.a,{id:"confirmPassword",name:"confirmPassword",placeholder:"Repite la contrase\xf1a",value:g.values.confirmPassword,onChange:g.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))))),b("confirmPassword"),s?o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  "},o.a.createElement("div",{className:"p-field mt-3 lg:col-11"},o.a.createElement(y.a,{label:"Registrar",icon:"pi pi-check",type:"submit",className:"p-button-text",style:{background:"#13af4e",color:"#ffffff"}})))):o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center  m-4"},o.a.createElement(ee.a,{style:{width:"50px",height:"50px",stroke:"#d62d20"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"10s"}))),o.a.createElement("div",{className:"grid flex justify-content-center mt-3"},o.a.createElement("div",{className:"flex align-items-center justify-content-center"},o.a.createElement(d.b,{to:"/Login"},o.a.createElement(y.a,{label:"Iniciar sesion",className:"p-button-link",style:"light"===p.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}})))),o.a.createElement("div",{className:"grid flex justify-content-center"},o.a.createElement("div",{className:"flex align-items-center justify-content-center"},o.a.createElement(d.b,{to:"/"},o.a.createElement(y.a,{label:"Pagina principal",className:"p-button-link",style:"light"===p.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}}))))))),o.a.createElement("div",{className:"lg:col-3"}))};(new u.a).set("isLogin",!1);n.a.render(o.a.createElement(d.a,null,o.a.createElement(i.c,null,o.a.createElement(i.a,{path:"/Login",exact:!0,render:e=>o.a.createElement(ae,Object.assign({layoutColorMode:"light"},e))}),o.a.createElement(i.a,{path:"/Register",exact:!0,render:e=>o.a.createElement(te,Object.assign({layoutColorMode:"light"},e))}),o.a.createElement(X,null,o.a.createElement(Q,null)))),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.e1ff50da.chunk.js.map