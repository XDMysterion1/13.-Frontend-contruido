(this["webpackJsonpsakai-react"]=this["webpackJsonpsakai-react"]||[]).push([[0],{109:function(e,a,t){e.exports=t(187)},184:function(e,a,t){},185:function(e,a,t){},186:function(e,a,t){},187:function(e,a,t){"use strict";t.r(a);t(110);var o=t(0),l=t.n(o),r=t(32),c=t.n(r),n=t(19),s=t.n(n),i=t(18),m=t(188),d=t(9),u=t(31);const p=e=>{const[a,t]=Object(o.useState)(!1),r=Object(i.f)(),c=new u.a;return l.a.createElement("div",{className:"layout-topbar"},l.a.createElement("button",{type:"button",className:"p-link  layout-menu-button layout-topbar-button",onClick:e.onToggleMenuClick},l.a.createElement("i",{className:"pi pi-bars"})),l.a.createElement("button",{type:"button",className:"p-link layout-topbar-menu-button layout-topbar-button",onClick:e.onMobileTopbarMenuClick},l.a.createElement("i",{className:"pi pi-ellipsis-v"})),l.a.createElement(d.c,{to:"/",className:"layout-topbar-logo ml-6 "},l.a.createElement("img",{src:(e.layoutColorMode,"assets/layout/images/MagicTech.png"),alt:"logo",style:{height:"1.8em",width:"2.0em"}}),"light"===e.layoutColorMode?c.set("theme","light"):c.set("theme","dark"),l.a.createElement("span",null,"MAGIC TECH")),a?l.a.createElement("ul",{className:s()("layout-topbar-menu lg:flex origin-top",{"layout-topbar-menu-mobile-active":e.mobileTopbarMenuActive})},l.a.createElement("li",null,l.a.createElement("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick},l.a.createElement("i",{className:"pi pi-calendar"}),l.a.createElement("span",null,"Events"))),l.a.createElement("li",null,l.a.createElement("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick},l.a.createElement("i",{className:"pi pi-cog"}),l.a.createElement("span",null,"Settings"))),l.a.createElement("li",null,l.a.createElement("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick},l.a.createElement("i",{className:"pi pi-user"}),l.a.createElement("span",null,"Profile")))):l.a.createElement("ul",{className:s()("layout-topbar-menu lg:flex origin-top",{"layout-topbar-menu-mobile-active":e.mobileTopbarMenuActive})},l.a.createElement("li",null,l.a.createElement("button",{className:"p-link layout-topbar-button",onClick:()=>r.push("/Register")},l.a.createElement("i",{className:"pi pi-user-plus"}),l.a.createElement("span",null,"Registrarse"))),l.a.createElement("li",null,l.a.createElement("button",{className:"p-link layout-topbar-button",onClick:()=>r.push("/Login")},l.a.createElement("i",{className:"pi pi-user"}),l.a.createElement("span",null,"Iniciar Sesion")))))},g=e=>l.a.createElement("div",{className:"layout-footer"},l.a.createElement("img",{src:(e.layoutColorMode,"assets/layout/images/MagicTech.png"),alt:"Logo",height:"20",className:"mr-2",style:{height:"2.7em",width:"3em"}}),"por",l.a.createElement("span",{className:"font-medium ml-2"},"MAGIC TECH"));var h=t(105);const b=e=>{const[a,t]=Object(o.useState)(null),r=(o,l,r)=>{if(l.disabled)return o.preventDefault(),!0;l.command&&l.command({originalEvent:o,item:l}),t(r===a?null:r),e.onMenuItemClick&&e.onMenuItemClick({originalEvent:o,item:l})},c=(e,a)=>{let t=(e=>{let a=e.items&&l.a.createElement("i",{className:"pi pi-fw pi-angle-down menuitem-toggle-icon"}),t=e.badge&&l.a.createElement("span",{className:"menuitem-badge"},e.badge);return l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:e.icon}),l.a.createElement("span",null,e.label),a,t,l.a.createElement(h.a,null))})(e);return e.to?l.a.createElement(d.d,{className:"p-ripple",activeClassName:"router-link-active router-link-exact-active",to:e.to,onClick:t=>r(t,e,a),exact:!0,target:e.target},t):l.a.createElement("a",{href:e.url,className:"p-ripple",onClick:t=>r(t,e,a),target:e.target},t)};let n=e.items&&e.items.map((t,o)=>{let r=a===o,n=s()(t.badgeStyleClass,{"layout-menuitem-category":e.root,"active-menuitem":r&&!t.to});return e.root?l.a.createElement("li",{className:n,key:o},!0===e.root&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"layout-menuitem-root-text"},t.label),l.a.createElement(b,{items:t.items,onMenuItemClick:e.onMenuItemClick}))):l.a.createElement("li",{className:n,key:o},c(t,o),l.a.createElement(m.a,{classNames:"layout-submenu-wrapper",timeout:{enter:1e3,exit:450},in:r,unmountOnExit:!0},l.a.createElement(b,{items:t.items,onMenuItemClick:e.onMenuItemClick})))});return n?l.a.createElement("ul",{className:e.className},n):null},f=e=>l.a.createElement("div",{className:"layout-menu-container"},l.a.createElement(b,{items:e.model,className:"layout-menu",onMenuItemClick:e.onMenuItemClick,root:!0}));var E=t(47),C=(t(163),t(3));const N=e=>{const[a,t]=Object(o.useState)(!1),[r,c]=Object(o.useState)(16),[n]=Object(o.useState)([12,13,14,15,16]),[i,m]=Object(o.useState)("saga"),[d,p]=Object(o.useState)("blue"),g=Object(o.useRef)(null);let h=Object(o.useRef)(null);const b=new u.a,f=Object(o.useCallback)(()=>{h.current&&(document.removeEventListener("click",h.current),h.current=null)},[]),N=Object(o.useCallback)(e=>{t(!1),f(),e.preventDefault()},[f]),y=Object(o.useCallback)(()=>{h.current||(h.current=e=>{a&&v(e)&&N(e)},document.addEventListener("click",h.current))},[a,N]);Object(o.useEffect)(()=>{a?y():f()},[a,y,f]);const v=e=>!(g.current.isSameNode(e.target)||g.current.contains(e.target));Object(o.useEffect)(()=>{document.documentElement.style.fontSize=r+"px"},[r]);const k=s()("layout-config",{"layout-config-active":a});Object(o.useEffect)(()=>{let e=i+"-"+d,a=document.getElementById("theme-link");w(a,"assets/themes/"+e+"/theme.css")});const w=(e,a,t)=>{if(S())e.setAttribute("href",a),t&&t();else{const o=e.getAttribute("id"),l=e.cloneNode(!0);l.setAttribute("href",a),l.setAttribute("id",o+"-clone"),e.parentNode.insertBefore(l,e.nextSibling),l.addEventListener("load",()=>{e.remove(),l.setAttribute("id",o),t&&t()})}},S=()=>/(MSIE|Trident\/|Edge\/)/i.test(window.navigator.userAgent),x=(a,t)=>{e.onColorModeChange(a.value),m(t),"saga"===t?b.set("theme","light"):b.set("theme","dark")},j=(e,a)=>{p(a)};return l.a.createElement("div",{ref:g,className:k,id:"layout-config"},l.a.createElement("button",{className:"layout-config-button p-link",id:"layout-config-button",onClick:e=>{t(e=>!e)}},l.a.createElement("i",{className:"pi pi-cog"})),l.a.createElement(C.a,{className:"p-button-danger layout-config-close p-button-rounded p-button-text",icon:"pi pi-times",onClick:N}),l.a.createElement("div",{className:"layout-config-content"},l.a.createElement("h6",{className:"mt-0"},"Escala de Componentes"),l.a.createElement("div",{className:"config-scale"},l.a.createElement(C.a,{icon:"pi pi-minus",onClick:()=>{c(e=>--e)},className:"p-button-text",disabled:r===n[0]}),n.map(e=>l.a.createElement("i",{className:s()("pi pi-circle-on",{"scale-active":e===r}),key:e})),l.a.createElement(C.a,{icon:"pi pi-plus",onClick:()=>{c(e=>++e)},className:"p-button-text",disabled:r===n[n.length-1]})),l.a.createElement("h6",null,"Tipo de Menu"),l.a.createElement("div",{className:"p-formgroup-inline"},l.a.createElement("div",{className:"field-radiobutton"},l.a.createElement(E.a,{inputId:"static",name:"layoutMode",value:"static",onChange:a=>e.onLayoutModeChange(a.value),checked:"static"===e.layoutMode}),l.a.createElement("label",{htmlFor:"static"},"Estatico")),l.a.createElement("div",{className:"field-radiobutton"},l.a.createElement(E.a,{inputId:"overlay",name:"layoutMode",value:"overlay",onChange:a=>e.onLayoutModeChange(a.value),checked:"overlay"===e.layoutMode}),l.a.createElement("label",{htmlFor:"overlay"},"Dinamico"))),l.a.createElement("h6",null,"Tema"),l.a.createElement("div",{className:"p-formgroup-inline"},l.a.createElement("div",{className:"field-radiobutton"},l.a.createElement(E.a,{inputId:"light",name:"layoutColorMode",value:"light",onChange:e=>x(e,"saga"),checked:"light"===e.layoutColorMode}),l.a.createElement("label",{htmlFor:"light"},"Claro")),l.a.createElement("div",{className:"field-radiobutton"},l.a.createElement(E.a,{inputId:"dim",name:"layoutColorMode",value:"dim",onChange:e=>x(e,"vela"),checked:"dim"===e.layoutColorMode}),l.a.createElement("label",{htmlFor:"dark"},"Noche")),l.a.createElement("div",{className:"field-radiobutton"},l.a.createElement(E.a,{inputId:"dark",name:"layoutColorMode",value:"dark",onChange:e=>x(e,"arya"),checked:"dark"===e.layoutColorMode}),l.a.createElement("label",{htmlFor:"dark"},"Oscuro"))),l.a.createElement("h6",null,"Colores Primarios"),l.a.createElement("div",{className:"flex"},l.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-blue-500 mr-3 cursor-pointer",onClick:e=>j(0,"blue")}),l.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-green-500 mr-3 cursor-pointer",onClick:e=>j(0,"green")}),l.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-orange-500 mr-3 cursor-pointer",onClick:e=>j(0,"orange")}),l.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-purple-500 mr-3 cursor-pointer",onClick:e=>j(0,"purple")}))))},y=()=>l.a.createElement("div",{className:"grid"},l.a.createElement("h1",null,"Estamos trabajando - En el Tablero"));var v=t(12),k=t(2),w=t(13),S=t(20),x=t(10),j=t(5),O=t(11),P=t(7),L=t(6),I=t(15),A=t(17),F=t.n(A),M=t(4),R=t.n(M);const D=(e,a)=>R.a.put("https://magic-tech-backend.herokuapp.com/api/updateRol/".concat(a),{rol:"".concat(e.rol),estado:"".concat(e.estado)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),q=e=>{let a={id:null,rol:"",estado:""};const[t,r]=Object(o.useState)(null),[c,n]=Object(o.useState)(!1),[s,i]=Object(o.useState)(!1),[m,d]=Object(o.useState)(""),[u,p]=Object(o.useState)(!0),[g,h]=Object(o.useState)(a),[b,f]=Object(o.useState)(null),[E,N]=Object(o.useState)(!1),y=Object(o.useRef)(null),A=Object(o.useRef)(null),[M,q]=Object(o.useState)(!1),[z,T]=Object(o.useState)(!1),[$,Z]=Object(o.useState)(""),V=Object(I.a)({initialValues:{rol:"",estado:""},validate:e=>{let a={};return M?(e.rol?e.rol.length<2?a.rol="Como minimo 2 caracteres":e.rol.length>30?a.rol="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.rol)?(B(e.rol,$)||!0!==M)&&(H(e.rol)||!1!==M)||(a.rol="Ya existe el rol"):a.rol="No se permiten numero o caracteres especiales":a.rol="Se requiere el rol",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado"):e.rol?e.rol.length<2?a.rol="Como minimo 2 caracteres":e.rol.length>30?a.rol="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.rol)?(B(e.rol,$)||!0!==M)&&(H(e.rol)||!1!==M)||(a.rol="Ya existe el rol"):a.rol="No se permiten numero o caracteres especiales":a.rol="Se requiere el rol",a},onSubmit:e=>{if(!0===E){let o=[...t],l={...g};if(l.rol=e.rol,l.estado=e.estado,l.rol.trim())if(g.id){h({...g}),console.log(g);o[J(g.id)]=l,D({rol:"".concat(l.rol),estado:"".concat(l.estado)},g.id),y.current.show({severity:"success",summary:"Successful",detail:"Rol Actualizado",life:3e3})}else l.id=F()("rol-"),l.estado="Activo",o.push(l),(e=>{R.a.post("https://magic-tech-backend.herokuapp.com/api/createRol",{id:"".concat(e.id),rol:"".concat(e.rol),estado:"".concat(e.estado)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:l.id,rol:"".concat(l.rol),estado:"".concat(l.estado)}),y.current.show({severity:"success",summary:"Successful",detail:"Rol Creado",life:3e3});r(o),n(!1),h(a),V.resetForm()}}}),G=e=>(e=>!(!V.touched[e]||!V.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},V.errors[e]),H=e=>void 0===[...t].find(a=>a.rol.toLowerCase().trim()===e.toLowerCase().trim()),B=(e,a)=>{let o=[...t].filter(e=>e.rol.toLowerCase()!=a.toLowerCase()).find(a=>a.rol.toLowerCase().trim()===e.toLowerCase().trim());return void 0===o||o===a};Object(o.useEffect)(()=>{U()},[]);const U=()=>{R.a.get("https://magic-tech-backend.herokuapp.com/api/getRoles").then(e=>{e.error?console.log("Error"):(console.log("---------roles insertados-----------"),r(e.data),p(!1))})},K=()=>{h(a),N(!1),q(!1),V.resetForm(),n(!0)},Y=()=>{N(!1),n(!1)},W=()=>{i(!1)},J=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},_=l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:W}),l.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...g};if(o.rol.trim()&&g.id){console.log(g);e[J(g.id)]=o,D({rol:"".concat(o.rol),estado:"Desactivado"},g.id),o.rol=o.rol,o.estado="Desactivado",h({...g}),y.current.show({severity:"success",summary:"Successful",detail:"Rol Desactivado",life:3e3})}r(e),h(a),i(!1)}})),X=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Gestion de roles"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),Q=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:X,colSpan:4})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"ROL",field:"rol",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(w.a,{ref:y}),l.a.createElement(S.a,{className:"p-mb-4",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:K}))}),l.a.createElement(v.a,{ref:A,value:t,selection:b,onSelectionChange:e=>f(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} roles",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:u,headerColumnGroup:Q},l.a.createElement(k.a,{style:{width:"20%"},header:"ID",field:"id",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(k.a,{style:{width:"20%"},header:"ROL",field:"rol",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Rol"),e.rol)}),l.a.createElement(k.a,{style:{width:"20%"},header:"ESTADO",field:"estado",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(k.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{h({...e}),V.resetForm(),V.setValues({rol:"".concat(e.rol),estado:"".concat(e.estado)}),Z("".concat(e.rol)),q(!0),n(!0)})(e)}),l.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{h(e),i(!0)})(e)}))})),l.a.createElement(x.a,{visible:c,style:{width:"450px"},header:()=>M?"Actualizando Rol":"A\xf1adir Rol",modal:!0,className:"p-fluid",onHide:Y},l.a.createElement("form",{onSubmit:V.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/rol.png":"assets/layout/images/rol-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"rol",type:"text",name:"rol",value:V.values.rol,onChange:V.handleChange,placeholder:"Rol",autoFocus:!0}))),G("rol")),M?l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:V.values.estado,onChange:V.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),G("estado")):null,l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:Y,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{N(!0),V.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(x.a,{visible:s,style:{width:"450px"},header:"Confirm",modal:!0,footer:_,onHide:W},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),g&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,g.rol),"?"))))))};var z=t(23);const T=()=>R.a.get("https://magic-tech-backend.herokuapp.com/api/getUsers"),$=(e,a)=>R.a.put("https://magic-tech-backend.herokuapp.com/api/updateUser/".concat(a),{nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),estado:"".concat(e.estado),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));const Z=()=>R.a.get("https://magic-tech-backend.herokuapp.com/api/getUsersActivas"),V=e=>{let a={id:null,nombre:"",apellido:"",email:"",password:"",estado:"",rol:""};const[t,r]=Object(o.useState)(null),[c,n]=Object(o.useState)(null),[s,i]=Object(o.useState)(null),[m,d]=Object(o.useState)(""),[u,p]=Object(o.useState)(!0),[g,h]=Object(o.useState)(!1),[b,f]=Object(o.useState)(!1),[E,N]=Object(o.useState)(a),[y,A]=Object(o.useState)(null),[M,D]=Object(o.useState)(!1),q=Object(o.useRef)(null),Z=Object(o.useRef)(null),[V,G]=Object(o.useState)(!1),[H,B]=Object(o.useState)(""),U=Object(I.a)({initialValues:{nombre:"",apellido:"",email:"",password:"",confirmPassword:"",estado:"",rol:""},validate:e=>{let a={};return V?(e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)||(a.nombre="No se permiten numero o caracteres especiales"):a.nombre="Se requiere el nombre",e.apellido?e.apellido.length<2?a.apellido="Como minimo 2 caracteres":e.apellido.length>30?a.apellido="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.apellido)||(a.apellido="No se permiten numero o caracteres especiales"):a.apellido="Se requiere el apellido",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?(Y(e.email)||!1!==V)&&(W(e.email,H)||!0!==V)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.rol||(a.rol="Se requiere el rol"),e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado"):(e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)||(a.nombre="No se permiten numero o caracteres especiales"):a.nombre="Se requiere el nombre",e.apellido?e.apellido.length<2?a.apellido="Como minimo 2 caracteres":e.apellido.length>30?a.apellido="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.apellido)||(a.apellido="No se permiten numero o caracteres especiales"):a.apellido="Se requiere el apellido",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?(Y(e.email)||!1!==V)&&(W(e.email,H)||!0!==V)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.rol||(a.rol="Se requiere el rol")),a},onSubmit:e=>{if(!0===M){let t=[...s],o={...E};if(o.nombre=e.nombre,o.apellido=e.apellido,o.email=e.email,o.password=e.password,o.estado=e.estado,o.rol=e.rol,o.nombre.trim())if(E.id){N({...E});t[ae(E.id)]=o,$({nombre:"".concat(o.nombre),apellido:"".concat(o.apellido),email:"".concat(o.email),password:"".concat(o.password),estado:"".concat(o.estado),rol:"".concat(o.rol)},E.id),q.current.show({severity:"success",summary:"Successful",detail:"Usuario Actualizado",life:3e3})}else o.id=F()("user-"),o.estado="Activo",t.push(o),(e=>{R.a.post("https://magic-tech-backend.herokuapp.com/api/createUser",{id:"".concat(e.id),nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),estado:"".concat(e.estado),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),nombre:"".concat(o.nombre),apellido:"".concat(o.apellido),email:"".concat(o.email),password:"".concat(o.password),estado:"".concat(o.estado),rol:"".concat(o.rol)}),q.current.show({severity:"success",summary:"Successful",detail:"usuario Creado",life:3e3});i(t),h(!1),N(a),U.resetForm()}}}),K=e=>(e=>!(!U.touched[e]||!U.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},U.errors[e]),Y=e=>void 0===[...s].find(a=>a.email.toLowerCase()===e.toLowerCase()),W=(e,a)=>{let t=[...s].filter(e=>e.email.toLowerCase()!=a.toLowerCase()).find(a=>a.email.toLowerCase()===e.toLowerCase());return void 0===t||t===a};Object(o.useEffect)(()=>{J()},[]);const J=()=>{R.a.get("https://magic-tech-backend.herokuapp.com/api/getRolesActivas").then(e=>{e.error?console.log("Error"):(console.log("---------roles insertados-----------"),r(e.data))})};Object(o.useEffect)(()=>{_()},[]);const _=()=>{T().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),i(e.data),p(!1))})},X=()=>{N(a),U.resetForm(),D(!1),G(!1),h(!0)},Q=()=>{D(!1),h(!1)},ee=()=>{f(!1)},ae=e=>{let a=-1;for(let t=0;t<s.length;t++)if(s[t].id===e){a=t;break}return a},te=l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:ee}),l.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...s],t={...E};if(E.email.trim()&&E.id){e[ae(E.id)]=t,$({nombre:"".concat(t.nombre),apellido:"".concat(t.apellido),email:"".concat(t.email),password:"".concat(t.password),estado:"Desactivado",rol:"".concat(t.rol)},E.id),t.nombre=t.nombre,t.apellido=t.apellido,t.email=t.email,t.password=t.password,t.estado="Desactivado",t.rol=t.rol,N({...E}),q.current.show({severity:"success",summary:"Successful",detail:"Usuario desactivado",life:3e3})}i(e),N(a),f(!1)}})),oe=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Gestion de usuarios"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),le=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:oe,colSpan:6})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"15%"}}),l.a.createElement(k.a,{header:"NOMBRE",field:"nombre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"APELLIDO",field:"apellido",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"CORREO ELECTRONICO",field:"email",sortable:!0,style:{"background-color":"#13af4e",width:"60%"}}),l.a.createElement(k.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"10%"}}),l.a.createElement(k.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"10%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(w.a,{ref:q}),l.a.createElement(S.a,{className:"p-mb-4",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:X}))}),l.a.createElement(v.a,{ref:Z,value:s,selection:y,onSelectionChange:e=>A(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:u,headerColumnGroup:le},l.a.createElement(k.a,{style:{width:"15%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(k.a,{style:{width:"20%"},field:"nombre",header:"APELLIDO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),l.a.createElement(k.a,{style:{width:"20%"},field:"apellido",header:"NOMBRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Apellido"),e.apellido)}),l.a.createElement(k.a,{style:{width:"60%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)}),l.a.createElement(k.a,{style:{width:"10%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(k.a,{style:{width:"10%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{N({...e}),D(!0),U.resetForm(),U.setValues({nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),confirmPassword:"".concat(e.password),estado:"".concat(e.estado),rol:"".concat(e.rol)}),B("".concat(e.email)),G(!0),h(!0)})(e)}),l.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{N(e),f(!0)})(e)}))})),l.a.createElement(x.a,{visible:g,style:{width:"450px"},header:()=>V?"Actualizando usuario":"A\xf1adir Usuario",modal:!0,className:"p-fluid",onHide:Q},l.a.createElement("form",{onSubmit:U.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(j.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:U.values.nombre,onChange:U.handleChange,autoFocus:!0}))),K("nombre"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(j.a,{id:"apellido",name:"apellido",placeholder:"Apellido",value:U.values.apellido,onChange:U.handleChange}))),K("apellido"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"email",name:"email",placeholder:"Correo electronico",value:U.values.email,onChange:U.handleChange}))),K("email"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(z.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:U.values.password,onChange:U.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),K("password"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(z.a,{id:"rol",name:"confirmPassword",placeholder:"Confirmar contrase\xf1a",value:U.values.confirmPassword,onChange:U.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),K("confirmPassword"),V?l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:U.values.estado,onChange:U.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),K("estado")):null,l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/rol.png":"assets/layout/images/rol-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"rol",name:"rol",placeholder:"Seleccione un rol",value:U.values.rol,onChange:U.handleChange,options:t,optionLabel:"rol",optionValue:"id"}))),K("rol"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:Q,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{D(!0),U.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(x.a,{className:"mt-2",visible:b,style:{width:"450px"},header:"Confirm",modal:!0,footer:te,onHide:ee},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,E.nombre)," ",l.a.createElement("b",null,E.apellido),"?"))))))};var G=t(24);const H=()=>R.a.get("https://magic-tech-backend.herokuapp.com/api/getEmpresas"),B=(e,a)=>R.a.put("https://magic-tech-backend.herokuapp.com/api/updateEmpresa/".concat(a),{nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),informacion:"".concat(e.informacion),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),U=e=>{let a={id:null,nombre:"",nombreCorto:"",nombreLargo:"",tipoSociedad:"",direccion:"",email:"",password:"",informacion:"",estado:"",user:""};const[t,r]=Object(o.useState)(null),[c,n]=Object(o.useState)(null),[s,i]=Object(o.useState)(!1),[m,d]=Object(o.useState)(""),[u,p]=Object(o.useState)(!0),[g,h]=Object(o.useState)(!1),[b,f]=Object(o.useState)(a),[E,N]=Object(o.useState)(null),[y,A]=Object(o.useState)(!1),M=Object(o.useRef)(null),D=Object(o.useRef)(null),[q,T]=Object(o.useState)(!1),[$,V]=Object(o.useState)(""),[U,K]=Object(o.useState)(""),Y=Object(I.a)({initialValues:{nombre:"",nombreCorto:"",nombreLargo:"",tipoSociedad:"",direccion:"",email:"",password:"",confirmPassword:"",informacion:"",estado:"",user:""},validate:e=>{let a={};return q?(e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)?(X(e.nombre)||!1!==q)&&(Q(e.nombre,U)||!0!==q)||(a.nombre="Ya existe el nombre de la empresa"):a.nombre="No se permiten numero o caracteres especiales":a.nombre="Se requiere el nombre",e.nombreCorto?e.nombreCorto.length<2?a.nombreCorto="Como minimo 2 caracteres":e.nombreCorto.length>30?a.nombreCorto="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreCorto)||(a.nombreCorto="No se permiten numero o caracteres especiales"):a.nombreCorto="Se requiere el nombre corto",e.nombreLargo?e.nombreLargo.length<2?a.nombreLargo="Como minimo 2 caracteres":e.nombreLargo.length>50?a.nombreLargo="Como maximo 50 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreLargo)||(a.nombreLargo="No se permiten numero o caracteres especiales"):a.nombreLargo="Se requiere el nombre largo",e.tipoSociedad?e.tipoSociedad.length<2?a.tipoSociedad="Como minimo 2 caracteres":e.tipoSociedad.length>30?a.tipoSociedad="Como maximo 30 caracteres":/^^[a-zA-Z.\s]+$/i.test(e.tipoSociedad)||(a.tipoSociedad="No se permiten numero o caracteres especiales"):a.tipoSociedad="Se requiere el tipo de sociedad",e.direccion?e.direccion.length<2?a.direccion="Como minimo 2 caracteres":e.direccion.length>50?a.direccion="Como maximo 50 caracteres":/^^[a-zA-Z0-9.\s]+$/i.test(e.direccion)||(a.direccion="No se permiten numero o caracteres especiales"):a.direccion="Se requiere la direccion",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?(J(e.email)||!1!==q)&&(_(e.email,$)||!0!==q)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.informacion?e.informacion.length<2?a.informacion="Como minimo 2 caracteres":e.informacion.length>255?a.informacion="Como maximo 255 caracteres":/^^[a-zA-Z0-9.\s]+$/i.test(e.informacion)||(a.informacion="No se permiten numero o caracteres especiales"):a.informacion="Se requiere la informacion de la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado"):(e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)?(X(e.nombre)||!1!==q)&&(Q(e.nombre,U)||!0!==q)||(a.nombre="Ya existe el nombre de la empresa"):a.nombre="No se permiten numero o caracteres especiales":a.nombre="Se requiere el nombre",e.nombreCorto?e.nombreCorto.length<2?a.nombreCorto="Como minimo 2 caracteres":e.nombreCorto.length>30?a.nombreCorto="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreCorto)||(a.nombreCorto="No se permiten numero o caracteres especiales"):a.nombreCorto="Se requiere el nombre corto",e.nombreLargo?e.nombreLargo.length<2?a.nombreLargo="Como minimo 2 caracteres":e.nombreLargo.length>50?a.nombreLargo="Como maximo 50 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreLargo)||(a.nombreLargo="No se permiten numero o caracteres especiales"):a.nombreLargo="Se requiere el nombre largo",e.tipoSociedad?e.tipoSociedad.length<2?a.tipoSociedad="Como minimo 2 caracteres":e.tipoSociedad.length>30?a.tipoSociedad="Como maximo 30 caracteres":/^^[a-zA-Z.\s]+$/i.test(e.tipoSociedad)||(a.tipoSociedad="No se permiten numero o caracteres especiales"):a.tipoSociedad="Se requiere el tipo de sociedad",e.direccion?e.direccion.length<2?a.direccion="Como minimo 2 caracteres":e.direccion.length>50?a.direccion="Como maximo 50 caracteres":/^^[a-zA-Z0-9.\s]+$/i.test(e.direccion)||(a.direccion="No se permiten numero o caracteres especiales"):a.direccion="Se requiere la direccion",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?(J(e.email)||!1!==q)&&(_(e.email,$)||!0!==q)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.informacion?e.informacion.length<2?a.informacion="Como minimo 2 caracteres":e.informacion.length>255?a.informacion="Como maximo 255 caracteres":/^^[a-zA-Z0-9.\s]+$/i.test(e.informacion)||(a.informacion="No se permiten numero o caracteres especiales"):a.informacion="Se requiere la informacion de la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(!0===y){let t=[...c],o={...b};if(o.nombre=e.nombre,o.nombreCorto=e.nombreCorto,o.nombreLargo=e.nombreLargo,o.tipoSociedad=e.tipoSociedad,o.direccion=e.direccion,o.email=e.email,o.password=e.password,o.confirmPassword=e.confirmPassword,o.informacion=e.informacion,o.estado=e.estado,o.user=e.user,o.nombre.trim())if(b.id){f({...b}),console.log(b);t[re(b.id)]=o,B({nombre:"".concat(o.nombre),nombreCorto:"".concat(o.nombreCorto),nombreLargo:"".concat(o.nombreLargo),tipoSociedad:"".concat(o.tipoSociedad),direccion:"".concat(o.direccion),email:"".concat(o.email),password:"".concat(o.password),informacion:"".concat(o.informacion),estado:"".concat(o.estado),user:"".concat(o.user)},b.id),M.current.show({severity:"success",summary:"Successful",detail:"Empresa Actualizado",life:3e3})}else o.id=F()("empresa-"),o.estado="Activo",t.push(o),(e=>{R.a.post("https://magic-tech-backend.herokuapp.com/api/createEmpresa",{id:"".concat(e.id),nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),informacion:"".concat(e.informacion),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),nombre:"".concat(o.nombre),nombreCorto:"".concat(o.nombreCorto),nombreLargo:"".concat(o.nombreLargo),tipoSociedad:"".concat(o.tipoSociedad),direccion:"".concat(o.direccion),email:"".concat(o.email),password:"".concat(o.password),informacion:"".concat(o.informacion),estado:"".concat(o.estado),user:"".concat(o.user)}),M.current.show({severity:"success",summary:"Successful",detail:"Empresa Creado",life:3e3});n(t),i(!1),f(a),Y.resetForm()}}}),W=e=>(e=>!(!Y.touched[e]||!Y.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},Y.errors[e]),J=e=>void 0===[...c].find(a=>a.email.toLowerCase()===e.toLowerCase()),_=(e,a)=>{let t=[...c].filter(e=>e.email.toLowerCase()!=a.toLowerCase()).find(a=>a.email.toLowerCase()===e.toLowerCase());return void 0===t||t===a},X=e=>void 0===[...c].find(a=>a.nombre.toLowerCase().trim()===e.toLowerCase().trim()),Q=(e,a)=>{let t=[...c].filter(e=>e.nombre.toLowerCase().trim()!=a.toLowerCase().trim()).find(a=>a.nombre.toLowerCase().trim()===e.toLowerCase().trim());return void 0===t||t===a};Object(o.useEffect)(()=>{ee()},[]);const ee=()=>{Z().then(e=>{e.error?console.log("Error"):(console.log("---------Usuarios insertados-----------"),r(e.data))})};Object(o.useEffect)(()=>{ae()},[]);const ae=()=>{H().then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertados-----------"),n(e.data),p(!1))})},te=()=>{f(a),Y.resetForm(),A(!1),T(!1),i(!0)},oe=()=>{A(!1),i(!1)},le=()=>{h(!1)},re=e=>{let a=-1;for(let t=0;t<c.length;t++)if(c[t].id===e){a=t;break}return a},ce=l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:le}),l.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...c],t={...b};if(b.email.trim()&&b.id){e[re(b.id)]=t,B({nombre:"".concat(t.nombre),nombreCorto:"".concat(t.nombreCorto),nombreLargo:"".concat(t.nombreLargo),tipoSociedad:"".concat(t.tipoSociedad),direccion:"".concat(t.direccion),email:"".concat(t.email),password:"".concat(t.password),informacion:"".concat(t.informacion),estado:"Desactivado",user:"".concat(t.user)},b.id),t.nombre=t.nombre,t.nombreCorto=t.nombreCorto,t.nombreLargo=t.nombreLargo,t.tipoSociedad=t.tipoSociedad,t.direccion=t.direccion,t.email=t.email,t.password=t.password,t.confirmPassword=t.confirmPassword,t.informacion=t.informacion,t.estado="Desactivado",t.user=t.user,f({...b}),M.current.show({severity:"success",summary:"Successful",detail:"Empresa Desactivada",life:3e3})}n(e),f(a),h(!1)}})),ne=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Gestion de empresas"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),se=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:ne,colSpan:7})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"NOMBRE",field:"nombre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"SOCIEDAD",field:"tipoSociedad",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"DIRECCION",field:"direccion",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"CORREO ELECTRONICO",field:"email",sortable:!0,style:{"background-color":"#13af4e",width:"25%"}}),l.a.createElement(k.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(w.a,{ref:M}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:te}))}),l.a.createElement(v.a,{ref:D,value:c,selection:E,onSelectionChange:e=>N(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:u,headerColumnGroup:se},l.a.createElement(k.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(k.a,{style:{width:"20%"},field:"nombre",header:"NOMBRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),l.a.createElement(k.a,{style:{width:"20%"},field:"tipoSociedad",header:"SOCIEDAD",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Tipo Sociedad"),e.tipoSociedad)}),l.a.createElement(k.a,{style:{width:"20%"},field:"direccion",header:"DIRECCION",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Direccion"),e.direccion)}),l.a.createElement(k.a,{style:{width:"25%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)}),l.a.createElement(k.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(k.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),A(!0),Y.resetForm(),Y.setValues({nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),confirmPassword:"".concat(e.password),informacion:"".concat(e.informacion),estado:"".concat(e.estado),user:"".concat(e.user)}),V("".concat(e.email)),K("".concat(e.nombre)),T(!0),i(!0)})(e)}),l.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),h(!0)})(e)}))})),l.a.createElement(x.a,{visible:s,style:{width:"450px"},header:()=>q?"Actualizando Empresa":"A\xf1adir Empresa",modal:!0,className:"p-fluid",onHide:oe},l.a.createElement("form",{onSubmit:Y.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(j.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:Y.values.nombre,onChange:Y.handleChange,autoFocus:!0}))),W("nombre"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(j.a,{id:"nombreCorto",name:"nombreCorto",placeholder:"Nombre Corto",value:Y.values.nombreCorto,onChange:Y.handleChange}))),W("nombreCorto"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(j.a,{id:"nombreLargo",name:"nombreLargo",placeholder:"Nombre Largo",value:Y.values.nombreLargo,onChange:Y.handleChange}))),W("nombreLargo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-briefcase"})),l.a.createElement(L.a,{id:"tipoSociedad",name:"tipoSociedad",placeholder:"Seleccione el tipo de sociedad",value:Y.values.tipoSociedad,onChange:Y.handleChange,options:[{name:"Sociedad de Responsabilidad Limitada",tipo:"S.R.L."},{name:"Sociedad An\xf3nima",tipo:"S.A."},{name:"Sociedad Colectiva",tipo:"S.C."},{name:"Sociedad An\xf3nima Mixta o de Econom\xeda Mixta",tipo:"S.A.M."},{name:"Sociedad en Comandita Simple",tipo:"S.C.S."}],optionLabel:"tipo",optionValue:"tipo"}))),W("tipoSociedad"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-map-marker"})),l.a.createElement(j.a,{id:"direccion",name:"direccion",placeholder:"Direccion",value:Y.values.direccion,onChange:Y.handleChange}))),W("direccion"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"email",name:"email",placeholder:"Correo electronico",value:Y.values.email,onChange:Y.handleChange}))),W("email"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(z.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:Y.values.password,onChange:Y.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),W("password"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(z.a,{id:"confirmPassword",name:"confirmPassword",placeholder:"Confirmar contrase\xf1a",value:Y.values.confirmPassword,onChange:Y.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),W("confirmPassword"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-info"})),l.a.createElement(G.a,{id:"informacion",name:"informacion",placeholder:"Informacion",value:Y.values.informacion,onChange:Y.handleChange}))),W("informacion"),q?l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:Y.values.estado,onChange:Y.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),W("estado")):null,l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(L.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:Y.values.user,onChange:Y.handleChange,options:t,optionLabel:"nombre",optionValue:"id"}))),W("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:oe,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{A(!0),Y.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(x.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:ce,onHide:le},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),b&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,b.nombre)," ",l.a.createElement("b",null,b.tipoSociedadad),"?"))))))},K=()=>R.a.get("https://magic-tech-backend.herokuapp.com/api/getConvocatorias"),Y=e=>R.a.post("https://magic-tech-backend.herokuapp.com/api/createConvocatoria",{id:"".concat(e.id),titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),W=(e,a)=>R.a.put("https://magic-tech-backend.herokuapp.com/api/updateConvocatoria/".concat(a),{titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),J=()=>R.a.get("https://magic-tech-backend.herokuapp.com/api/getConvocatoriasPublicados"),_=e=>{let a={id:null,titulo:"",codigo:"",semestre:"",link:"",publicado:"",estado:"",user:""};const[t,r]=Object(o.useState)(null),[c,n]=Object(o.useState)(null),[s,i]=Object(o.useState)(""),[m,d]=Object(o.useState)(!0),[u,p]=Object(o.useState)(!1),[g,h]=Object(o.useState)(!1),[b,f]=Object(o.useState)(a),[E,N]=Object(o.useState)(null),[y,A]=Object(o.useState)(!1),M=Object(o.useRef)(null),R=Object(o.useRef)(null),[D,q]=Object(o.useState)(!1),[z,T]=Object(o.useState)(""),$=Object(I.a)({initialValues:{titulo:"",codigo:"",semestre:"",link:"",publicado:"",estado:"",user:""},validate:e=>{let a={};return D?(e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(V(e.codigo)||!1!==D)&&(H(e.codigo,z)||!0!==D)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.publicado?e.publicado.length<2?a.publicado="Como minimo 2 caracteres":e.publicado.length>30?a.publicado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.publicado)||(a.publicado="No se permiten numero o caracteres especiales"):a.publicado="Se requiere publicar",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):(e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(V(e.codigo)||!1!==D)&&(H(e.codigo,z)||!0!==D)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(!0===y){let o=[...t],l={...b};if(l.titulo=e.titulo,l.codigo=e.codigo,l.semestre=e.semestre,l.link=e.link,l.publicado=e.publicado,l.estado=e.estado,l.user=e.user,l.titulo.trim())if(b.id){f({...b});o[ee(b.id)]=l,W({titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),publicado:"".concat(l.publicado),estado:"".concat(l.estado),user:"".concat(l.user)},b.id),M.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Actualizada",life:3e3})}else l.id=F()("conv-"),l.publicado="No publicar",l.estado="Activo",o.push(l),Y({id:"".concat(l.id),titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),publicado:"".concat(l.publicado),estado:"".concat(l.estado),user:"".concat(l.user)}),M.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Creada",life:3e3});r(o),p(!1),f(a),$.resetForm()}}}),V=e=>void 0===[...t].find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim()),H=(e,a)=>{let o=[...t].filter(e=>e.codigo.toLowerCase()!=a.toLowerCase()).find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim());return void 0===o||o===a},B=e=>(e=>!(!$.touched[e]||!$.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},$.errors[e]);Object(o.useEffect)(()=>{U()},[]);const U=()=>{K().then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertados-----------"),r(e.data),d(!1))})};Object(o.useEffect)(()=>{J()},[]);const J=()=>{Z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),n(e.data))})},_=()=>{f(a),$.resetForm(),A(!1),q(!1),p(!0)},X=()=>{A(!1),p(!1)},Q=()=>{h(!1)},ee=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},ae=l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:Q}),l.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...b};if(b.titulo.trim()&&b.id){e[ee(b.id)]=o,W({titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),publicado:"No publicar",estado:"Desactivado",user:"".concat(o.user)},b.id),o.titulo=o.titulo,o.codigo=o.codigo,o.semestre=o.semestre,o.link=o.link,o.publicado="No publicar",o.estado="Desactivado",o.user=o.user,f({...b}),M.current.show({severity:"success",summary:"Successful",detail:"Convocatoria desactivada",life:3e3})}r(e),f(a),h(!1)}})),te=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Gestion de convocatorias"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>i(e.target.value),placeholder:"Buscar..."}))),oe=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:te,colSpan:8})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"CODIGO",field:"codigo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"SEMESTRE",field:"semestre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"LINK",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"40%"}}),l.a.createElement(k.a,{header:"PUBLICADO",field:"publicado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(w.a,{ref:M}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:_}))}),l.a.createElement(v.a,{ref:R,value:t,selection:E,onSelectionChange:e=>N(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:s,emptyMessage:"No se encontro el rol",loading:m,headerColumnGroup:oe},l.a.createElement(k.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(k.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),l.a.createElement(k.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),l.a.createElement(k.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),l.a.createElement(k.a,{style:{width:"40%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(C.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),l.a.createElement(k.a,{style:{width:"20%"},field:"publicado",header:"PUBLICADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Publicado"),e.publicado)}),l.a.createElement(k.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(k.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),A(!0),$.resetForm(),$.setValues({titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}),T("".concat(e.codigo)),q(!0),p(!0)})(e)}),l.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),h(!0)})(e)}))})),l.a.createElement(x.a,{visible:u,style:{width:"450px"},header:()=>D?"Actualizando convocatoria":"A\xf1adir convocatoria",modal:!0,className:"p-fluid",onHide:X},l.a.createElement("form",{onSubmit:$.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/title.png":"assets/layout/images/title-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"titulo",name:"titulo",placeholder:"Titulo",value:$.values.titulo,onChange:$.handleChange,autoFocus:!0}))),B("titulo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"codigo",name:"codigo",placeholder:"Codigo",value:$.values.codigo,onChange:$.handleChange}))),B("codigo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-calendar"})),l.a.createElement(L.a,{id:"semestre",name:"semestre",placeholder:"Seleccione el semestre",value:$.values.semestre,onChange:$.handleChange,options:[{name:"I-2020"},{name:"II-2020"},{name:"I-2021"},{name:"II-2021"},{name:"I-2022"},{name:"II-2022"}],optionLabel:"name",optionValue:"name"}))),B("semestre"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-link"})),l.a.createElement(G.a,{id:"link",name:"link",placeholder:"Link",value:$.values.link,onChange:$.handleChange}))),B("link"),D?l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/post.png":"assets/layout/images/post-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"publicado",name:"publicado",placeholder:"Seleccione si se publica",value:$.values.publicado,onChange:$.handleChange,options:[{name:"Publicar"},{name:"No publicar"}],optionLabel:"name",optionValue:"name"}))),B("publicado"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:$.values.estado,onChange:$.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),B("estado")):null,l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(L.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:$.values.user,onChange:$.handleChange,options:c,optionLabel:"nombre",optionValue:"id"}))),B("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:X,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{A(!0),$.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(x.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:ae,onHide:Q},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),b&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,b.titulo)," ",l.a.createElement("b",null,b.semestre),"?"))))))},X=(e,a)=>R.a.put("https://magic-tech-backend.herokuapp.com/api/updatePliego/".concat(a),{titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),Q=()=>R.a.get("https://magic-tech-backend.herokuapp.com/api/getPliegosPublicados"),ee=e=>{let a={id:null,titulo:"",codigo:"",semestre:"",link:"",publicado:"",estado:"",user:""};const[t,r]=Object(o.useState)(null),[c,n]=Object(o.useState)(null),[s,i]=Object(o.useState)(""),[m,d]=Object(o.useState)(!0),[u,p]=Object(o.useState)(!1),[g,h]=Object(o.useState)(!1),[b,f]=Object(o.useState)(a),[E,N]=Object(o.useState)(null),[y,A]=Object(o.useState)(!1),M=Object(o.useRef)(null),D=Object(o.useRef)(null),[q,z]=Object(o.useState)(!1),[T,$]=Object(o.useState)(""),V=Object(I.a)({initialValues:{titulo:"",codigo:"",semestre:"",link:"",publicado:"",estado:"",user:""},validate:e=>{let a={};return q?(e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(H(e.codigo)||!1!==q)&&(B(e.codigo,T)||!0!==q)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.publicado?e.publicado.length<2?a.publicado="Como minimo 2 caracteres":e.publicado.length>30?a.publicado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.publicado)||(a.publicado="No se permiten numero o caracteres especiales"):a.publicado="Se requiere publicarlo",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):(e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(H(e.codigo)||!1!==q)&&(B(e.codigo,T)||!0!==q)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(!0===y){let o=[...t],l={...b};if(l.titulo=e.titulo,l.codigo=e.codigo,l.semestre=e.semestre,l.link=e.link,l.publicado=e.publicado,l.estado=e.estado,l.user=e.user,l.titulo.trim())if(b.id){f({...b});o[Q(b.id)]=l,X({titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),publicado:"".concat(l.publicado),estado:"".concat(l.estado),user:"".concat(l.user)},b.id),M.current.show({severity:"success",summary:"Successful",detail:"Pliego de especificaciones Actualizada",life:3e3})}else l.id=F()("plieg-"),l.publicado="No publicar",l.estado="Activo",o.push(l),(e=>{R.a.post("https://magic-tech-backend.herokuapp.com/api/createPliego",{id:"".concat(e.id),titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(l.id),titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),publicado:"".concat(l.publicado),estado:"".concat(l.estado),user:"".concat(l.user)}),M.current.show({severity:"success",summary:"Successful",detail:"Pliego de especificaciones Creada",life:3e3});r(o),p(!1),f(a),V.resetForm()}}}),H=e=>void 0===[...t].find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim()),B=(e,a)=>{let o=[...t].filter(e=>e.codigo.toLowerCase().trim()!=a.toLowerCase().trim()).find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim());return void 0===o||o===a},U=e=>(e=>!(!V.touched[e]||!V.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},V.errors[e]);Object(o.useEffect)(()=>{K()},[]);const K=()=>{R.a.get("https://magic-tech-backend.herokuapp.com/api/getPliegos").then(e=>{e.error?console.log("Error"):(console.log("---------Pliego de espeficiaciones insertados-----------"),r(e.data),d(!1))})};Object(o.useEffect)(()=>{Y()},[]);const Y=()=>{Z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),n(e.data))})},W=()=>{f(a),V.resetForm(),A(!1),z(!1),p(!0)},J=()=>{A(!1),p(!1)},_=()=>{h(!1)},Q=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},ee=l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:_}),l.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...b};if(b.titulo.trim()&&b.id){e[Q(b.id)]=o,X({titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),publicado:"No publicar",estado:"Desactivado",user:"".concat(o.user)},b.id),o.titulo=o.titulo,o.codigo=o.codigo,o.semestre=o.semestre,o.link=o.link,o.publicado="No publicar",o.estado="Desactivado",o.user=o.user,f({...b}),M.current.show({severity:"success",summary:"Successful",detail:"Pliego de espeficiacion Eliminada",life:3e3})}r(e),f(a),h(!1)}})),ae=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Gestion de pliego de especificaciones"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>i(e.target.value),placeholder:"Buscar..."}))),te=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:ae,colSpan:8})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"CODIGO",field:"codigo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"SEMESTRE",field:"semestre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"LINK",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"40%"}}),l.a.createElement(k.a,{header:"PUBLICADO",field:"publicado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(w.a,{ref:M}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:W}))}),l.a.createElement(v.a,{ref:D,value:t,selection:E,onSelectionChange:e=>N(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:s,emptyMessage:"No se encontro el rol",loading:m,headerColumnGroup:te},l.a.createElement(k.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(k.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),l.a.createElement(k.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),l.a.createElement(k.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),l.a.createElement(k.a,{style:{width:"40%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(C.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),l.a.createElement(k.a,{style:{width:"20%"},field:"publicado",header:"PUBLICADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Publicado"),e.publicado)}),l.a.createElement(k.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(k.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),A(!0),V.resetForm(),V.setValues({titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}),$("".concat(e.codigo)),z(!0),p(!0)})(e)}),l.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),h(!0)})(e)}))})),l.a.createElement(x.a,{visible:u,style:{width:"450px"},header:()=>q?"Actualizando pliego de espeficiciones":"A\xf1adir pliego de espeficiciones",modal:!0,className:"p-fluid",onHide:J},l.a.createElement("form",{onSubmit:V.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/title.png":"assets/layout/images/title-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"titulo",name:"titulo",placeholder:"Titulo",value:V.values.titulo,onChange:V.handleChange,autoFocus:!0}))),U("titulo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"codigo",name:"codigo",placeholder:"Codigo",value:V.values.codigo,onChange:V.handleChange}))),U("codigo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-calendar"})),l.a.createElement(L.a,{id:"semestre",name:"semestre",placeholder:"Seleccione el semestre",value:V.values.semestre,onChange:V.handleChange,options:[{name:"I-2020"},{name:"II-2020"},{name:"I-2021"},{name:"II-2021"},{name:"I-2022"},{name:"II-2022"}],optionLabel:"name",optionValue:"name"}))),U("semestre"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-link"})),l.a.createElement(G.a,{id:"link",name:"link",placeholder:"Link",value:V.values.link,onChange:V.handleChange}))),U("link"),q?l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/post.png":"assets/layout/images/post-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"publicado",name:"publicado",placeholder:"Seleccione si se publica",value:V.values.publicado,onChange:V.handleChange,options:[{name:"Publicar"},{name:"No publicar"}],optionLabel:"name",optionValue:"name"}))),U("publicado"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:V.values.estado,onChange:V.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),U("estado")):null,l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(L.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:V.values.user,onChange:V.handleChange,options:c,optionLabel:"nombre",optionValue:"id"}))),U("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:J,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{A(!0),V.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(x.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:ee,onHide:_},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),b&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,b.titulo)," ",l.a.createElement("b",null,b.semestre),"?"))))))},ae=()=>l.a.createElement("div",{className:"grid"},l.a.createElement("h1",null,"Estamos trabajando - En los Avisos")),te=e=>{const[a,t]=Object(o.useState)(null),[r,c]=Object(o.useState)(""),[n,s]=Object(o.useState)(!0);Object(o.useEffect)(()=>{i()},[]);const i=()=>{H().then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertados-----------"),t(e.data),s(!1))})},m=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Lista de empresas registradas en funda empresa"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>c(e.target.value),placeholder:"Buscar..."}))),d=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:m,colSpan:4})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"NOMBRE",field:"nombre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"SOCIEDAD",field:"tipoSociedad",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"DIRECCION",field:"direccion",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"CORREO ELECTRONICO",field:"email",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"grid table-demo"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(v.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers ",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:r,emptyMessage:"No se encontraron empresas",loading:n,headerColumnGroup:d},l.a.createElement(k.a,{style:{width:"20%"},field:"nombre",header:"NOMBRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),l.a.createElement(k.a,{style:{width:"20%"},field:"tipoSociedad",header:"SOCIEDAD",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Tipo Sociedad"),e.tipoSociedad)}),l.a.createElement(k.a,{style:{width:"20%"},field:"direccion",header:"DIRECCION",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Direccion"),e.direccion)}),l.a.createElement(k.a,{style:{width:"25%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)})))))},oe=e=>{const[a,t]=Object(o.useState)(null),[r,c]=Object(o.useState)(""),[n,s]=Object(o.useState)(!0);Object(o.useEffect)(()=>{i()},[]);const i=()=>{J().then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertados-----------"),t(e.data),s(!1))})},m=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Lista de convocatorias publicadas"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>c(e.target.value),placeholder:"Buscar..."}))),d=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:m,colSpan:4})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"SOCIEDAD",field:"codigo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"DIRECCION",field:"semestre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"LINK",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"grid table-demo"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(v.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:r,emptyMessage:"No se encontraron empresas",loading:n,headerColumnGroup:d},l.a.createElement(k.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),l.a.createElement(k.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),l.a.createElement(k.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),l.a.createElement(k.a,{style:{width:"25%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(C.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))})))))},le=e=>{const[a,t]=Object(o.useState)(null),[r,c]=Object(o.useState)(""),[n,s]=Object(o.useState)(!0);Object(o.useEffect)(()=>{i()},[]);const i=()=>{Q().then(e=>{e.error?console.log("Error"):(console.log("---------Pliegos insertados-----------"),t(e.data),s(!1))})},m=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Lista de pliegos de especificaciones publicadas"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>c(e.target.value),placeholder:"Buscar..."}))),d=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:m,colSpan:4})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"SOCIEDAD",field:"CODIGO",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"DIRECCION",field:"SEMESTRE",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"LINK",field:"LINK",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"grid table-demo"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(v.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:r,emptyMessage:"No se encontraron empresas",loading:n,headerColumnGroup:d},l.a.createElement(k.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),l.a.createElement(k.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),l.a.createElement(k.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),l.a.createElement(k.a,{style:{width:"25%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(C.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))})))))};var re=t(35),ce=t.n(re);t(44);const ne=()=>l.a.createElement("nav",{className:"col-12 col-md-8"},l.a.createElement(d.c,{to:"/"},"Todos los Foros"),l.a.createElement(d.c,{to:"/crear"},"Nuevo Foro"));class se extends o.Component{constructor(){super(...arguments),this.confirmarEliminacion=()=>{const{id:e}=this.props.info;ce.a.fire({title:"Estas seguro??",text:"Esta acci\xf3n no se puede deshacer!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, borrar!",cancelButtonText:"Cancelar"}).then(a=>{a.value&&(this.props.borrarPost(e),ce.a.fire("Eliminado!","El post ha sido eliminado.","success"))})}}render(){const{id:e,title:a}=this.props.info;return l.a.createElement("tr",null,l.a.createElement("td",null,e),l.a.createElement("td",null,a),l.a.createElement("td",{style:{"margin-left":"auto","margin-right":"auto"}},l.a.createElement(d.c,{to:"/post/".concat(e),class:"p-button p-component p-button-rounded p-button-success mr-2 p-button-icon-only",style:{background:"rgb(19, 175, 78"}}," Ver"),l.a.createElement(d.c,{to:"/editar/".concat(e),class:"p-button p-component p-button-rounded p-button-success mr-2 p-button-icon-only",style:{background:"rgb(19, 175, 78"}},l.a.createElement("span",{class:"p-button-icon p-c pi pi-pencil"}),l.a.createElement("span",{class:"p-button-label p-c"},"\xa0"),l.a.createElement("span",{class:"p-ink",style:{height:"50px",width:"50px",top:"-5.64062px",left:"-2px"}})),l.a.createElement("button",{onClick:this.confirmarEliminacion,class:"p-button p-component p-button-rounded p-button-warning p-button-icon-only",style:{background:"rgb(238, 229, 0)"}},l.a.createElement("span",{class:"p-button-icon p-c pi pi-trash"}),l.a.createElement("span",{class:"p-button-label p-c"},"\xa0"),l.a.createElement("span",{class:"p-ink",style:{height:"38px",width:"38px",top:"4.85938px",left:"0.296875px"}}))))}}var ie=se;class me extends o.Component{constructor(){super(...arguments),this.mostrarPosts=()=>{const e=this.props.posts;return 0===e.length?null:l.a.createElement(l.a.Fragment,null,Object.keys(e).map(e=>l.a.createElement(ie,{key:e,info:this.props.posts[e],borrarPost:this.props.borrarPost})))}}render(){return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{"background-color":"rgb(19, 175, 78)",width:"5%"},scope:"col"},"ID"),l.a.createElement("th",{style:{"background-color":"rgb(19, 175, 78)",width:"50%"},scope:"col"},"Titulo"),l.a.createElement("th",{style:{"background-color":"rgb(19, 175, 78)",width:"10%"},scope:"col"},"Acciones"))),l.a.createElement("tbody",null,this.mostrarPosts()))}}class de extends o.Component{constructor(){super(...arguments),this.state={}}render(){return l.a.createElement("div",{className:"col-12 col-md-8"},l.a.createElement(me,{posts:this.props.posts,borrarPost:this.props.borrarPost}))}}class ue extends o.Component{render(){const{id:e,name:a,body:t,email:o}=this.props.info;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"contenedorComentario"},l.a.createElement("div",{className:"contenidoComentario"},l.a.createElement("div",{className:"usuario"},l.a.createElement("p",null,"nombre : ",a," "),l.a.createElement("p",null,"   email: ",o)),l.a.createElement("hr",{className:"separarUsuario"}),l.a.createElement("p",null,t))),l.a.createElement("br",null),l.a.createElement("hr",null))}}class pe extends o.Component{constructor(){super(...arguments),this.mostrarPosts=()=>{const e=this.props.comment;return 0===e.length?null:l.a.createElement(l.a.Fragment,null,Object.keys(e).map(e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(ue,{key:e,info:this.props.comment[e],usuario:this.props.usuario}))))}}render(){return l.a.createElement("div",null,this.mostrarPosts())}}class ge extends o.Component{constructor(){super(...arguments),this.tituloRef=l.a.createRef(),this.entradaRef=l.a.createRef(),this.crearPost=e=>{e.preventDefault();const a={name:"cesar",email:"cesar@gmail.com",body:this.entradaRef.current.value,userId:1};this.props.crearComentario(a)}}render(){return l.a.createElement("form",{onSubmit:this.crearPost,className:"col-8"},l.a.createElement("legend",{className:"text-center"},"Crear Nuevo Comentario"),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{className:"texarea",ref:this.entradaRef,placeholder:"Escribe un comentario..."})),l.a.createElement("button",{type:"submit",class:"p-button p-component p-button-success p-mr-2",style:{color:"rgb(255, 255, 255)",background:"rgb(19, 175, 78)"}},l.a.createElement("span",{class:"p-button-label p-c"},"Comentar"),l.a.createElement("span",{class:"p-ink",style:{height:"104px",width:"104px",top:"-31px",left:"20px"}})))}}class he extends o.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-12 col-md-8"},l.a.createElement("h2",{className:"text-center"},"Comentarios"),l.a.createElement(pe,{comment:this.props.comment,usuario:this.props.usuario}),l.a.createElement(ge,{comment:this.props.comment,usuario:this.props.usuario,crearComentario:this.props.crearComentario})))}}class be extends o.Component{constructor(){super(...arguments),this.state={comment:[]},this.obtenerComment=()=>{R.a.get("https://jsonplaceholder.typicode.com/comments").then(e=>{let a=[];e.data.forEach(e=>{1===e.postId&&(a.push(e),console.log(e))}),console.log(a),this.setState({comment:a})})},this.crearComentario=e=>{R.a.post("https://jsonplaceholder.typicode.com/comments",{comm:e}).then(e=>{if(201===e.status){let a={id:e.data.id};const t=Object.assign({},e.data.comm,a);this.setState(e=>({comment:[...e.comment,t]}))}})},this.mostrarPost=(e,a)=>{if(!e.post)return null;const{title:t,body:o,userId:r,id:c}=this.props.post;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"contenedorForo"},l.a.createElement("h1",null,t),l.a.createElement("p",null,"Autor: ",r),o),l.a.createElement(he,{comment:this.state.comment,usuario:this.props.post,crearComentario:this.crearComentario}))}}componentDidMount(){this.obtenerComment()}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-12 col-md-8"},this.mostrarPost(this.props,this.crearComentario)))}}class fe extends o.Component{constructor(){super(...arguments),this.tituloRef=l.a.createRef(),this.entradaRef=l.a.createRef(),this.crearPost=e=>{e.preventDefault();const a={title:this.tituloRef.current.value,body:this.entradaRef.current.value,userId:1};this.props.crearPost(a)}}render(){return l.a.createElement("form",{onSubmit:this.crearPost,className:"col-8"},l.a.createElement("legend",{className:"text-center"},"Crear Nuevo Foro"),l.a.createElement("div",{className:""},l.a.createElement("label",null,"Titulo del Foro:"),l.a.createElement("input",{type:"text",ref:this.tituloRef,className:"textareaTitle",placeholder:"Titulo del Foro"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Contenido: "),l.a.createElement("textarea",{className:"texarea",ref:this.entradaRef,placeholder:"Contenido..."})),l.a.createElement("button",{type:"submit",class:"p-button p-component p-button-success p-mr-2",style:{color:"rgb(255, 255, 255)",background:"rgb(19, 175, 78)"}},l.a.createElement("span",{class:"p-button-label p-c"},"Crear"),l.a.createElement("span",{class:"p-ink",style:{height:"104px",width:"104px",top:"-31px",left:"20px"}})))}}class Ee extends o.Component{constructor(){super(...arguments),this.tituloRef=l.a.createRef(),this.entradaRef=l.a.createRef(),this.editarPost=e=>{e.preventDefault();const a={title:this.tituloRef.current.value,body:this.entradaRef.current.value,userId:1,id:this.props.post.id};this.props.editarPost(a)},this.cargarFormulario=()=>{if(!this.props.post)return null;const{title:e,body:a}=this.props.post;return l.a.createElement("form",{onSubmit:this.editarPost,className:"col-8"},l.a.createElement("legend",{className:"text-center"},"Editar foro"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Titulo del Foro:"),l.a.createElement("input",{type:"text",ref:this.tituloRef,className:"textareaTitle",defaultValue:e})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Contenido: "),l.a.createElement("textarea",{className:"texarea",ref:this.entradaRef,defaultValue:a})),l.a.createElement("button",{type:"submit",class:"p-button p-component p-button-success p-mr-2",style:{color:"rgb(255, 255, 255)",background:"rgb(19, 175, 78)"}},l.a.createElement("span",{class:"p-button-label p-c"},"Guardar Cambios"),l.a.createElement("span",{class:"p-ink",style:{height:"104px",width:"104px",top:"-31px",left:"20px"}})))}}render(){return l.a.createElement(l.a.Fragment,null,this.cargarFormulario())}}class Ce extends o.Component{constructor(){super(...arguments),this.state={posts:[]},this.obtenerPost=()=>{R.a.get("https://jsonplaceholder.typicode.com/posts").then(e=>{this.setState({posts:e.data})})},this.borrarPost=e=>{R.a.delete("https://jsonplaceholder.typicode.com/posts/".concat(e)).then(a=>{if(200===a.status){let a=[...this.state.posts].filter(a=>a.id!=e);this.setState({posts:a})}})},this.crearPost=e=>{R.a.post("https://jsonplaceholder.typicode.com/posts",{post:e}).then(e=>{if(201===e.status){ce.a.fire("Post Creado","Se creo correctamente","success");let a={id:e.data.id};const t=Object.assign({},e.data.post,a);this.setState(e=>({posts:[...e.posts,t]}))}})},this.editarPost=e=>{const{id:a}=e;R.a.put("https://jsonplaceholder.typicode.com/posts/".concat(a),{postActualizado:e}).then(a=>{if(200===a.status){ce.a.fire("Post Actualizado","Se guard\xf3 correctamente","success");let t=a.data.id;const o=[...this.state.posts],l=o.findIndex(e=>t===e.id);o[l]=e,this.setState({posts:o})}})}}componentDidMount(){this.obtenerPost()}render(){return l.a.createElement(d.a,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement(ne,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",render:()=>l.a.createElement(de,{posts:this.state.posts,borrarPost:this.borrarPost})}),l.a.createElement(i.a,{exact:!0,path:"/post/:postId",render:e=>{let a=e.location.pathname.replace("/post/","");let t;return t=this.state.posts.filter(e=>e.id===Number(a)),l.a.createElement(be,{post:t[0]})}}),l.a.createElement(i.a,{exact:!0,path:"/crear",render:()=>l.a.createElement(fe,{crearPost:this.crearPost})}),l.a.createElement(i.a,{exact:!0,path:"/editar/:postId",render:e=>{let a=e.location.pathname.replace("/editar/","");let t;return t=this.state.posts.filter(e=>e.id===Number(a)),l.a.createElement(Ee,{post:t[0],editarPost:this.editarPost})}})))))}}var Ne=t(36),ye=t(8);const ve=(e,a)=>R.a.put("https://magic-tech-backend.herokuapp.com/api/updateContrato/".concat(a),{fecha:"".concat(e.fecha),codigoConvocatoria:"".concat(e.codigoConvocatoria),codigoPliego:"".concat(e.codigoPliego),estado:"".concat(e.estado),empresa:"".concat(e.empresa),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),ke=e=>{let a={id:null,fecha:"",codigoConvocatoria:"",codigoPliego:"",estado:"",empresa:"",user:""};Object(ye.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});const[t,r]=Object(o.useState)(null),[c,n]=Object(o.useState)(null),[s,i]=Object(o.useState)(null),[m,d]=Object(o.useState)(null),[u,p]=Object(o.useState)(null),[g,h]=Object(o.useState)(""),[b,f]=Object(o.useState)(!0),[E,N]=Object(o.useState)(!1),[y,A]=Object(o.useState)(!1),[M,D]=Object(o.useState)(a),[q,z]=Object(o.useState)(null),[T,$]=Object(o.useState)(!1),V=Object(o.useRef)(null),G=Object(o.useRef)(null),[H,B]=Object(o.useState)(!1),[U,K]=Object(o.useState)(""),Y={weekday:"long",year:"numeric",month:"long",day:"numeric"},W=Object(I.a)({initialValues:{fecha:"",codigoConvocatoria:"",codigoPliego:"",estado:"",empresa:"",user:""},validate:e=>{let a={};return H?(e.fecha||(a.fecha="Se requiere la fecha"),e.codigoConvocatoria?e.codigoConvocatoria.length<2?a.codigoConvocatoria="Como minimo 2 caracteres":e.codigoConvocatoria.length>30&&(a.codigoConvocatoria="Como maximo 30 caracteres"):a.codigoConvocatoria="Se requiere el codigo de la convocatoria",e.codigoPliego?e.codigoPliego.length<2?a.codigoPliego="Como minimo 2 caracteres":e.codigoPliego.length>30&&(a.codigoPliego="Como maximo 30 caracteres"):a.codigoPliego="Se requiere el codigo del pliego de espeficicaciones",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.empresa?e.empresa.length<2?a.empresa="Como minimo 2 caracteres":e.empresa.length>30?a.empresa="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.empresa)||(a.empresa="No se permiten numero o caracteres especiales"):a.empresa="Se requiere la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):(e.fecha||(a.fecha="Se requiere la fecha"),e.codigoConvocatoria?e.codigoConvocatoria.length<2?a.codigoConvocatoria="Como minimo 2 caracteres":e.codigoConvocatoria.length>30&&(a.codigoConvocatoria="Como maximo 30 caracteres"):a.codigoConvocatoria="Se requiere el codigo de la convocatoria",e.codigoPliego?e.codigoPliego.length<2?a.codigoPliego="Como minimo 2 caracteres":e.codigoPliego.length>30&&(a.codigoPliego="Como maximo 30 caracteres"):a.codigoPliego="Se requiere el codigo del pliego de espeficicaciones",e.empresa?e.empresa.length<2?a.empresa="Como minimo 2 caracteres":e.empresa.length>30?a.empresa="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.empresa)||(a.empresa="No se permiten numero o caracteres especiales"):a.empresa="Se requiere la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(!0===T){let o=[...t],l={...M};console.log(e.fecha);let c=new Date(e.fecha).toLocaleDateString(void 0,Y);if(l.fecha=c,l.codigoConvocatoria=e.codigoConvocatoria,l.codigoPliego=e.codigoPliego,l.estado=e.estado,l.empresa=e.empresa,l.user=e.user,l.codigoConvocatoria.trim())if(M.id){D({...M});o[ne(M.id)]=l,ve({fecha:"".concat(l.fecha),codigoConvocatoria:"".concat(l.codigoConvocatoria),codigoPliego:"".concat(l.codigoPliego),estado:"".concat(l.estado),empresa:"".concat(l.empresa),user:"".concat(l.user)},M.id),V.current.show({severity:"success",summary:"Successful",detail:"Contrato Actualizado",life:3e3})}else l.id=F()("cont-"),l.estado="Activo",o.push(l),(e=>{R.a.post("https://magic-tech-backend.herokuapp.com/api/createContrato",{id:"".concat(e.id),fecha:"".concat(e.fecha),codigoConvocatoria:"".concat(e.codigoConvocatoria),codigoPliego:"".concat(e.codigoPliego),estado:"".concat(e.estado),empresa:"".concat(e.empresa),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(l.id),fecha:"".concat(l.fecha),codigoConvocatoria:"".concat(l.codigoConvocatoria),codigoPliego:"".concat(l.codigoPliego),estado:"".concat(l.estado),empresa:"".concat(l.empresa),user:"".concat(l.user)}),V.current.show({severity:"success",summary:"Successful",detail:"Contrato Creado",life:3e3});r(o),N(!1),D(a),W.resetForm()}}}),_=e=>(e=>!(!W.touched[e]||!W.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},W.errors[e]);Object(o.useEffect)(()=>{X()},[]);const X=()=>{R.a.get("https://magic-tech-backend.herokuapp.com/api/getContratos").then(e=>{e.error?console.log("Error"):(console.log("---------Contratos insertados-----------"),r(e.data),f(!1))})};Object(o.useEffect)(()=>{ee()},[]);const ee=()=>{Z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),n(e.data))})};Object(o.useEffect)(()=>{ae()},[]);const ae=()=>{R.a.get("https://magic-tech-backend.herokuapp.com/api/getEmpresasActivas").then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertadas-----------"),i(e.data))})};Object(o.useEffect)(()=>{te()},[]);const te=()=>{J().then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertadas-----------"),d(e.data))})};Object(o.useEffect)(()=>{oe()},[]);const oe=()=>{Q().then(e=>{e.error?console.log("Error"):(console.log("---------Pliegos insertados-----------"),p(e.data))})},le=()=>{D(a),W.resetForm(),$(!1),B(!1),N(!0)},re=()=>{$(!1),N(!1)},ce=()=>{A(!1)},ne=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},se=l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:ce}),l.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...M};if(M.codigoConvocatoria.trim()&&M.id){e[ne(M.id)]=o,ve({fecha:"".concat(o.fecha),codigoConvocatoria:"".concat(o.codigoConvocatoria),codigoPliego:"".concat(o.codigoPliego),estado:"Desactivado",empresa:"".concat(o.empresa),user:"".concat(o.user)},M.id),o.fecha=o.fecha,o.codigoConvocatoria=o.codigoConvocatoria,o.codigoPliego=o.codigoPliego,o.estado="Desactivado",o.empresa=o.empresa,o.user=o.user,D({...M}),V.current.show({severity:"success",summary:"Successful",detail:"Contrato desactivado",life:3e3})}r(e),D(a),A(!1)}})),ie=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Gestion de firma de contrato"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>h(e.target.value),placeholder:"Buscar..."}))),me=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:ie,colSpan:6})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"FECHA",field:"fecha",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"COD. CONVOCATORIA",field:"codigoConvocatoria",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"COD. PLIEGO",field:"codigoPliego",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(w.a,{ref:V}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:le}))}),l.a.createElement(v.a,{ref:G,value:t,selection:q,onSelectionChange:e=>z(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} contratos",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:g,emptyMessage:"No se encontro los contratos",loading:b,headerColumnGroup:me},l.a.createElement(k.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(k.a,{style:{width:"20%"},field:"fecha",header:"FECHA",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Fecha"),e.fecha)}),l.a.createElement(k.a,{style:{width:"20%"},field:"codigoConvocatoria",header:"COD. CONVOCATORIA",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo convocatoria"),e.codigoConvocatoria)}),l.a.createElement(k.a,{style:{width:"20%"},field:"codigoPliego",header:"COD. PLIEGO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo de Pliego"),e.codigoPliego)}),l.a.createElement(k.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(k.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{D({...e}),$(!0),W.resetForm(),W.setValues({fecha:"".concat(e.fecha),codigoConvocatoria:"".concat(e.codigoConvocatoria),codigoPliego:"".concat(e.codigoPliego),estado:"".concat(e.estado),empresa:"".concat(e.empresa),user:"".concat(e.user)}),K("".concat(e.codigoConvocatoria)),B(!0),N(!0)})(e)}),l.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{D(e),A(!0)})(e)}))})),l.a.createElement(x.a,{visible:E,style:{width:"450px"},header:()=>H?"Actualizando contrato":"A\xf1adir contrato",modal:!0,className:"p-fluid",onHide:re},l.a.createElement("form",{onSubmit:W.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-calendar"})),l.a.createElement(Ne.a,{id:"fecha",name:"fecha",placeholder:"Seleccione una fecha",value:W.values.fecha,onChange:W.handleChange,locale:"es",dateFormat:"mm/dd/yy"}))),_("fecha"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"codigoConvocatoria",name:"codigoConvocatoria",placeholder:"Seleccione el codigo de convocatoria",value:W.values.codigoConvocatoria,onChange:W.handleChange,options:m,optionLabel:"codigo",optionValue:"codigo"}))),_("codigoConvocatoria"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"codigoPliego",name:"codigoPliego",placeholder:"Seleccione el codigo de pliego",value:W.values.codigoPliego,onChange:W.handleChange,options:u,optionLabel:"codigo",optionValue:"codigo"}))),_("codigoPliego"),H?l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:W.values.estado,onChange:W.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),_("estado")):null,l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-briefcase"})),l.a.createElement(L.a,{id:"empresa",name:"empresa",placeholder:"Seleccione una empresa",value:W.values.empresa,onChange:W.handleChange,options:s,optionLabel:"nombre",optionValue:"id"}))),_("empresa"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(L.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:W.values.user,onChange:W.handleChange,options:c,optionLabel:"nombre",optionValue:"id"}))),_("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:re,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{$(!0),W.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(x.a,{className:"mt-2",visible:y,style:{width:"450px"},header:"Confirm",modal:!0,footer:se,onHide:ce},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),M&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,M.id),"?"))))))},we=e=>{let a={id:null,titulo:"",codigo:"",semestre:"",link:"",publicado:"",estado:"",user:""};const[t,r]=Object(o.useState)(null),[c,n]=Object(o.useState)(null),[s,i]=Object(o.useState)(""),[m,d]=Object(o.useState)(!0),[u,p]=Object(o.useState)(!1),[g,h]=Object(o.useState)(!1),[b,f]=Object(o.useState)(a),[E,N]=Object(o.useState)(null),[y,A]=Object(o.useState)(!1),M=Object(o.useRef)(null),R=Object(o.useRef)(null),[D,q]=Object(o.useState)(!1),[z,T]=Object(o.useState)(""),$=Object(I.a)({initialValues:{titulo:"",codigo:"",semestre:"",link:"",publicado:"",estado:"",user:""},validate:e=>{let a={};return D?(e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(V(e.codigo)||!1!==D)&&(H(e.codigo,z)||!0!==D)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.publicado?e.publicado.length<2?a.publicado="Como minimo 2 caracteres":e.publicado.length>30?a.publicado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.publicado)||(a.publicado="No se permiten numero o caracteres especiales"):a.publicado="Se requiere publicar",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):(e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(V(e.codigo)||!1!==D)&&(H(e.codigo,z)||!0!==D)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(!0===y){let o=[...t],l={...b};if(l.titulo=e.titulo,l.codigo=e.codigo,l.semestre=e.semestre,l.link=e.link,l.publicado=e.publicado,l.estado=e.estado,l.user=e.user,l.titulo.trim())if(b.id){f({...b});o[ee(b.id)]=l,W({titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),publicado:"".concat(l.publicado),estado:"".concat(l.estado),user:"".concat(l.user)},b.id),M.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Actualizada",life:3e3})}else l.id=F()("conv-"),l.publicado="No publicar",l.estado="Activo",o.push(l),Y({id:"".concat(l.id),titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),publicado:"".concat(l.publicado),estado:"".concat(l.estado),user:"".concat(l.user)}),M.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Creada",life:3e3});r(o),p(!1),f(a),$.resetForm()}}}),V=e=>void 0===[...t].find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim()),H=(e,a)=>{let o=[...t].filter(e=>e.codigo.toLowerCase()!=a.toLowerCase()).find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim());return void 0===o||o===a},B=e=>(e=>!(!$.touched[e]||!$.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},$.errors[e]);Object(o.useEffect)(()=>{U()},[]);const U=()=>{K().then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertados-----------"),r(e.data),d(!1))})};Object(o.useEffect)(()=>{J()},[]);const J=()=>{Z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),n(e.data))})},_=()=>{f(a),$.resetForm(),A(!1),q(!1),p(!0)},X=()=>{A(!1),p(!1)},Q=()=>{h(!1)},ee=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},ae=l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:Q}),l.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...b};if(b.titulo.trim()&&b.id){e[ee(b.id)]=o,W({titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),publicado:"No publicar",estado:"Desactivado",user:"".concat(o.user)},b.id),o.titulo=o.titulo,o.codigo=o.codigo,o.semestre=o.semestre,o.link=o.link,o.publicado="No publicar",o.estado="Desactivado",o.user=o.user,f({...b}),M.current.show({severity:"success",summary:"Successful",detail:"Convocatoria desactivada",life:3e3})}r(e),f(a),h(!1)}})),te=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Gestion de convocatorias"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>i(e.target.value),placeholder:"Buscar..."}))),oe=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:te,colSpan:8})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"CODIGO",field:"codigo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"SEMESTRE",field:"semestre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"LINK",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"40%"}}),l.a.createElement(k.a,{header:"PUBLICADO",field:"publicado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(w.a,{ref:M}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:_}))}),l.a.createElement(v.a,{ref:R,value:t,selection:E,onSelectionChange:e=>N(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:s,emptyMessage:"No se encontro el rol",loading:m,headerColumnGroup:oe},l.a.createElement(k.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(k.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),l.a.createElement(k.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),l.a.createElement(k.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),l.a.createElement(k.a,{style:{width:"40%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(C.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),l.a.createElement(k.a,{style:{width:"20%"},field:"publicado",header:"PUBLICADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Publicado"),e.publicado)}),l.a.createElement(k.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(k.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),A(!0),$.resetForm(),$.setValues({titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}),T("".concat(e.codigo)),q(!0),p(!0)})(e)}),l.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),h(!0)})(e)}))})),l.a.createElement(x.a,{visible:u,style:{width:"450px"},header:()=>D?"Actualizando convocatoria":"A\xf1adir convocatoria",modal:!0,className:"p-fluid",onHide:X},l.a.createElement("form",{onSubmit:$.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/title.png":"assets/layout/images/title-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"titulo",name:"titulo",placeholder:"Titulo",value:$.values.titulo,onChange:$.handleChange,autoFocus:!0}))),B("titulo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"codigo",name:"codigo",placeholder:"Codigo",value:$.values.codigo,onChange:$.handleChange}))),B("codigo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-calendar"})),l.a.createElement(L.a,{id:"semestre",name:"semestre",placeholder:"Seleccione el semestre",value:$.values.semestre,onChange:$.handleChange,options:[{name:"I-2020"},{name:"II-2020"},{name:"I-2021"},{name:"II-2021"},{name:"I-2022"},{name:"II-2022"}],optionLabel:"name",optionValue:"name"}))),B("semestre"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-link"})),l.a.createElement(G.a,{id:"link",name:"link",placeholder:"Link",value:$.values.link,onChange:$.handleChange}))),B("link"),D?l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/post.png":"assets/layout/images/post-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"publicado",name:"publicado",placeholder:"Seleccione si se publica",value:$.values.publicado,onChange:$.handleChange,options:[{name:"Publicar"},{name:"No publicar"}],optionLabel:"name",optionValue:"name"}))),B("publicado"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:$.values.estado,onChange:$.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),B("estado")):null,l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(L.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:$.values.user,onChange:$.handleChange,options:c,optionLabel:"nombre",optionValue:"id"}))),B("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:X,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{A(!0),$.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(x.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:ae,onHide:Q},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),b&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,b.titulo)," ",l.a.createElement("b",null,b.semestre),"?"))))))},Se=(e,a)=>R.a.put("https://magic-tech-backend.herokuapp.com/api/updatePlan/".concat(a),{link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),xe=e=>{let a={id:null,link:"",estado:"",user:""};Object(ye.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});const[t,r]=Object(o.useState)(null),[c,n]=Object(o.useState)(null),[s,i]=Object(o.useState)(""),[m,d]=Object(o.useState)(!0),[u,p]=Object(o.useState)(!1),[g,h]=Object(o.useState)(!1),[b,f]=Object(o.useState)(a),[E,N]=Object(o.useState)(null),[y,A]=Object(o.useState)(!1),M=Object(o.useRef)(null),D=Object(o.useRef)(null),[q,z]=Object(o.useState)(!1),[T,$]=Object(o.useState)(""),V=Object(I.a)({initialValues:{link:"",estado:"",user:""},validate:e=>{let a={};return q?(e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):(e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(console.log(e),!0===y){let o=[...t],l={...b};if(l.link=e.link,l.estado=e.estado,l.user=e.user,console.log(l),l.link.trim())if(b.id){f({...b});o[J(b.id)]=l,Se({link:"".concat(l.link),estado:"".concat(l.estado),user:"".concat(l.user)},b.id),M.current.show({severity:"success",summary:"Successful",detail:"Plan de pago Actualizado",life:3e3})}else l.id=F()("plan-"),l.estado="Activo",o.push(l),(e=>{R.a.post("https://magic-tech-backend.herokuapp.com/api/createPlan",{id:"".concat(e.id),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(l.id),link:"".concat(l.link),estado:"".concat(l.estado),user:"".concat(l.user)}),M.current.show({severity:"success",summary:"Successful",detail:"Plan de pago Creado",life:3e3});r(o),p(!1),f(a),V.resetForm()}}}),H=e=>(e=>!(!V.touched[e]||!V.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},V.errors[e]);Object(o.useEffect)(()=>{B()},[]);const B=()=>{R.a.get("https://magic-tech-backend.herokuapp.com/api/getPlans").then(e=>{e.error?console.log("Error"):(console.log("---------Plan de pagos insertados-----------"),r(e.data),d(!1))})};Object(o.useEffect)(()=>{U()},[]);const U=()=>{Z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),n(e.data))})},K=()=>{f(a),V.resetForm(),A(!1),z(!1),p(!0)},Y=()=>{A(!1),p(!1)},W=()=>{h(!1)},J=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},_=l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:W}),l.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...b};if(b.link.trim()&&b.id){e[J(b.id)]=o,Se({link:"".concat(o.link),estado:"Desactivado",user:"".concat(o.user)},b.id),o.link=o.link,o.estado="Desactivado",o.user=o.user,f({...b}),M.current.show({severity:"success",summary:"Successful",detail:"Plan de pago desactivado",life:3e3})}r(e),f(a),h(!1)}})),X=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Gestion de plan de pagos"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>i(e.target.value),placeholder:"Buscar..."}))),Q=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:X,colSpan:5})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"LINK",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"USUARIO",field:"user",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(w.a,{ref:M}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:K}))}),l.a.createElement(v.a,{ref:D,value:t,selection:E,onSelectionChange:e=>N(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} plan de pagos",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:s,emptyMessage:"No se encontro los documentos de la Parte A",loading:m,headerColumnGroup:Q},l.a.createElement(k.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(k.a,{style:{width:"20%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(C.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),l.a.createElement(k.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(k.a,{style:{width:"20%"},field:"user",header:"USUARIO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Usuario"),e.user)}),l.a.createElement(k.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),A(!0),V.resetForm(),V.setValues({link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}),$("".concat(e.estado)),z(!0),p(!0)})(e)}),l.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),h(!0)})(e)}))})),l.a.createElement(x.a,{visible:u,style:{width:"450px"},header:()=>q?"Actualizando Plan de pagos":"A\xf1adir Plan de pagos",modal:!0,className:"p-fluid",onHide:Y},l.a.createElement("form",{onSubmit:V.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-link"})),l.a.createElement(G.a,{id:"link",name:"link",placeholder:"Link",value:V.values.link,onChange:V.handleChange}))),H("link"),q?l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:V.values.estado,onChange:V.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),H("estado")):null,l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(L.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:V.values.user,onChange:V.handleChange,options:c,optionLabel:"nombre",optionValue:"id"}))),H("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:Y,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{A(!0),V.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(x.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:_,onHide:W},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),b&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,b.id),"?"))))))},je=(e,a)=>R.a.put("https://magic-tech-backend.herokuapp.com/api/updateEntregaA/".concat(a),{link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),Oe=e=>{let a={id:null,link:"",fechaInicio:"",fechaCierre:"",estado:"",user:""};Object(ye.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});const[t,r]=Object(o.useState)(null),[c,n]=Object(o.useState)(null),[s,i]=Object(o.useState)(""),[m,d]=Object(o.useState)(!0),[u,p]=Object(o.useState)(!1),[g,h]=Object(o.useState)(!1),[b,f]=Object(o.useState)(a),[E,N]=Object(o.useState)(null),[y,A]=Object(o.useState)(!1),M=Object(o.useRef)(null),D=Object(o.useRef)(null),[q,z]=Object(o.useState)(!1),[T,$]=Object(o.useState)(""),V={weekday:"long",year:"numeric",month:"long",day:"numeric"},H={weekday:"long",year:"numeric",month:"long",day:"numeric"},B=Object(I.a)({initialValues:{link:"",fechaInicio:"",fechaCierre:"",estado:"",user:""},validate:e=>{let a={};return q?(e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.fechaInicio||(a.fechaInicio="Se requiere la fecha de inicio"),e.fechaCierre||(a.fechaCierre="Se requiere la fecha de cierre"),e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):(e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.fechaInicio||(a.fechaInicio="Se requiere la fecha de inicio"),e.fechaCierre||(a.fechaCierre="Se requiere la fecha de cierre"),e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(console.log(e),!0===y){let o=[...t],l={...b},c=new Date(e.fechaInicio).toLocaleDateString(void 0,V),n=new Date(e.fechaCierre).toLocaleDateString(void 0,H);if(l.link=e.link,l.fechaInicio=c,l.fechaCierre=n,l.estado=e.estado,l.user=e.user,console.log(l),l.link.trim())if(b.id){f({...b});o[X(b.id)]=l,je({link:"".concat(l.link),fechaInicio:"".concat(l.fechaInicio),fechaCierre:"".concat(l.fechaCierre),estado:"".concat(l.estado),user:"".concat(l.user)},b.id),M.current.show({severity:"success",summary:"Successful",detail:"Parte A Actualizado",life:3e3})}else l.id=F()("parteA-"),l.estado="Activo",o.push(l),console.log({id:"".concat(l.id),link:"".concat(l.link),fechaInicio:"".concat(l.fechaInicio),fechaCierre:"".concat(l.fechaCierre),estado:"".concat(l.estado),user:"".concat(l.user)}),(e=>{R.a.post("https://magic-tech-backend.herokuapp.com/api/createEntregaA",{id:"".concat(e.id),link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(l.id),link:"".concat(l.link),fechaInicio:"".concat(l.fechaInicio),fechaCierre:"".concat(l.fechaCierre),estado:"".concat(l.estado),user:"".concat(l.user)}),M.current.show({severity:"success",summary:"Successful",detail:"Parte A Creado",life:3e3});r(o),p(!1),f(a),B.resetForm()}}}),U=e=>(e=>!(!B.touched[e]||!B.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},B.errors[e]);Object(o.useEffect)(()=>{K()},[]);const K=()=>{R.a.get("https://magic-tech-backend.herokuapp.com/api/getEntregaAs").then(e=>{e.error?console.log("Error"):(console.log("---------Parte A insertados-----------"),r(e.data),d(!1))})};Object(o.useEffect)(()=>{Y()},[]);const Y=()=>{Z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),n(e.data))})},W=()=>{f(a),B.resetForm(),A(!1),z(!1),p(!0)},J=()=>{A(!1),p(!1)},_=()=>{h(!1)},X=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},Q=l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:_}),l.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...b};if(b.link.trim()&&b.id){e[X(b.id)]=o,je({link:"".concat(o.link),fechaInicio:"".concat(o.fechaInicio),fechaCierre:"".concat(o.fechaCierre),estado:"Desactivado",user:"".concat(o.user)},b.id),o.link=o.link,o.fechaInicio=o.fechaInicio,o.fechaCierre=o.fechaCierre,o.estado="Desactivado",o.user=o.user,f({...b}),M.current.show({severity:"success",summary:"Successful",detail:"Parte A desactivado",life:3e3})}r(e),f(a),h(!1)}})),ee=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Gestion de entrega de la Parte A"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>i(e.target.value),placeholder:"Buscar..."}))),ae=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:ee,colSpan:6})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"LINK",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"FECHA DE INICIO",field:"fechaInicio",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"FECHA DE CIERRE",field:"fechaCierre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(w.a,{ref:M}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:W}))}),l.a.createElement(v.a,{ref:D,value:t,selection:E,onSelectionChange:e=>N(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} parte A",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:s,emptyMessage:"No se encontro los documentos de la Parte A",loading:m,headerColumnGroup:ae},l.a.createElement(k.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(k.a,{style:{width:"20%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(C.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),l.a.createElement(k.a,{style:{width:"20%"},field:"fechaInicio",header:"FECHA DE INICIO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Fecha de Inicio"),e.fechaInicio)}),l.a.createElement(k.a,{style:{width:"20%"},field:"fechaCierre",header:"FECHA DE CIERRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Fecha de Cierre"),e.fechaCierre)}),l.a.createElement(k.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(k.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),A(!0),B.resetForm(),B.setValues({link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}),$("".concat(e.estado)),z(!0),p(!0)})(e)}),l.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),h(!0)})(e)}))})),l.a.createElement(x.a,{visible:u,style:{width:"450px"},header:()=>q?"Actualizando Parte A":"A\xf1adir Parte A",modal:!0,className:"p-fluid",onHide:J},l.a.createElement("form",{onSubmit:B.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-link"})),l.a.createElement(G.a,{id:"link",name:"link",placeholder:"Link",value:B.values.link,onChange:B.handleChange}))),U("link"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-calendar"})),l.a.createElement(Ne.a,{id:"fechaInicio",name:"fechaInicio",placeholder:"Seleccione la fecha de inicio",value:B.values.fechaInicio,onChange:B.handleChange,locale:"es",dateFormat:"mm/dd/yy"}))),U("fechaInicio"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-calendar"})),l.a.createElement(Ne.a,{id:"fechaCierre",name:"fechaCierre",placeholder:"Seleccione una fecha de cierre",value:B.values.fechaCierre,onChange:B.handleChange,locale:"es",dateFormat:"mm/dd/yy"}))),U("fechaCierre"),q?l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:B.values.estado,onChange:B.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),U("estado")):null,l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(L.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:B.values.user,onChange:B.handleChange,options:c,optionLabel:"nombre",optionValue:"id"}))),U("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:J,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{A(!0),B.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(x.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:Q,onHide:_},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),b&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,b.id),"?"))))))},Pe=(e,a)=>R.a.put("https://magic-tech-backend.herokuapp.com/api/updateEntregaB/".concat(a),{link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),Le=e=>{let a={id:null,link:"",fechaInicio:"",fechaCierre:"",estado:"",user:""};Object(ye.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});const[t,r]=Object(o.useState)(null),[c,n]=Object(o.useState)(null),[s,i]=Object(o.useState)(""),[m,d]=Object(o.useState)(!0),[u,p]=Object(o.useState)(!1),[g,h]=Object(o.useState)(!1),[b,f]=Object(o.useState)(a),[E,N]=Object(o.useState)(null),[y,A]=Object(o.useState)(!1),M=Object(o.useRef)(null),D=Object(o.useRef)(null),[q,z]=Object(o.useState)(!1),[T,$]=Object(o.useState)(""),V={weekday:"long",year:"numeric",month:"long",day:"numeric"},H={weekday:"long",year:"numeric",month:"long",day:"numeric"},B=Object(I.a)({initialValues:{link:"",fechaInicio:"",fechaCierre:"",estado:"",user:""},validate:e=>{let a={};return q?(e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.fechaInicio||(a.fechaInicio="Se requiere la fecha de inicio"),e.fechaCierre||(a.fechaCierre="Se requiere la fecha de cierre"),e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):(e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.fechaInicio||(a.fechaInicio="Se requiere la fecha de inicio"),e.fechaCierre||(a.fechaCierre="Se requiere la fecha de cierre"),e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(console.log(e),!0===y){let o=[...t],l={...b},c=new Date(e.fechaInicio).toLocaleDateString(void 0,V),n=new Date(e.fechaCierre).toLocaleDateString(void 0,H);if(l.link=e.link,l.fechaInicio=c,l.fechaCierre=n,l.estado=e.estado,l.user=e.user,console.log(l),l.link.trim())if(b.id){f({...b});o[X(b.id)]=l,Pe({link:"".concat(l.link),fechaInicio:"".concat(l.fechaInicio),fechaCierre:"".concat(l.fechaCierre),estado:"".concat(l.estado),user:"".concat(l.user)},b.id),M.current.show({severity:"success",summary:"Successful",detail:"Parte B Actualizado",life:3e3})}else l.id=F()("parteB-"),l.estado="Activo",o.push(l),console.log({id:"".concat(l.id),link:"".concat(l.link),fechaInicio:"".concat(l.fechaInicio),fechaCierre:"".concat(l.fechaCierre),estado:"".concat(l.estado),user:"".concat(l.user)}),(e=>{R.a.post("https://magic-tech-backend.herokuapp.com/api/createEntregaB",{id:"".concat(e.id),link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(l.id),link:"".concat(l.link),fechaInicio:"".concat(l.fechaInicio),fechaCierre:"".concat(l.fechaCierre),estado:"".concat(l.estado),user:"".concat(l.user)}),M.current.show({severity:"success",summary:"Successful",detail:"Parte B Creado",life:3e3});r(o),p(!1),f(a),B.resetForm()}}}),U=e=>(e=>!(!B.touched[e]||!B.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},B.errors[e]);Object(o.useEffect)(()=>{K()},[]);const K=()=>{R.a.get("https://magic-tech-backend.herokuapp.com/api/getEntregaBs").then(e=>{e.error?console.log("Error"):(console.log("---------Parte A insertados-----------"),r(e.data),d(!1))})};Object(o.useEffect)(()=>{Y()},[]);const Y=()=>{Z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),n(e.data))})},W=()=>{f(a),B.resetForm(),A(!1),z(!1),p(!0)},J=()=>{A(!1),p(!1)},_=()=>{h(!1)},X=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},Q=l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:_}),l.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...b};if(b.link.trim()&&b.id){e[X(b.id)]=o,Pe({link:"".concat(o.link),fechaInicio:"".concat(o.fechaInicio),fechaCierre:"".concat(o.fechaCierre),estado:"Desactivado",user:"".concat(o.user)},b.id),o.link=o.link,o.fechaInicio=o.fechaInicio,o.fechaCierre=o.fechaCierre,o.estado="Desactivado",o.user=o.user,f({...b}),M.current.show({severity:"success",summary:"Successful",detail:"Parte B desactivado",life:3e3})}r(e),f(a),h(!1)}})),ee=l.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},l.a.createElement("h5",{className:"m-0"},"Gestion de entrega de la Parte B"),l.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(j.a,{type:"search",onInput:e=>i(e.target.value),placeholder:"Buscar..."}))),ae=l.a.createElement(O.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{header:ee,colSpan:6})),l.a.createElement(P.a,null,l.a.createElement(k.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"LINK",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"FECHA DE INICIO",field:"fechaInicio",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"FECHA DE CIERRE",field:"fechaCierre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(k.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(w.a,{ref:M}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:W}))}),l.a.createElement(v.a,{ref:D,value:t,selection:E,onSelectionChange:e=>N(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} parte B",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:s,emptyMessage:"No se encontro los documentos de la Parte B",loading:m,headerColumnGroup:ae},l.a.createElement(k.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(k.a,{style:{width:"20%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(C.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),l.a.createElement(k.a,{style:{width:"20%"},field:"fechaInicio",header:"FECHA DE INICIO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Fecha de Inicio"),e.fechaInicio)}),l.a.createElement(k.a,{style:{width:"20%"},field:"fechaCierre",header:"FECHA DE CIERRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Fecha de Cierre"),e.fechaCierre)}),l.a.createElement(k.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(k.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),A(!0),B.resetForm(),B.setValues({link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}),$("".concat(e.estado)),z(!0),p(!0)})(e)}),l.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),h(!0)})(e)}))})),l.a.createElement(x.a,{visible:u,style:{width:"450px"},header:()=>q?"Actualizando Parte B":"A\xf1adir Parte B",modal:!0,className:"p-fluid",onHide:J},l.a.createElement("form",{onSubmit:B.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-link"})),l.a.createElement(G.a,{id:"link",name:"link",placeholder:"Link",value:B.values.link,onChange:B.handleChange}))),U("link"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-calendar"})),l.a.createElement(Ne.a,{id:"fechaInicio",name:"fechaInicio",placeholder:"Seleccione la fecha de inicio",value:B.values.fechaInicio,onChange:B.handleChange,locale:"es",dateFormat:"mm/dd/yy"}))),U("fechaInicio"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-calendar"})),l.a.createElement(Ne.a,{id:"fechaCierre",name:"fechaCierre",placeholder:"Seleccione una fecha de cierre",value:B.values.fechaCierre,onChange:B.handleChange,locale:"es",dateFormat:"mm/dd/yy"}))),U("fechaCierre"),q?l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(L.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:B.values.estado,onChange:B.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),U("estado")):null,l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(L.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:B.values.user,onChange:B.handleChange,options:c,optionLabel:"nombre",optionValue:"id"}))),U("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:J,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{A(!0),B.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(x.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:Q,onHide:_},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),b&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,b.id),"?"))))))};class Ie{getMenusAdmin(){return R.a.get("assets/demo/data/menuAdmin.json").then(e=>e.data.data)}getMenusUser(){return R.a.get("assets/demo/data/menuUser.json").then(e=>e.data.data)}getMenusDocente(){return R.a.get("assets/demo/data/menuDocente.json").then(e=>e.data.data)}}t(180),t(181),t(182),t(183),t(184),t(185),t(186);var Ae=()=>{const[e,a]=Object(o.useState)("static"),[t,r]=Object(o.useState)("light"),[c,n]=Object(o.useState)("outlined"),[d,h]=Object(o.useState)(!0),[b,E]=Object(o.useState)(!1),[C,v]=Object(o.useState)(!1),[k,w]=Object(o.useState)(!1),[S,x]=Object(o.useState)(!1),[j,O]=Object(o.useState)(null),P=(new u.a,new Ie);ye.b.ripple=!0;let L=!1,I=!1;Object(o.useEffect)(()=>{P.getMenusAdmin().then(e=>O(e))},[]),Object(o.useEffect)(()=>{k?F(document.body,"body-overflow-hidden"):M(document.body,"body-overflow-hidden")},[k]);const A=()=>window.innerWidth>=992,F=(e,a)=>{e.classList?e.classList.add(a):e.className+=" "+a},M=(e,a)=>{e.classList?e.classList.remove(a):e.className=e.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")},R=s()("layout-wrapper",{"layout-overlay":"overlay"===e,"layout-static":"static"===e,"layout-static-sidebar-inactive":b&&"static"===e,"layout-overlay-sidebar-active":C&&"overlay"===e,"layout-mobile-sidebar-active":k,"p-input-filled":"filled"===c,"p-ripple-disabled":!1===d,"layout-theme-light":"light"===t});return l.a.createElement("div",{className:R,onClick:e=>{L||(v(!1),w(!1)),I||x(!1),I=!1,L=!1}},l.a.createElement(p,{onToggleMenuClick:a=>{L=!0,A()?"overlay"===e?(!0===k&&v(!0),v(e=>!e),w(!1)):"static"===e&&E(e=>!e):w(e=>!e),a.preventDefault()},layoutColorMode:t,mobileTopbarMenuActive:S,onMobileTopbarMenuClick:e=>{I=!0,x(e=>!e),e.preventDefault()},onMobileSubTopbarMenuClick:e=>{I=!0,e.preventDefault()}}),l.a.createElement("div",{className:"layout-sidebar",onClick:()=>{L=!0}},l.a.createElement(f,{model:[{label:"Home",icon:"pi pi-fw pi-home",items:[{label:"Tablero",icon:"pi pi-fw pi-home",to:"/"}]},{label:"Gestion de Roles",icon:"pi pi-fw pi-sitemap",items:[{label:"Roles",icon:"pi pi-fw pi-users",to:"/Role"}]},{label:"Gestion de Usuario",icon:"pi pi-fw pi-sitemap",items:[{label:"Usuarios",icon:"pi pi-fw pi-user",to:"/User"}]},{label:"Gestion de Empresa",icon:"pi pi-fw pi-briefcase",items:[{label:"Empresas",icon:"pi pi-fw pi-briefcase",to:"/Empresa"}]},{label:"Gestion Publicacion",icon:"pi pi-fw pi-sitemap",items:[{label:"Convocatoria",icon:"pi pi-fw pi-id-card",to:"/Convocatoria"},{label:"Pliego de Especificaciones",icon:"pi pi-fw pi-check-square",to:"/PliegoEspecificacion"}]},{label:"Gestion de Firma de Contrato",icon:"pi pi-fw pi-sitemap",items:[{label:"Firma de contrato",icon:"pi pi-fw pi-id-card",to:"/Contrato"}]},{label:"Gestion de Orden de Cambio",icon:"pi pi-fw pi-sitemap",items:[{label:"Orden de cambio",icon:"pi pi-fw pi-id-card",to:"/Orden"}]},{label:"Gestion de Plan de Pagos",icon:"pi pi-fw pi-sitemap",items:[{label:"Plan de pagos",icon:"pi pi-fw pi-id-card",to:"/Plan"}]},{label:"Gestion de Entrega",icon:"pi pi-fw pi-sitemap",items:[{label:"Parte A",icon:"pi pi-fw pi-id-card",to:"/ParteA"},{label:"Parte B",icon:"pi pi-fw pi-id-card",to:"/ParteB"}]},{label:"Gestion Avisos",icon:"pi pi-fw pi-sitemap",items:[{label:"Avisos",icon:"pi pi-fw pi-id-card",to:"/Aviso"}]},{label:"Lista de empresas",icon:"pi pi-fw pi-briefcase",items:[{label:"Empresas",icon:"pi pi-fw pi-briefcase",to:"/ListEmpresa"}]},{label:"Lista de Publicaciones",icon:"pi pi-fw pi-sitemap",items:[{label:"Convocatoria",icon:"pi pi-fw pi-id-card",to:"/ListConvocatoria"},{label:"Pliego de Especificaciones",icon:"pi pi-fw pi-check-square",to:"/ListPliego"}]},{label:"FORO DE DISCUSION",icon:"pi pi-fw pi-sitemap",items:[{label:"Foro",icon:"pi pi-fw pi-users",to:"/Forum"}]}],onMenuItemClick:e=>{e.item.items||(v(!1),w(!1))},layoutColorMode:t})),l.a.createElement("div",{className:"layout-main-container"},l.a.createElement("div",{className:"layout-main"},l.a.createElement(i.a,{path:"/",exact:!0,component:y}),l.a.createElement(i.a,{path:"/Role",exact:!0,render:e=>l.a.createElement(q,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/User",exact:!0,render:e=>l.a.createElement(V,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/Empresa",exact:!0,render:e=>l.a.createElement(U,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/Convocatoria",exact:!0,render:e=>l.a.createElement(_,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/PliegoEspecificacion",exact:!0,render:e=>l.a.createElement(ee,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/Aviso",component:ae}),l.a.createElement(i.a,{path:"/ListEmpresa",exact:!0,render:e=>l.a.createElement(te,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/ListConvocatoria",exact:!0,render:e=>l.a.createElement(oe,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/ListPliego",exact:!0,render:e=>l.a.createElement(le,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/Forum",exact:!0,render:e=>l.a.createElement(Ce,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/Contrato",exact:!0,render:e=>l.a.createElement(ke,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/Orden",exact:!0,render:e=>l.a.createElement(we,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/Plan",exact:!0,render:e=>l.a.createElement(xe,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/ParteA",exact:!0,render:e=>l.a.createElement(Oe,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/ParteB",exact:!0,render:e=>l.a.createElement(Le,Object.assign({layoutColorMode:t},e))})),l.a.createElement(g,{layoutColorMode:t})),l.a.createElement(N,{rippleEffect:d,onRippleEffect:e=>{ye.b.ripple=e.value,h(e.value)},inputStyle:c,onInputStyleChange:e=>{n(e)},layoutMode:e,onLayoutModeChange:e=>{a(e)},layoutColorMode:t,onColorModeChange:e=>{r(e)}}),l.a.createElement(m.a,{classNames:"layout-mask",timeout:{enter:200,exit:200},in:k,unmountOnExit:!0},l.a.createElement("div",{className:"layout-mask p-component-overlay"})))};var Fe=Object(i.h)(e=>{let a=Object(i.g)();return Object(o.useEffect)(()=>{window.scrollTo(0,0)},[a]),e.children}),Me=t(58);const Re=e=>{const a=Object(i.f)(),[t,r]=Object(o.useState)(!0),c=Object(o.useRef)(null),n=new u.a,s=Object(I.a)({initialValues:{email:"",password:""},validate:e=>{let a={};return e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com"):a.email="Se requiere el correo electronico",e.password?e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",a},onSubmit:e=>{r(!1);const t=setTimeout(()=>{},1e4);R.a.post("https://magic-tech-backend.herokuapp.com/api/login",{email:"".concat(e.email),password:"".concat(e.password)}).then((function(e){n.set("id",e.data.id,{path:"/"}),n.set("nombre",e.data.nombre,{path:"/"}),n.set("apellido",e.data.apellido,{path:"/"}),n.set("email",e.data.email,{path:"/"}),n.set("rol",e.data.rol,{path:"/"}),n.set("isLogin",!0),console.log("id:        "+n.get("id")),console.log("nombre:    "+n.get("nombre")),console.log("apellido:  "+n.get("apellido")),console.log("email:     "+n.get("email")),console.log("rol:       "+n.get("rol")),console.log("isLogin:   "+n.get("isLogin")),200===e.status&&(clearTimeout(t),a.push("/")),s.resetForm(),r(!0)})).catch((function(a){c.current.show({severity:"error",summary:"Error Message",detail:"El correo electronico o la contrase\xf1a son incorrectas",life:3e3}),clearTimeout(t),r(!0),s.resetForm(),s.setValues({email:"".concat(e.email),password:""})}))}}),m=e=>(e=>!(!s.touched[e]||!s.errors[e]))(e)&&l.a.createElement("small",{className:"ml-5 p-error",style:{color:"#ff0000"}},s.errors[e]);return l.a.createElement("div",{className:"grid justify-content-evenly mt-6"},l.a.createElement(w.a,{ref:c}),l.a.createElement("div",{className:"lg:col-3"}),l.a.createElement("div",{className:" lg:col-3 md:col-3"},l.a.createElement("div",{className:"card p-fluid",style:"light"===n.get("theme")?{border:"black 2px outset"}:{border:"white 2px outset"}},l.a.createElement("form",{onSubmit:s.handleSubmit},l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement("h2",{className:"p-text-center p-p-1"},"Iniciar sesi\xf3n"))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement("img",{src:"light"===n.get("theme")?"assets/layout/images/avatar.png":"assets/layout/images/avatar-dark.png",className:"p-avatar-xl",shape:"circle",size:"xlarge",style:{height:"8em",width:"8em"}}))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center"},l.a.createElement("div",{className:"p-field mt-1 lg:col-11"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===n.get("theme")?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"email",name:"email",placeholder:"Correo electronico",value:s.values.email,onChange:s.handleChange,autoFocus:!0}))))),m("email"),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center"},l.a.createElement("div",{className:"p-field mt-1 lg:col-10"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===n.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(z.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:s.values.password,onChange:s.handleChange,toggleMask:!0,feedback:!1}))))),m("password"),t?l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(C.a,{type:"submit",id:"buttonSubmit",icon:"pi pi-arrow-right",className:"p-button-raised mt-4 p-button-lg",style:{fontSize:"1.5em","background-color":"#d13639",color:"#ffffff",border:"1px solid hsl(0deg 0% 100% / 12%)"}}))):l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-4"},l.a.createElement(Me.a,{style:{width:"50px",height:"50px",stroke:"#d62d20"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"10s"}))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  mt-3"},l.a.createElement(d.c,{to:"/Register"},l.a.createElement(C.a,{label:"Crear una cuenta",className:"p-button-link",style:"light"===n.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}})))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center"},l.a.createElement(d.c,{to:"/"},l.a.createElement(C.a,{label:"Pagina principal",className:"p-button-link",style:"light"===n.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}}))))))),l.a.createElement("div",{className:"lg:col-3"}))},De=e=>{const a=Object(o.useRef)(null),[t,r]=Object(o.useState)(null),[c,n]=(Object(i.f)(),Object(o.useState)("")),[s,m]=Object(o.useState)(!0),p=new u.a,g=Object(I.a)({initialValues:{nombre:"",apellido:"",email:"",password:"",confirmPassword:""},validate:e=>{let a={};return e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)||(a.nombre="No se permiten numero o caracteres especiales"):a.nombre="Se requiere el nombre",e.apellido?e.apellido.length<2?a.apellido="Como minimo 2 caracteres":e.apellido.length>30?a.apellido="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.apellido)||(a.apellido="No se permiten numero o caracteres especiales"):a.apellido="Se requiere el apellido",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?b(e.email)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",a},onSubmit:e=>{let t=F()("user-");m(!1);const o=setTimeout(()=>{},1e4);R.a.post("https://magic-tech-backend.herokuapp.com/api/createUser",{id:"".concat(t),nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),rol:"".concat("rol-kvjva7f6")}).then((function(e){200===e.status&&(clearTimeout(o),a.current.show({severity:"success",summary:"Successful",detail:"Registrado Exitosamente",life:3e3})),g.resetForm(),m(!0)})).catch((function(e){clearTimeout(o),m(!0),g.resetForm()}))}}),h=e=>(e=>!(!g.touched[e]||!g.errors[e]))(e)&&l.a.createElement("small",{className:"ml-2 p-error",style:{color:"#ff0000"}},g.errors[e]),b=e=>void 0===[...t].find(a=>a.email.toLowerCase()===e.toLowerCase());Object(o.useEffect)(()=>{f()},[]);const f=()=>{T().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),r(e.data))})};return l.a.createElement("div",{className:"grid justify-content-evenly mt-6"},l.a.createElement(w.a,{ref:a}),l.a.createElement("div",{className:"lg:col-3"}),l.a.createElement("div",{className:" lg:col-3 md:col-3"},l.a.createElement("div",{className:"card p-fluid",style:"light"===p.get("theme")?{border:"black 2px outset"}:{border:"white 2px outset"}},l.a.createElement("form",{onSubmit:g.handleSubmit},l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("h2",{className:"p-text-center p-p-1"},"Registrarse"))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-2 lg:col-12"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(j.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:g.values.nombre,onChange:g.handleChange,autoFocus:!0}))))),h("nombre"),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-1 lg:col-12"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(j.a,{id:"apellido",name:"apellido",placeholder:"Apellido",value:g.values.apellido,onChange:g.handleChange}))))),h("apellido"),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-1 lg:col-12"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(j.a,{id:"email",name:"email",placeholder:"Correo electronico",value:g.values.email,onChange:g.handleChange}))))),h("email"),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-1 lg:col-11"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(z.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:g.values.password,onChange:g.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))))),h("password"),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-1 lg:col-11"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(z.a,{id:"confirmPassword",name:"confirmPassword",placeholder:"Repite la contrase\xf1a",value:g.values.confirmPassword,onChange:g.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))))),h("confirmPassword"),s?l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-3 lg:col-11"},l.a.createElement(C.a,{label:"Registrar",icon:"pi pi-check",type:"submit",className:"p-button-text",style:{background:"#13af4e",color:"#ffffff"}})))):l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-4"},l.a.createElement(Me.a,{style:{width:"50px",height:"50px",stroke:"#d62d20"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"10s"}))),l.a.createElement("div",{className:"grid flex justify-content-center mt-3"},l.a.createElement("div",{className:"flex align-items-center justify-content-center"},l.a.createElement(d.c,{to:"/Login"},l.a.createElement(C.a,{label:"Iniciar sesion",className:"p-button-link",style:"light"===p.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}})))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center"},l.a.createElement(d.c,{to:"/"},l.a.createElement(C.a,{label:"Pagina principal",className:"p-button-link",style:"light"===p.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}}))))))),l.a.createElement("div",{className:"lg:col-3"}))};(new u.a).set("isLogin",!1);c.a.render(l.a.createElement(d.b,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/Login",exact:!0,render:e=>l.a.createElement(Re,Object.assign({layoutColorMode:"light"},e))}),l.a.createElement(i.a,{path:"/Register",exact:!0,render:e=>l.a.createElement(De,Object.assign({layoutColorMode:"light"},e))}),l.a.createElement(Fe,null,l.a.createElement(Ae,null)))),document.getElementById("root"))},44:function(e,a,t){}},[[109,1,2]]]);
//# sourceMappingURL=main.20e9c186.chunk.js.map