(this["webpackJsonpsakai-react"]=this["webpackJsonpsakai-react"]||[]).push([[0],{106:function(e,a,t){e.exports=t(184)},181:function(e,a,t){},182:function(e,a,t){},183:function(e,a,t){},184:function(e,a,t){"use strict";t.r(a);t(107);var o=t(0),l=t.n(o),r=t(30),n=t.n(r),c=t(14),s=t.n(c),i=t(8),m=t(185),d=t(10),u=t(29);const p=e=>{const[a,t]=Object(o.useState)(!1),r=Object(i.f)(),n=new u.a;return l.a.createElement("div",{className:"layout-topbar"},l.a.createElement("button",{type:"button",className:"p-link  layout-menu-button layout-topbar-button",onClick:e.onToggleMenuClick},l.a.createElement("i",{className:"pi pi-bars"})),l.a.createElement("button",{type:"button",className:"p-link layout-topbar-menu-button layout-topbar-button",onClick:e.onMobileTopbarMenuClick},l.a.createElement("i",{className:"pi pi-ellipsis-v"})),l.a.createElement(d.b,{to:"/",className:"layout-topbar-logo ml-6 "},l.a.createElement("img",{src:(e.layoutColorMode,"assets/layout/images/MagicTech.png"),alt:"logo",style:{height:"1.8em",width:"2.0em"}}),"light"===e.layoutColorMode?n.set("theme","light"):n.set("theme","dark"),l.a.createElement("span",null,"MAGIC TECH")),a?l.a.createElement("ul",{className:s()("layout-topbar-menu lg:flex origin-top",{"layout-topbar-menu-mobile-active":e.mobileTopbarMenuActive})},l.a.createElement("li",null,l.a.createElement("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick},l.a.createElement("i",{className:"pi pi-calendar"}),l.a.createElement("span",null,"Events"))),l.a.createElement("li",null,l.a.createElement("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick},l.a.createElement("i",{className:"pi pi-cog"}),l.a.createElement("span",null,"Settings"))),l.a.createElement("li",null,l.a.createElement("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick},l.a.createElement("i",{className:"pi pi-user"}),l.a.createElement("span",null,"Profile")))):l.a.createElement("ul",{className:s()("layout-topbar-menu lg:flex origin-top",{"layout-topbar-menu-mobile-active":e.mobileTopbarMenuActive})},l.a.createElement("li",null,l.a.createElement("button",{className:"p-link layout-topbar-button",onClick:()=>r.push("/Register")},l.a.createElement("i",{className:"pi pi-user-plus"}),l.a.createElement("span",null,"Registrarse"))),l.a.createElement("li",null,l.a.createElement("button",{className:"p-link layout-topbar-button",onClick:()=>r.push("/Login")},l.a.createElement("i",{className:"pi pi-user"}),l.a.createElement("span",null,"Iniciar Sesion")))))},g=e=>l.a.createElement("div",{className:"layout-footer"},l.a.createElement("img",{src:(e.layoutColorMode,"assets/layout/images/MagicTech.png"),alt:"Logo",height:"20",className:"mr-2",style:{height:"2.7em",width:"3em"}}),"por",l.a.createElement("span",{className:"font-medium ml-2"},"MAGIC TECH"));var E=t(102);const b=e=>{const[a,t]=Object(o.useState)(null),r=(o,l,r)=>{if(l.disabled)return o.preventDefault(),!0;l.command&&l.command({originalEvent:o,item:l}),t(r===a?null:r),e.onMenuItemClick&&e.onMenuItemClick({originalEvent:o,item:l})},n=(e,a)=>{let t=(e=>{let a=e.items&&l.a.createElement("i",{className:"pi pi-fw pi-angle-down menuitem-toggle-icon"}),t=e.badge&&l.a.createElement("span",{className:"menuitem-badge"},e.badge);return l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:e.icon}),l.a.createElement("span",null,e.label),a,t,l.a.createElement(E.a,null))})(e);return e.to?l.a.createElement(d.c,{className:"p-ripple",activeClassName:"router-link-active router-link-exact-active",to:e.to,onClick:t=>r(t,e,a),exact:!0,target:e.target},t):l.a.createElement("a",{href:e.url,className:"p-ripple",onClick:t=>r(t,e,a),target:e.target},t)};let c=e.items&&e.items.map((t,o)=>{let r=a===o,c=s()(t.badgeStyleClass,{"layout-menuitem-category":e.root,"active-menuitem":r&&!t.to});return e.root?l.a.createElement("li",{className:c,key:o},!0===e.root&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"layout-menuitem-root-text"},t.label),l.a.createElement(b,{items:t.items,onMenuItemClick:e.onMenuItemClick}))):l.a.createElement("li",{className:c,key:o},n(t,o),l.a.createElement(m.a,{classNames:"layout-submenu-wrapper",timeout:{enter:1e3,exit:450},in:r,unmountOnExit:!0},l.a.createElement(b,{items:t.items,onMenuItemClick:e.onMenuItemClick})))});return c?l.a.createElement("ul",{className:e.className},c):null},h=e=>l.a.createElement("div",{className:"layout-menu-container"},l.a.createElement(b,{items:e.model,className:"layout-menu",onMenuItemClick:e.onMenuItemClick,root:!0}));var f=t(44),y=(t(160),t(3));const N=e=>{const[a,t]=Object(o.useState)(!1),[r,n]=Object(o.useState)(16),[c]=Object(o.useState)([12,13,14,15,16]),[i,m]=Object(o.useState)("saga"),[d,p]=Object(o.useState)("blue"),g=Object(o.useRef)(null);let E=Object(o.useRef)(null);const b=new u.a,h=Object(o.useCallback)(()=>{E.current&&(document.removeEventListener("click",E.current),E.current=null)},[]),N=Object(o.useCallback)(e=>{t(!1),h(),e.preventDefault()},[h]),v=Object(o.useCallback)(()=>{E.current||(E.current=e=>{a&&C(e)&&N(e)},document.addEventListener("click",E.current))},[a,N]);Object(o.useEffect)(()=>{a?v():h()},[a,v,h]);const C=e=>!(g.current.isSameNode(e.target)||g.current.contains(e.target));Object(o.useEffect)(()=>{document.documentElement.style.fontSize=r+"px"},[r]);const w=s()("layout-config",{"layout-config-active":a});Object(o.useEffect)(()=>{let e=i+"-"+d,a=document.getElementById("theme-link");k(a,"assets/themes/"+e+"/theme.css")});const k=(e,a,t)=>{if(S())e.setAttribute("href",a),t&&t();else{const o=e.getAttribute("id"),l=e.cloneNode(!0);l.setAttribute("href",a),l.setAttribute("id",o+"-clone"),e.parentNode.insertBefore(l,e.nextSibling),l.addEventListener("load",()=>{e.remove(),l.setAttribute("id",o),t&&t()})}},S=()=>/(MSIE|Trident\/|Edge\/)/i.test(window.navigator.userAgent),j=(a,t)=>{e.onColorModeChange(a.value),m(t),"saga"===t?b.set("theme","light"):b.set("theme","dark")},O=(e,a)=>{p(a)};return l.a.createElement("div",{ref:g,className:w,id:"layout-config"},l.a.createElement("button",{className:"layout-config-button p-link",id:"layout-config-button",onClick:e=>{t(e=>!e)}},l.a.createElement("i",{className:"pi pi-cog"})),l.a.createElement(y.a,{className:"p-button-danger layout-config-close p-button-rounded p-button-text",icon:"pi pi-times",onClick:N}),l.a.createElement("div",{className:"layout-config-content"},l.a.createElement("h6",{className:"mt-0"},"Escala de Componentes"),l.a.createElement("div",{className:"config-scale"},l.a.createElement(y.a,{icon:"pi pi-minus",onClick:()=>{n(e=>--e)},className:"p-button-text",disabled:r===c[0]}),c.map(e=>l.a.createElement("i",{className:s()("pi pi-circle-on",{"scale-active":e===r}),key:e})),l.a.createElement(y.a,{icon:"pi pi-plus",onClick:()=>{n(e=>++e)},className:"p-button-text",disabled:r===c[c.length-1]})),l.a.createElement("h6",null,"Tipo de Menu"),l.a.createElement("div",{className:"p-formgroup-inline"},l.a.createElement("div",{className:"field-radiobutton"},l.a.createElement(f.a,{inputId:"static",name:"layoutMode",value:"static",onChange:a=>e.onLayoutModeChange(a.value),checked:"static"===e.layoutMode}),l.a.createElement("label",{htmlFor:"static"},"Estatico")),l.a.createElement("div",{className:"field-radiobutton"},l.a.createElement(f.a,{inputId:"overlay",name:"layoutMode",value:"overlay",onChange:a=>e.onLayoutModeChange(a.value),checked:"overlay"===e.layoutMode}),l.a.createElement("label",{htmlFor:"overlay"},"Dinamico"))),l.a.createElement("h6",null,"Tema"),l.a.createElement("div",{className:"p-formgroup-inline"},l.a.createElement("div",{className:"field-radiobutton"},l.a.createElement(f.a,{inputId:"light",name:"layoutColorMode",value:"light",onChange:e=>j(e,"saga"),checked:"light"===e.layoutColorMode}),l.a.createElement("label",{htmlFor:"light"},"Claro")),l.a.createElement("div",{className:"field-radiobutton"},l.a.createElement(f.a,{inputId:"dim",name:"layoutColorMode",value:"dim",onChange:e=>j(e,"vela"),checked:"dim"===e.layoutColorMode}),l.a.createElement("label",{htmlFor:"dark"},"Noche")),l.a.createElement("div",{className:"field-radiobutton"},l.a.createElement(f.a,{inputId:"dark",name:"layoutColorMode",value:"dark",onChange:e=>j(e,"arya"),checked:"dark"===e.layoutColorMode}),l.a.createElement("label",{htmlFor:"dark"},"Oscuro"))),l.a.createElement("h6",null,"Colores Primarios"),l.a.createElement("div",{className:"flex"},l.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-blue-500 mr-3 cursor-pointer",onClick:e=>O(0,"blue")}),l.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-green-500 mr-3 cursor-pointer",onClick:e=>O(0,"green")}),l.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-orange-500 mr-3 cursor-pointer",onClick:e=>O(0,"orange")}),l.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-purple-500 mr-3 cursor-pointer",onClick:e=>O(0,"purple")}))))},v=()=>l.a.createElement("div",{className:"grid"},l.a.createElement("h1",null,"Estamos trabajando - En el Tablero"));var C=t(13),w=t(2),k=t(18),S=t(33),j=t(15),O=t(5),x=t(22),L=t(23),M=t(17),P=t(28),R=t.n(P),F=t(4),I=t.n(F);const A=()=>I.a.get("https://magic-tech-backend.herokuapp.com/api/getRoles"),T=e=>{let a={id:null,rol:""};const[t,r]=Object(o.useState)(null),[n,c]=Object(o.useState)(!1),[s,i]=Object(o.useState)(!1),[m,d]=Object(o.useState)(a),[u,p]=Object(o.useState)(null),[g,E]=Object(o.useState)(!1),b=Object(o.useRef)(null),h=Object(o.useRef)(null),[f,N]=Object(o.useState)(!1),[v,P]=Object(o.useState)(!1),[F,T]=Object(o.useState)(""),D=Object(M.a)({initialValues:{rol:""},validate:e=>{let a={};return e.rol?e.rol.length<2?a.rol="Como minimo 2 caracteres":e.rol.length>30?a.rol="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.rol)?(z(e.rol,F)||!0!==f)&&(q(e.rol)||!1!==f)||(a.rol="Ya existe el rol"):a.rol="No se permiten numero o caracteres especiales":a.rol="Se requiere el rol",a},onSubmit:e=>{E(!0),P(!0);let o=[...t],l={...m};if(l.rol=e.rol,l.rol.trim())if(m.id){d({...m}),console.log(m);o[G(m.id)]=l,((e,a)=>{I.a.put("https://magic-tech-backend.herokuapp.com/api/updateRol/".concat(a),{rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({rol:"".concat(l.rol)},m.id),b.current.show({severity:"success",summary:"Successful",detail:"Rol Actualizado",life:3e3})}else l.id=R()("rol-"),o.push(l),(e=>{I.a.post("https://magic-tech-backend.herokuapp.com/api/createRol",{id:"".concat(e.id),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:l.id,rol:"".concat(l.rol)}),b.current.show({severity:"success",summary:"Successful",detail:"Rol Creado",life:3e3});r(o),c(!1),d(a),D.resetForm()}}),q=e=>void 0===[...t].find(a=>a.rol.toLowerCase().trim()===e.toLowerCase().trim()),z=(e,a)=>{let o=[...t].filter(e=>e.rol.toLowerCase()!=a.toLowerCase()).find(a=>a.rol.toLowerCase().trim()===e.toLowerCase().trim());return void 0===o||o===a};Object(o.useEffect)(()=>{U()},[]);const U=()=>{A().then(e=>{e.error?console.log("Error"):(console.log("---------roles insertados-----------"),r(e.data))})},Z=()=>{d(a),E(!1),N(!1),D.resetForm(),c(!0)},$=()=>{E(!1),c(!1)},V=()=>{i(!1)},G=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},H=l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:V}),l.a.createElement(y.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=t.filter(e=>e.id!==m.id);var o;r(e),i(!1),m.rol.trim()&&m.id&&(o=m.id,I.a.delete("https://magic-tech-backend.herokuapp.com/api/deleteRolId/".concat(o))),d(a),b.current.show({severity:"success",summary:"Successful",detail:"Rol Eliminado",life:3e3})}}));let K=l.a.createElement(x.a,null,l.a.createElement(L.a,null,l.a.createElement(w.a,{header:"ID",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"ROL",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(k.a,{ref:b}),l.a.createElement(S.a,{className:"p-mb-4",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:Z}))}),l.a.createElement(C.a,{headerColumnGroup:K,ref:h,value:t,selection:u,onSelectionChange:e=>p(e.value),dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} roles",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0},l.a.createElement(w.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(w.a,{style:{width:"20%"},field:"role",header:"ROL",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Rol"),e.rol)}),l.a.createElement(w.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(y.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success p-mr-2",onClick:()=>(e=>{d({...e}),D.resetForm(),D.setValues({rol:"".concat(e.rol)}),T("".concat(e.rol)),N(!0),c(!0)})(e)}),l.a.createElement(y.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{d(e),i(!0)})(e)}))})),l.a.createElement(j.a,{visible:n,style:{width:"450px"},header:()=>f?"Actualizando Rol":"A\xf1adir Rol",modal:!0,className:"p-fluid",onHide:$},l.a.createElement("form",{onSubmit:D.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/rol.png":"assets/layout/images/rol-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(O.a,{id:"rol",type:"text",name:"rol",value:D.values.rol,onChange:D.handleChange,placeholder:"Rol",autoFocus:!0}))),(e=>!(!D.touched[e]||!D.errors[e]))(B="rol")&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},D.errors[B])),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:$,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(j.a,{visible:s,style:{width:"450px"},header:"Confirm",modal:!0,footer:H,onHide:V},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),m&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,m.rol),"?"))))));var B};var D=t(24),q=t(16);const z=()=>I.a.get("https://magic-tech-backend.herokuapp.com/api/getUsers");const U=e=>{let a={id:null,nombre:"",apellido:"",email:"",password:"",rol:""};const[t,r]=Object(o.useState)(null),[n,c]=Object(o.useState)(null),[s,i]=Object(o.useState)(null),[m,d]=Object(o.useState)(!1),[u,p]=Object(o.useState)(!1),[g,E]=Object(o.useState)(a),[b,h]=Object(o.useState)(null),[f,N]=Object(o.useState)(!1),v=Object(o.useRef)(null),P=Object(o.useRef)(null),[F,T]=Object(o.useState)(!1),[U,Z]=Object(o.useState)(""),$=Object(M.a)({initialValues:{nombre:"",apellido:"",email:"",password:"",confirmPassword:"",rol:""},validate:e=>{let a={};return e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)||(a.nombre="No se permiten numero o caracteres especiales"):a.nombre="Se requiere el nombre",e.apellido?e.apellido.length<2?a.apellido="Como minimo 2 caracteres":e.apellido.length>30?a.apellido="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.apellido)||(a.apellido="No se permiten numero o caracteres especiales"):a.apellido="Se requiere el apellido",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?(G(e.email)||!1!==F)&&(H(e.email,U)||!0!==F)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.rol||(a.rol="Se requiere el rol"),a},onSubmit:e=>{if(!0===f){let t=[...s],o={...g};if(o.nombre=e.nombre,o.apellido=e.apellido,o.email=e.email,o.password=e.password,o.rol=e.rol,o.nombre.trim())if(g.id){E({...g});t[J(g.id)]=o,((e,a)=>{I.a.put("https://magic-tech-backend.herokuapp.com/api/updateUser/".concat(a),{nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({nombre:"".concat(o.nombre),apellido:"".concat(o.apellido),email:"".concat(o.email),password:"".concat(o.password),rol:"".concat(o.rol)},g.id),v.current.show({severity:"success",summary:"Successful",detail:"Usuario Actualizado",life:3e3})}else o.id=R()("user-"),t.push(o),(e=>{I.a.post("https://magic-tech-backend.herokuapp.com/api/createUser",{id:"".concat(e.id),nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),nombre:"".concat(o.nombre),apellido:"".concat(o.apellido),email:"".concat(o.email),password:"".concat(o.password),rol:"".concat(o.rol)}),v.current.show({severity:"success",summary:"Successful",detail:"usuario Creado",life:3e3});i(t),d(!1),E(a),$.resetForm()}}}),V=e=>(e=>!(!$.touched[e]||!$.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},$.errors[e]),G=e=>void 0===[...s].find(a=>a.email.toLowerCase()===e.toLowerCase()),H=(e,a)=>{let t=[...s].filter(e=>e.email.toLowerCase()!=a.toLowerCase()).find(a=>a.email.toLowerCase()===e.toLowerCase());return void 0===t||t===a};Object(o.useEffect)(()=>{K()},[]);const K=()=>{A().then(e=>{e.error?console.log("Error"):(console.log("---------roles insertados-----------"),r(e.data))})};Object(o.useEffect)(()=>{B()},[]);const B=()=>{z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),i(e.data))})},Y=()=>{E(a),$.resetForm(),N(!1),T(!1),d(!0)},_=()=>{N(!1),d(!1)},W=()=>{p(!1)},J=e=>{let a=-1;for(let t=0;t<s.length;t++)if(s[t].id===e){a=t;break}return a},Q=l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:W}),l.a.createElement(y.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=s.filter(e=>e.id!==g.id);var t;i(e),p(!1),g.email.trim()&&g.id&&(t=g.id,I.a.delete("https://magic-tech-backend.herokuapp.com/api/deleteUserId/".concat(t))),E(a),v.current.show({severity:"success",summary:"Successful",detail:"Usuario Eliminado",life:3e3})}}));let X=l.a.createElement(x.a,null,l.a.createElement(L.a,null,l.a.createElement(w.a,{header:"ID",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"NOMBRE",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"APELLIDO",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"CORREO ELECTRONICO",style:{"background-color":"#13af4e",width:"40%"}}),l.a.createElement(w.a,{header:"CONTRASENA",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"ROL",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(k.a,{ref:v}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:Y}))}),l.a.createElement(C.a,{headerColumnGroup:X,ref:P,value:s,selection:b,onSelectionChange:e=>h(e.value),dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm col-12",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0},l.a.createElement(w.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(w.a,{style:{width:"20%"},field:"apellido",header:"APELLIDO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),l.a.createElement(w.a,{style:{width:"20%"},field:"nombre",header:"NOMBRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Apellido"),e.apellido)}),l.a.createElement(w.a,{style:{width:"40%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)}),l.a.createElement(w.a,{style:{width:"20%"},field:"password",header:"CONTRASENA",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Contrasena"),e.password)}),l.a.createElement(w.a,{style:{width:"20%"},field:"rol",header:"ROL",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Rol"),e.rol)}),l.a.createElement(w.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(y.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success p-mr-2",onClick:()=>(e=>{E({...e}),N(!0),$.resetForm(),$.setValues({nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),confirmPassword:"".concat(e.password),rol:"".concat(e.rol)}),Z("".concat(e.email)),T(!0),d(!0)})(e)}),l.a.createElement(y.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{E(e),p(!0)})(e)}))})),l.a.createElement(j.a,{visible:m,style:{width:"450px"},header:()=>F?"Actualizando usuario":"A\xf1adir Usuario",modal:!0,className:"p-fluid",onHide:_},l.a.createElement("form",{onSubmit:$.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(O.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:$.values.nombre,onChange:$.handleChange,autoFocus:!0}))),V("nombre"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(O.a,{id:"apellido",name:"apellido",placeholder:"Apellido",value:$.values.apellido,onChange:$.handleChange}))),V("apellido"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(O.a,{id:"email",name:"email",placeholder:"Correo electronico",value:$.values.email,onChange:$.handleChange}))),V("email"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(D.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:$.values.password,onChange:$.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),V("password"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(D.a,{id:"rol",name:"confirmPassword",placeholder:"Confirmar contrase\xf1a",value:$.values.confirmPassword,onChange:$.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),V("confirmPassword"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/rol.png":"assets/layout/images/rol-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(q.a,{id:"rol",name:"rol",placeholder:"Seleccione un rol",value:$.values.rol,onChange:$.handleChange,options:t,optionLabel:"rol",optionValue:"id"}))),V("rol"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:_,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{N(!0),$.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(j.a,{className:"mt-2",visible:u,style:{width:"450px"},header:"Confirm",modal:!0,footer:Q,onHide:W},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),g&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,g.nombre)," ",l.a.createElement("b",null,g.apellido),"?"))))))};var Z=t(41);const $=()=>I.a.get("https://magic-tech-backend.herokuapp.com/api/getEmpresas"),V=e=>{let a={id:null,nombre:"",nombreCorto:"",nombreLargo:"",tipoSociedad:"",direccion:"",email:"",password:"",informacion:"",user:""};const[t,r]=Object(o.useState)(null),[n,c]=Object(o.useState)(null),[s,i]=Object(o.useState)(!1),[m,d]=Object(o.useState)(!1),[u,p]=Object(o.useState)(a),[g,E]=Object(o.useState)(null),[b,h]=Object(o.useState)(!1),f=Object(o.useRef)(null),N=Object(o.useRef)(null),[v,P]=Object(o.useState)(!1),[F,A]=Object(o.useState)(""),[T,U]=Object(o.useState)(""),V=Object(M.a)({initialValues:{nombre:"",nombreCorto:"",nombreLargo:"",tipoSociedad:"",direccion:"",email:"",password:"",confirmPassword:"",informacion:"",user:""},validate:e=>{let a={};return e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)?(B(e.nombre)||!1!==v)&&(Y(e.nombre,T)||!0!==v)||(a.nombre="Ya existe el nombre de la empresa"):a.nombre="No se permiten numero o caracteres especiales":a.nombre="Se requiere el nombre",e.nombreCorto?e.nombreCorto.length<2?a.nombreCorto="Como minimo 2 caracteres":e.nombreCorto.length>30?a.nombreCorto="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreCorto)||(a.nombreCorto="No se permiten numero o caracteres especiales"):a.nombreCorto="Se requiere el nombre corto",e.nombreLargo?e.nombreLargo.length<2?a.nombreLargo="Como minimo 2 caracteres":e.nombreLargo.length>50?a.nombreLargo="Como maximo 50 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreLargo)||(a.nombreLargo="No se permiten numero o caracteres especiales"):a.nombreLargo="Se requiere el nombre largo",e.tipoSociedad?e.tipoSociedad.length<2?a.tipoSociedad="Como minimo 2 caracteres":e.tipoSociedad.length>30?a.tipoSociedad="Como maximo 30 caracteres":/^^[a-zA-Z.\s]+$/i.test(e.tipoSociedad)||(a.tipoSociedad="No se permiten numero o caracteres especiales"):a.tipoSociedad="Se requiere el tipo de sociedad",e.direccion?e.direccion.length<2?a.direccion="Como minimo 2 caracteres":e.direccion.length>50?a.direccion="Como maximo 50 caracteres":/^^[a-zA-Z0-9.\s]+$/i.test(e.direccion)||(a.direccion="No se permiten numero o caracteres especiales"):a.direccion="Se requiere la direccion",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?(H(e.email)||!1!==v)&&(K(e.email,F)||!0!==v)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.informacion?e.informacion.length<2?a.informacion="Como minimo 2 caracteres":e.informacion.length>255?a.informacion="Como maximo 255 caracteres":/^^[a-zA-Z0-9.\s]+$/i.test(e.informacion)||(a.informacion="No se permiten numero o caracteres especiales"):a.informacion="Se requiere la informacion de la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario",a},onSubmit:e=>{if(!0===b){let t=[...n],o={...u};if(o.nombre=e.nombre,o.nombreCorto=e.nombreCorto,o.nombreLargo=e.nombreLargo,o.tipoSociedad=e.tipoSociedad,o.direccion=e.direccion,o.email=e.email,o.password=e.password,o.confirmPassword=e.confirmPassword,o.informacion=e.informacion,o.user=e.user,o.nombre.trim())if(u.id){p({...u}),console.log(u);t[ee(u.id)]=o,((e,a)=>{I.a.put("https://magic-tech-backend.herokuapp.com/api/updateEmpresa/".concat(a),{nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),informacion:"".concat(e.informacion),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({nombre:"".concat(o.nombre),nombreCorto:"".concat(o.nombreCorto),nombreLargo:"".concat(o.nombreLargo),tipoSociedad:"".concat(o.tipoSociedad),direccion:"".concat(o.direccion),email:"".concat(o.email),password:"".concat(o.password),informacion:"".concat(o.informacion),user:"".concat(o.user)},u.id),f.current.show({severity:"success",summary:"Successful",detail:"Empresa Actualizado",life:3e3})}else o.id=R()("empresa-"),t.push(o),console.log({id:"".concat(o.id),nombre:"".concat(o.nombre),nombreCorto:"".concat(o.nombreCorto),nombreLargo:"".concat(o.nombreLargo),tipoSociedad:"".concat(o.tipoSociedad),direccion:"".concat(o.direccion),email:"".concat(o.email),password:"".concat(o.password),informacion:"".concat(o.informacion),user:"".concat(o.user)}),(e=>{I.a.post("https://magic-tech-backend.herokuapp.com/api/createEmpresa",{id:"".concat(e.id),nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),informacion:"".concat(e.informacion),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),nombre:"".concat(o.nombre),nombreCorto:"".concat(o.nombreCorto),nombreLargo:"".concat(o.nombreLargo),tipoSociedad:"".concat(o.tipoSociedad),direccion:"".concat(o.direccion),email:"".concat(o.email),password:"".concat(o.password),informacion:"".concat(o.informacion),user:"".concat(o.user)}),f.current.show({severity:"success",summary:"Successful",detail:"Empresa Creado",life:3e3});c(t),i(!1),p(a),V.resetForm()}}}),G=e=>(e=>!(!V.touched[e]||!V.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},V.errors[e]),H=e=>void 0===[...n].find(a=>a.email.toLowerCase()===e.toLowerCase()),K=(e,a)=>{let t=[...n].filter(e=>e.email.toLowerCase()!=a.toLowerCase()).find(a=>a.email.toLowerCase()===e.toLowerCase());return void 0===t||t===a},B=e=>void 0===[...n].find(a=>a.nombre.toLowerCase().trim()===e.toLowerCase().trim()),Y=(e,a)=>{let t=[...n].filter(e=>e.nombre.toLowerCase().trim()!=a.toLowerCase().trim()).find(a=>a.nombre.toLowerCase().trim()===e.toLowerCase().trim());return void 0===t||t===a};Object(o.useEffect)(()=>{_()},[]);const _=()=>{z().then(e=>{e.error?console.log("Error"):(console.log("---------Usuarios insertados-----------"),r(e.data))})};Object(o.useEffect)(()=>{W()},[]);const W=()=>{$().then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertados-----------"),c(e.data))})};Object(o.useEffect)(()=>{console.log(v)},[v]);const J=()=>{p(a),V.resetForm(),h(!1),P(!1),i(!0)},Q=()=>{h(!1),i(!1)},X=()=>{d(!1)},ee=e=>{let a=-1;for(let t=0;t<n.length;t++)if(n[t].id===e){a=t;break}return a},ae=l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:X}),l.a.createElement(y.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=n.filter(e=>e.id!==u.id);var t;c(e),d(!1),u.email.trim()&&u.id&&(t=u.id,I.a.delete("https://magic-tech-backend.herokuapp.com/api/deleteEmpresaId/".concat(t))),p(a),f.current.show({severity:"success",summary:"Successful",detail:"Empresa Eliminada",life:3e3})}}));let te=l.a.createElement(x.a,null,l.a.createElement(L.a,null,l.a.createElement(w.a,{header:"ID",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"NOMBRE",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"SOCIEDAD",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"DIRECCION",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"CORREO ELECTRONICO",style:{"background-color":"#13af4e",width:"25%"}}),l.a.createElement(w.a,{header:"USUARIO",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(k.a,{ref:f}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:J}))}),l.a.createElement(C.a,{headerColumnGroup:te,ref:N,value:n,selection:g,onSelectionChange:e=>E(e.value),dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm col-12",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0},l.a.createElement(w.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(w.a,{style:{width:"20%"},field:"nombre",header:"NOMBRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),l.a.createElement(w.a,{style:{width:"20%"},field:"tipoSociedad",header:"SOCIEDAD",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Tipo Sociedad"),e.tipoSociedad)}),l.a.createElement(w.a,{style:{width:"20%"},field:"direccion",header:"DIRECCION",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Direccion"),e.direccion)}),l.a.createElement(w.a,{style:{width:"25%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)}),l.a.createElement(w.a,{style:{width:"20%"},field:"user",header:"USUARIO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Usuario"),e.user)}),l.a.createElement(w.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(y.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success p-mr-2",onClick:()=>(e=>{p({...e}),h(!0),V.resetForm(),V.setValues({nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),confirmPassword:"".concat(e.password),informacion:"".concat(e.informacion),user:"".concat(e.user)}),A("".concat(e.email)),U("".concat(e.nombre)),P(!0),i(!0)})(e)}),l.a.createElement(y.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{p(e),d(!0)})(e)}))})),l.a.createElement(j.a,{visible:s,style:{width:"450px"},header:()=>v?"Actualizando Empresa":"A\xf1adir Empresa",modal:!0,className:"p-fluid",onHide:Q},l.a.createElement("form",{onSubmit:V.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(O.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:V.values.nombre,onChange:V.handleChange,autoFocus:!0}))),G("nombre"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(O.a,{id:"nombreCorto",name:"nombreCorto",placeholder:"Nombre Corto",value:V.values.nombreCorto,onChange:V.handleChange}))),G("nombreCorto"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(O.a,{id:"nombreLargo",name:"nombreLargo",placeholder:"Nombre Largo",value:V.values.nombreLargo,onChange:V.handleChange}))),G("nombreLargo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-briefcase"})),l.a.createElement(q.a,{id:"tipoSociedad",name:"tipoSociedad",placeholder:"Seleccione el tipo de sociedad",value:V.values.tipoSociedad,onChange:V.handleChange,options:[{name:"Sociedad de Responsabilidad Limitada",tipo:"S.R.L."},{name:"Sociedad An\xf3nima",tipo:"S.A."},{name:"Sociedad Colectiva",tipo:"S.C."},{name:"Sociedad An\xf3nima Mixta o de Econom\xeda Mixta",tipo:"S.A.M."},{name:"Sociedad en Comandita Simple",tipo:"S.C.S."}],optionLabel:"tipo",optionValue:"tipo"}))),G("tipoSociedad"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-map-marker"})),l.a.createElement(O.a,{id:"direccion",name:"direccion",placeholder:"Direccion",value:V.values.direccion,onChange:V.handleChange}))),G("direccion"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(O.a,{id:"email",name:"email",placeholder:"Correo electronico",value:V.values.email,onChange:V.handleChange}))),G("email"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(D.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:V.values.password,onChange:V.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),G("password"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(D.a,{id:"confirmPassword",name:"confirmPassword",placeholder:"Confirmar contrase\xf1a",value:V.values.confirmPassword,onChange:V.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),G("confirmPassword"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-info"})),l.a.createElement(Z.a,{id:"informacion",name:"informacion",placeholder:"Informacion",value:V.values.informacion,onChange:V.handleChange}))),G("informacion"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(q.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:V.values.user,onChange:V.handleChange,options:t,optionLabel:"nombre",optionValue:"id"}))),G("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:Q,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{h(!0),V.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(j.a,{className:"mt-2",visible:m,style:{width:"450px"},header:"Confirm",modal:!0,footer:ae,onHide:X},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),u&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,u.nombre)," ",l.a.createElement("b",null,u.tipoSociedadad),"?"))))))},G=e=>{let a={id:null,titulo:"",codigo:"",semestre:"",link:"",estado:"",user:""};const[t,r]=Object(o.useState)(null),[n,c]=Object(o.useState)(null),[s,i]=Object(o.useState)(!1),[m,d]=Object(o.useState)(!1),[u,p]=Object(o.useState)(a),[g,E]=Object(o.useState)(null),[b,h]=Object(o.useState)(!1),f=Object(o.useRef)(null),N=Object(o.useRef)(null),[v,P]=Object(o.useState)(!1),[F,A]=Object(o.useState)(""),T=Object(M.a)({initialValues:{titulo:"",codigo:"",semestre:"",link:"",estado:"",user:""},validate:e=>{let a={};return e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(D(e.codigo)||!1!==v)&&(U(e.codigo,F)||!0!==v)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.estado||(a.estado="Se requiere el estado"),e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario",a},onSubmit:e=>{if(!0===b){let o=[...t],l={...u};if(l.titulo=e.titulo,l.codigo=e.codigo,l.semestre=e.semestre,l.link=e.link,l.estado=e.estado,l.user=e.user,l.titulo.trim())if(u.id){p({...u});o[Y(u.id)]=l,((e,a)=>{I.a.put("https://magic-tech-backend.herokuapp.com/api/updateConvocatoria/".concat(a),{titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),estado:"".concat(l.estado),user:"".concat(l.user)},u.id),f.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Actualizada",life:3e3})}else l.id=R()("conv-"),o.push(l),console.log({id:"".concat(l.id),titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),estado:"".concat(l.estado),user:"".concat(l.user)}),(e=>{I.a.post("https://magic-tech-backend.herokuapp.com/api/createConvocatoria",{id:"".concat(e.id),titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(l.id),titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),estado:"".concat(l.estado),user:"".concat(l.user)}),f.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Creada",life:3e3});r(o),i(!1),p(a),T.resetForm()}}}),D=e=>void 0===[...t].find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim()),U=(e,a)=>{let o=[...t].filter(e=>e.codigo.toLowerCase()!=a.toLowerCase()).find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim());return void 0===o||o===a},$=e=>(e=>!(!T.touched[e]||!T.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},T.errors[e]);Object(o.useEffect)(()=>{V()},[]);const V=()=>{I.a.get("https://magic-tech-backend.herokuapp.com/api/getConvocatorias").then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertados-----------"),r(e.data))})};Object(o.useEffect)(()=>{G()},[]);const G=()=>{z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),c(e.data))})};Object(o.useEffect)(()=>{console.log(v)},[v]);const H=()=>{p(a),T.resetForm(),h(!1),P(!1),i(!0)},K=()=>{h(!1),i(!1)},B=()=>{d(!1)},Y=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},_=l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:B}),l.a.createElement(y.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=t.filter(e=>e.id!==u.id);var o;r(e),d(!1),u.titulo.trim()&&u.id&&(o=u.id,I.a.delete("https://magic-tech-backend.herokuapp.com/api/deleteConvocatoriaId/".concat(o))),p(a),f.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Eliminada",life:3e3})}}));let W=l.a.createElement(x.a,null,l.a.createElement(L.a,null,l.a.createElement(w.a,{header:"ID",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"TITULO",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"CODIGO",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"SEMESTRE",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"LINK",style:{"background-color":"#13af4e",width:"40%"}}),l.a.createElement(w.a,{header:"ESTADO",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"USER",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(k.a,{ref:f}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:H}))}),l.a.createElement(C.a,{headerColumnGroup:W,ref:N,value:t,selection:g,onSelectionChange:e=>E(e.value),dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm col-12",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0},l.a.createElement(w.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(w.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),l.a.createElement(w.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),l.a.createElement(w.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),l.a.createElement(w.a,{style:{width:"40%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(y.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),l.a.createElement(w.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(w.a,{style:{width:"20%"},field:"user",header:"USER",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"User"),e.user)}),l.a.createElement(w.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(y.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success p-mr-2",onClick:()=>(e=>{p({...e}),h(!0),T.resetForm(),T.setValues({titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}),A("".concat(e.codigo)),P(!0),i(!0)})(e)}),l.a.createElement(y.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{p(e),d(!0)})(e)}))})),l.a.createElement(j.a,{visible:s,style:{width:"450px"},header:()=>v?"Actualizando convocatoria":"A\xf1adir convocatoria",modal:!0,className:"p-fluid",onHide:K},l.a.createElement("form",{onSubmit:T.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/title.png":"assets/layout/images/title-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(O.a,{id:"titulo",name:"titulo",placeholder:"Titulo",value:T.values.titulo,onChange:T.handleChange,autoFocus:!0}))),$("titulo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(O.a,{id:"codigo",name:"codigo",placeholder:"Codigo",value:T.values.codigo,onChange:T.handleChange}))),$("codigo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-calendar"})),l.a.createElement(q.a,{id:"semestre",name:"semestre",placeholder:"Seleccione el semestre",value:T.values.semestre,onChange:T.handleChange,options:[{name:"I-2020"},{name:"II-2020"},{name:"I-2021"},{name:"II-2021"},{name:"I-2022"},{name:"II-2022"}],optionLabel:"name",optionValue:"name"}))),$("semestre"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-link"})),l.a.createElement(Z.a,{id:"link",name:"link",placeholder:"Link",value:T.values.link,onChange:T.handleChange}))),$("link"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/post.png":"assets/layout/images/post-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(q.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:T.values.estado,onChange:T.handleChange,options:[{name:"Publicar"},{name:"No publicado"}],optionLabel:"name",optionValue:"name"}))),$("estado"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(q.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:T.values.user,onChange:T.handleChange,options:n,optionLabel:"nombre",optionValue:"id"}))),$("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:K,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{h(!0),T.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(j.a,{className:"mt-2",visible:m,style:{width:"450px"},header:"Confirm",modal:!0,footer:_,onHide:B},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),u&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,u.titulo)," ",l.a.createElement("b",null,u.semestre),"?"))))))},H=e=>{let a={id:null,titulo:"",codigo:"",semestre:"",link:"",estado:"",user:""};const[t,r]=Object(o.useState)(null),[n,c]=Object(o.useState)(null),[s,i]=Object(o.useState)(!1),[m,d]=Object(o.useState)(!1),[u,p]=Object(o.useState)(a),[g,E]=Object(o.useState)(null),[b,h]=Object(o.useState)(!1),f=Object(o.useRef)(null),N=Object(o.useRef)(null),[v,P]=Object(o.useState)(!1),[F,A]=Object(o.useState)(""),T=Object(M.a)({initialValues:{titulo:"",codigo:"",semestre:"",link:"",estado:"",user:""},validate:e=>{let a={};return e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(D(e.codigo)||!1!==v)&&(U(e.codigo,F)||!0!==v)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.link?e.link.length>500?a.link="Como maximo 500 caracteres":/^(ftp|http|https):\/\/[^ "]+$/.test(e.link)||(a.link="El link no es valido"):a.link="Se requiere el link",e.estado||(a.estado="Se requiere el estado"),e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario",a},onSubmit:e=>{if(!0===b){let o=[...t],l={...u};if(l.titulo=e.titulo,l.codigo=e.codigo,l.semestre=e.semestre,l.link=e.link,l.estado=e.estado,l.user=e.user,l.titulo.trim())if(u.id){p({...u});o[Y(u.id)]=l,((e,a)=>{I.a.put("https://magic-tech-backend.herokuapp.com/api/updatePliego/".concat(a),{titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),estado:"".concat(l.estado),user:"".concat(l.user)},u.id),f.current.show({severity:"success",summary:"Successful",detail:"Pliego de especificaciones Actualizada",life:3e3})}else l.id=R()("plieg-"),o.push(l),(e=>{I.a.post("https://magic-tech-backend.herokuapp.com/api/createPliego",{id:"".concat(e.id),titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(l.id),titulo:"".concat(l.titulo),codigo:"".concat(l.codigo),semestre:"".concat(l.semestre),link:"".concat(l.link),estado:"".concat(l.estado),user:"".concat(l.user)}),f.current.show({severity:"success",summary:"Successful",detail:"Pliego de especificaciones Creada",life:3e3});r(o),i(!1),p(a),T.resetForm()}}}),D=e=>void 0===[...t].find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim()),U=(e,a)=>{let o=[...t].filter(e=>e.codigo.toLowerCase().trim()!=a.toLowerCase().trim()).find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim());return void 0===o||o===a},$=e=>(e=>!(!T.touched[e]||!T.errors[e]))(e)&&l.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},T.errors[e]);Object(o.useEffect)(()=>{V()},[]);const V=()=>{I.a.get("https://magic-tech-backend.herokuapp.com/api/getPliegos").then(e=>{e.error?console.log("Error"):(console.log("---------Pliego de espeficiaciones insertados-----------"),r(e.data))})};Object(o.useEffect)(()=>{G()},[]);const G=()=>{z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),c(e.data))})};Object(o.useEffect)(()=>{console.log(v)},[v]);const H=()=>{p(a),T.resetForm(),h(!1),P(!1),i(!0)},K=()=>{h(!1),i(!1)},B=()=>{d(!1)},Y=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},_=l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:B}),l.a.createElement(y.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=t.filter(e=>e.id!==u.id);var o;r(e),d(!1),u.titulo.trim()&&u.id&&(o=u.id,I.a.delete("https://magic-tech-backend.herokuapp.com/api/deletePliegoId/".concat(o))),p(a),f.current.show({severity:"success",summary:"Successful",detail:"Pliego de espeficiacion Eliminada",life:3e3})}}));let W=l.a.createElement(x.a,null,l.a.createElement(L.a,null,l.a.createElement(w.a,{header:"ID",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"TITULO",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"CODIGO",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"SEMESTRE",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"LINK",style:{"background-color":"#13af4e",width:"40%"}}),l.a.createElement(w.a,{header:"ESTADO",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"USUARIO",style:{"background-color":"#13af4e",width:"20%"}}),l.a.createElement(w.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return l.a.createElement("div",{className:"p-grid crud-demo"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(k.a,{ref:f}),l.a.createElement(S.a,{className:"",left:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:H}))}),l.a.createElement(C.a,{headerColumnGroup:W,ref:N,value:t,selection:g,onSelectionChange:e=>E(e.value),dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm col-12",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0},l.a.createElement(w.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),l.a.createElement(w.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),l.a.createElement(w.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),l.a.createElement(w.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),l.a.createElement(w.a,{style:{width:"40%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(y.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),l.a.createElement(w.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),l.a.createElement(w.a,{style:{width:"20%"},field:"user",header:"USER",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"User"),e.user)}),l.a.createElement(w.a,{style:{width:"20%"},body:e=>l.a.createElement("div",{className:"actions"},l.a.createElement(y.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success p-mr-2",onClick:()=>(e=>{p({...e}),h(!0),T.resetForm(),T.setValues({titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}),A("".concat(e.codigo)),P(!0),i(!0)})(e)}),l.a.createElement(y.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{p(e),d(!0)})(e)}))})),l.a.createElement(j.a,{visible:s,style:{width:"450px"},header:()=>v?"Actualizando pliego de espeficiciones":"A\xf1adir pliego de espeficiciones",modal:!0,className:"p-fluid",onHide:K},l.a.createElement("form",{onSubmit:T.handleSubmit},l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/title.png":"assets/layout/images/title-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(O.a,{id:"titulo",name:"titulo",placeholder:"Titulo",value:T.values.titulo,onChange:T.handleChange,autoFocus:!0}))),$("titulo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(O.a,{id:"codigo",name:"codigo",placeholder:"Codigo",value:T.values.codigo,onChange:T.handleChange}))),$("codigo"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-calendar"})),l.a.createElement(q.a,{id:"semestre",name:"semestre",placeholder:"Seleccione el semestre",value:T.values.semestre,onChange:T.handleChange,options:[{name:"I-2020"},{name:"II-2020"},{name:"I-2021"},{name:"II-2021"},{name:"I-2022"},{name:"II-2022"}],optionLabel:"name",optionValue:"name"}))),$("semestre"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-link"})),l.a.createElement(Z.a,{id:"link",name:"link",placeholder:"Link",value:T.values.link,onChange:T.handleChange}))),$("link"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/post.png":"assets/layout/images/post-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(q.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:T.values.estado,onChange:T.handleChange,options:[{name:"Publicar"},{name:"No publicado"}],optionLabel:"name",optionValue:"name"}))),$("estado"),l.a.createElement("div",{className:"p-field mt-2"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(q.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:T.values.user,onChange:T.handleChange,options:n,optionLabel:"nombre",optionValue:"id"}))),$("user"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"flex justify-content-center flex-wrap"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:K,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{h(!0),T.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),l.a.createElement(j.a,{className:"mt-2",visible:m,style:{width:"450px"},header:"Confirm",modal:!0,footer:_,onHide:B},l.a.createElement("div",{className:"confirmation-content"},l.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),u&&l.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",l.a.createElement("b",null,u.titulo)," ",l.a.createElement("b",null,u.semestre),"?"))))))},K=()=>l.a.createElement("div",{className:"grid"},l.a.createElement("h1",null,"Estamos trabajando - En los Avisos")),B=()=>{const[e,a]=Object(o.useState)(null),[t,r]=Object(o.useState)(""),[n,c]=Object(o.useState)(!0);Object(o.useEffect)(()=>{s()},[]);const s=()=>{$().then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertados-----------"),a(e.data),c(!1))})},i=l.a.createElement("div",{className:"table-header"},"Lista de empresas registradas en funda empresa",l.a.createElement("span",{className:"p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(O.a,{value:t,onChange:e=>r(e.target.value),placeholder:"Busqueda de empresa"})));return l.a.createElement("div",{className:"grid table-demo"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(C.a,{value:e,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:t,emptyMessage:"No se encontraron empresas",loading:n,header:i},l.a.createElement(w.a,{style:{width:"20%"},field:"nombre",header:"NOMBRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),l.a.createElement(w.a,{style:{width:"20%"},field:"tipoSociedad",header:"SOCIEDAD",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Tipo Sociedad"),e.tipoSociedad)}),l.a.createElement(w.a,{style:{width:"20%"},field:"direccion",header:"DIRECCION",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Direccion"),e.direccion)}),l.a.createElement(w.a,{style:{width:"25%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)})))))},Y=e=>{const[a,t]=Object(o.useState)(null),[r,n]=Object(o.useState)(""),[c,s]=Object(o.useState)(!0);Object(o.useEffect)(()=>{i()},[]);const i=()=>{I.a.get("https://magic-tech-backend.herokuapp.com/api/getConvocatoriasPublicados").then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertados-----------"),t(e.data),s(!1))})},m=l.a.createElement("div",{className:"table-header"},"Lista de convocatorias publicadas",l.a.createElement("span",{className:"p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(O.a,{value:r,onChange:e=>n(e.target.value),placeholder:"Busqueda de convocatorias"})));return l.a.createElement("div",{className:"grid table-demo"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(C.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:r,emptyMessage:"No se encontraron empresas",loading:c,header:m},l.a.createElement(w.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),l.a.createElement(w.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),l.a.createElement(w.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),l.a.createElement(w.a,{style:{width:"25%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(y.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))})))))},_=e=>{const[a,t]=Object(o.useState)(null),[r,n]=Object(o.useState)(""),[c,s]=Object(o.useState)(!0);Object(o.useEffect)(()=>{i()},[]);const i=()=>{I.a.get("https://magic-tech-backend.herokuapp.com/api/getPliegosPublicados").then(e=>{e.error?console.log("Error"):(console.log("---------Pliegos insertados-----------"),t(e.data),s(!1))})},m=l.a.createElement("div",{className:"table-header"},"Lista de Pliego de espeficicaciones publicados",l.a.createElement("span",{className:"p-input-icon-left"},l.a.createElement("i",{className:"pi pi-search"}),l.a.createElement(O.a,{value:r,onChange:e=>n(e.target.value),placeholder:"Busqueda de convocatorias"})));return l.a.createElement("div",{className:"grid table-demo"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement(C.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:r,emptyMessage:"No se encontraron empresas",loading:c,header:m},l.a.createElement(w.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),l.a.createElement(w.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),l.a.createElement(w.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),l.a.createElement(w.a,{style:{width:"25%"},field:"link",header:"LINK",sortable:!0,body:a=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-column-title"},"Link"),l.a.createElement(y.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))})))))};class W{getMenusAdmin(){return I.a.get("assets/demo/data/menuAdmin.json").then(e=>e.data.data)}getMenusUser(){return I.a.get("assets/demo/data/menuUser.json").then(e=>e.data.data)}getMenusDocente(){return I.a.get("assets/demo/data/menuDocente.json").then(e=>e.data.data)}}var J=t(12);t(177),t(178),t(179),t(180),t(181),t(182),t(183);var Q=()=>{const[e,a]=Object(o.useState)("static"),[t,r]=Object(o.useState)("light"),[n,c]=Object(o.useState)("outlined"),[d,E]=Object(o.useState)(!0),[b,f]=Object(o.useState)(!1),[y,C]=Object(o.useState)(!1),[w,k]=Object(o.useState)(!1),[S,j]=Object(o.useState)(!1),[O,x]=Object(o.useState)(null),L=(new u.a,new W);J.a.ripple=!0;let M=!1,P=!1;Object(o.useEffect)(()=>{L.getMenusAdmin().then(e=>x(e))},[]),Object(o.useEffect)(()=>{w?F(document.body,"body-overflow-hidden"):I(document.body,"body-overflow-hidden")},[w]);const R=()=>window.innerWidth>=992,F=(e,a)=>{e.classList?e.classList.add(a):e.className+=" "+a},I=(e,a)=>{e.classList?e.classList.remove(a):e.className=e.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")},A=s()("layout-wrapper",{"layout-overlay":"overlay"===e,"layout-static":"static"===e,"layout-static-sidebar-inactive":b&&"static"===e,"layout-overlay-sidebar-active":y&&"overlay"===e,"layout-mobile-sidebar-active":w,"p-input-filled":"filled"===n,"p-ripple-disabled":!1===d,"layout-theme-light":"light"===t});return l.a.createElement("div",{className:A,onClick:e=>{M||(C(!1),k(!1)),P||j(!1),P=!1,M=!1}},l.a.createElement(p,{onToggleMenuClick:a=>{M=!0,R()?"overlay"===e?(!0===w&&C(!0),C(e=>!e),k(!1)):"static"===e&&f(e=>!e):k(e=>!e),a.preventDefault()},layoutColorMode:t,mobileTopbarMenuActive:S,onMobileTopbarMenuClick:e=>{P=!0,j(e=>!e),e.preventDefault()},onMobileSubTopbarMenuClick:e=>{P=!0,e.preventDefault()}}),l.a.createElement("div",{className:"layout-sidebar",onClick:()=>{M=!0}},l.a.createElement(h,{model:O,onMenuItemClick:e=>{e.item.items||(C(!1),k(!1))},layoutColorMode:t})),l.a.createElement("div",{className:"layout-main-container"},l.a.createElement("div",{className:"layout-main"},l.a.createElement(i.a,{path:"/",exact:!0,component:v}),l.a.createElement(i.a,{path:"/Role",exact:!0,render:e=>l.a.createElement(T,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/User",exact:!0,render:e=>l.a.createElement(U,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/Empresa",exact:!0,render:e=>l.a.createElement(V,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/Convocatoria",exact:!0,render:e=>l.a.createElement(G,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/PliegoEspecificacion",exact:!0,render:e=>l.a.createElement(H,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/Aviso",component:K}),l.a.createElement(i.a,{path:"/ListEmpresa",exact:!0,render:e=>l.a.createElement(B,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/ListConvocatoria",exact:!0,render:e=>l.a.createElement(Y,Object.assign({layoutColorMode:t},e))}),l.a.createElement(i.a,{path:"/ListPliego",exact:!0,render:e=>l.a.createElement(_,Object.assign({layoutColorMode:t},e))})),l.a.createElement(g,{layoutColorMode:t})),l.a.createElement(N,{rippleEffect:d,onRippleEffect:e=>{J.a.ripple=e.value,E(e.value)},inputStyle:n,onInputStyleChange:e=>{c(e)},layoutMode:e,onLayoutModeChange:e=>{a(e)},layoutColorMode:t,onColorModeChange:e=>{r(e)}}),l.a.createElement(m.a,{classNames:"layout-mask",timeout:{enter:200,exit:200},in:w,unmountOnExit:!0},l.a.createElement("div",{className:"layout-mask p-component-overlay"})))};var X=Object(i.h)(e=>{let a=Object(i.g)();return Object(o.useEffect)(()=>{window.scrollTo(0,0)},[a]),e.children}),ee=t(55);const ae=e=>{const a=Object(i.f)(),[t,r]=Object(o.useState)(!0),n=Object(o.useRef)(null),c=new u.a,s=Object(M.a)({initialValues:{email:"",password:""},validate:e=>{let a={};return e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com"):a.email="Se requiere el correo electronico",e.password?e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",a},onSubmit:e=>{r(!1);const t=setTimeout(()=>{},1e4);I.a.post("https://magic-tech-backend.herokuapp.com/api/login",{email:"".concat(e.email),password:"".concat(e.password)}).then((function(e){c.set("id",e.data.id,{path:"/"}),c.set("nombre",e.data.nombre,{path:"/"}),c.set("apellido",e.data.apellido,{path:"/"}),c.set("email",e.data.email,{path:"/"}),c.set("rol",e.data.rol,{path:"/"}),c.set("isLogin",!0),console.log("id:        "+c.get("id")),console.log("nombre:    "+c.get("nombre")),console.log("apellido:  "+c.get("apellido")),console.log("email:     "+c.get("email")),console.log("rol:       "+c.get("rol")),console.log("isLogin:   "+c.get("isLogin")),200===e.status&&(clearTimeout(t),a.push("/")),s.resetForm(),r(!0)})).catch((function(a){n.current.show({severity:"error",summary:"Error Message",detail:"El correo electronico o la contrase\xf1a son incorrectas",life:3e3}),clearTimeout(t),r(!0),s.resetForm(),s.setValues({email:"".concat(e.email),password:""})}))}}),m=e=>(e=>!(!s.touched[e]||!s.errors[e]))(e)&&l.a.createElement("small",{className:"ml-5 p-error",style:{color:"#ff0000"}},s.errors[e]);return l.a.createElement("div",{className:"grid justify-content-evenly mt-6"},l.a.createElement(k.a,{ref:n}),l.a.createElement("div",{className:"lg:col-3"}),l.a.createElement("div",{className:" lg:col-3 md:col-3"},l.a.createElement("div",{className:"card p-fluid",style:"light"===c.get("theme")?{border:"black 2px outset"}:{border:"white 2px outset"}},l.a.createElement("form",{onSubmit:s.handleSubmit},l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement("h2",{className:"p-text-center p-p-1"},"Iniciar sesi\xf3n"))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement("img",{src:"light"===c.get("theme")?"assets/layout/images/avatar.png":"assets/layout/images/avatar-dark.png",className:"p-avatar-xl",shape:"circle",size:"xlarge",style:{height:"8em",width:"8em"}}))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center"},l.a.createElement("div",{className:"p-field mt-1 lg:col-11"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===c.get("theme")?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(O.a,{id:"email",name:"email",placeholder:"Correo electronico",value:s.values.email,onChange:s.handleChange,autoFocus:!0}))))),m("email"),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center"},l.a.createElement("div",{className:"p-field mt-1 lg:col-10"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===c.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(D.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:s.values.password,onChange:s.handleChange,toggleMask:!0,feedback:!1}))))),m("password"),t?l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},l.a.createElement(y.a,{type:"submit",id:"buttonSubmit",icon:"pi pi-arrow-right",className:"p-button-raised mt-4 p-button-lg",style:{fontSize:"1.5em","background-color":"#d13639",color:"#ffffff",border:"1px solid hsl(0deg 0% 100% / 12%)"}}))):l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-4"},l.a.createElement(ee.a,{style:{width:"50px",height:"50px",stroke:"#d62d20"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"10s"}))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  mt-3"},l.a.createElement(d.b,{to:"/Register"},l.a.createElement(y.a,{label:"Crear una cuenta",className:"p-button-link",style:"light"===c.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}})))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center"},l.a.createElement(d.b,{to:"/"},l.a.createElement(y.a,{label:"Pagina principal",className:"p-button-link",style:"light"===c.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}}))))))),l.a.createElement("div",{className:"lg:col-3"}))},te=e=>{const a=Object(o.useRef)(null),[t,r]=Object(o.useState)(null),[n,c]=(Object(i.f)(),Object(o.useState)("")),[s,m]=Object(o.useState)(!0),p=new u.a,g=Object(M.a)({initialValues:{nombre:"",apellido:"",email:"",password:"",confirmPassword:""},validate:e=>{let a={};return e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)||(a.nombre="No se permiten numero o caracteres especiales"):a.nombre="Se requiere el nombre",e.apellido?e.apellido.length<2?a.apellido="Como minimo 2 caracteres":e.apellido.length>30?a.apellido="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.apellido)||(a.apellido="No se permiten numero o caracteres especiales"):a.apellido="Se requiere el apellido",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?b(e.email)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",a},onSubmit:e=>{let t=R()("user-");m(!1);const o=setTimeout(()=>{},1e4);I.a.post("https://magic-tech-backend.herokuapp.com/api/createUser",{id:"".concat(t),nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),rol:"".concat("rol-kvjva7f6")}).then((function(e){200===e.status&&(clearTimeout(o),a.current.show({severity:"success",summary:"Successful",detail:"Registrado Exitosamente",life:3e3})),g.resetForm(),m(!0)})).catch((function(e){clearTimeout(o),m(!0),g.resetForm()}))}}),E=e=>(e=>!(!g.touched[e]||!g.errors[e]))(e)&&l.a.createElement("small",{className:"ml-2 p-error",style:{color:"#ff0000"}},g.errors[e]),b=e=>void 0===[...t].find(a=>a.email.toLowerCase()===e.toLowerCase());Object(o.useEffect)(()=>{h()},[]);const h=()=>{z().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),r(e.data))})};return l.a.createElement("div",{className:"grid justify-content-evenly mt-6"},l.a.createElement(k.a,{ref:a}),l.a.createElement("div",{className:"lg:col-3"}),l.a.createElement("div",{className:" lg:col-3 md:col-3"},l.a.createElement("div",{className:"card p-fluid",style:"light"===p.get("theme")?{border:"black 2px outset"}:{border:"white 2px outset"}},l.a.createElement("form",{onSubmit:g.handleSubmit},l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("h2",{className:"p-text-center p-p-1"},"Registrarse"))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-2 lg:col-12"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(O.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:g.values.nombre,onChange:g.handleChange,autoFocus:!0}))))),E("nombre"),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-1 lg:col-12"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("i",{className:"pi pi-user"})),l.a.createElement(O.a,{id:"apellido",name:"apellido",placeholder:"Apellido",value:g.values.apellido,onChange:g.handleChange}))))),E("apellido"),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-1 lg:col-12"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(O.a,{id:"email",name:"email",placeholder:"Correo electronico",value:g.values.email,onChange:g.handleChange}))))),E("email"),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-1 lg:col-11"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(D.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:g.values.password,onChange:g.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))))),E("password"),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-1 lg:col-11"},l.a.createElement("div",{className:"p-inputgroup"},l.a.createElement("span",{className:"p-inputgroup-addon"},l.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),l.a.createElement(D.a,{id:"confirmPassword",name:"confirmPassword",placeholder:"Repite la contrase\xf1a",value:g.values.confirmPassword,onChange:g.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))))),E("confirmPassword"),s?l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  "},l.a.createElement("div",{className:"p-field mt-3 lg:col-11"},l.a.createElement(y.a,{label:"Registrar",icon:"pi pi-check",type:"submit",className:"p-button-text",style:{background:"#13af4e",color:"#ffffff"}})))):l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center  m-4"},l.a.createElement(ee.a,{style:{width:"50px",height:"50px",stroke:"#d62d20"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"10s"}))),l.a.createElement("div",{className:"grid flex justify-content-center mt-3"},l.a.createElement("div",{className:"flex align-items-center justify-content-center"},l.a.createElement(d.b,{to:"/Login"},l.a.createElement(y.a,{label:"Iniciar sesion",className:"p-button-link",style:"light"===p.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}})))),l.a.createElement("div",{className:"grid flex justify-content-center"},l.a.createElement("div",{className:"flex align-items-center justify-content-center"},l.a.createElement(d.b,{to:"/"},l.a.createElement(y.a,{label:"Pagina principal",className:"p-button-link",style:"light"===p.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}}))))))),l.a.createElement("div",{className:"lg:col-3"}))};(new u.a).set("isLogin",!1);n.a.render(l.a.createElement(d.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/Login",exact:!0,render:e=>l.a.createElement(ae,Object.assign({layoutColorMode:"light"},e))}),l.a.createElement(i.a,{path:"/Register",exact:!0,render:e=>l.a.createElement(te,Object.assign({layoutColorMode:"light"},e))}),l.a.createElement(X,null,l.a.createElement(Q,null)))),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.d40312e3.chunk.js.map