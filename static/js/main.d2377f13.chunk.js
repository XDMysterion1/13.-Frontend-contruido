(this["webpackJsonpsakai-react"]=this["webpackJsonpsakai-react"]||[]).push([[0],{119:function(e,a,t){e.exports=t(200)},169:function(e,a,t){e.exports=t.p+"static/media/fondo.0b06b9f3.jpeg"},197:function(e,a,t){},198:function(e,a,t){},199:function(e,a,t){},200:function(e,a,t){"use strict";t.r(a);t(120);var o=t(0),c=t.n(o),n=t(33),l=t.n(n),r=t(21),i=t.n(r),s=t(20),m=t(201),d=t(9),p=t(107),u=t(32);const g=e=>{const[a,t]=Object(o.useState)(!1),[n,l]=Object(o.useState)(!1),r=Object(s.f)(),m=new u.a;Object(o.useEffect)(()=>{t(m.get("isLogin")),console.log("--------------login---------------"),console.log(a)},[m.get("isLogin")]),Object(o.useEffect)(()=>{},[a]);return c.a.createElement("div",{className:"layout-topbar"},c.a.createElement("button",{type:"button",className:"p-link  layout-menu-button layout-topbar-button",onClick:e.onToggleMenuClick},c.a.createElement("i",{className:"pi pi-bars"})),c.a.createElement("button",{type:"button",className:"p-link layout-topbar-menu-button layout-topbar-button",onClick:e.onMobileTopbarMenuClick},c.a.createElement("i",{className:"pi pi-ellipsis-v"})),c.a.createElement(d.c,{to:"/",className:"layout-topbar-logo ml-6 "},c.a.createElement("img",{src:(e.layoutColorMode,"assets/layout/images/MagicTech.png"),alt:"logo",style:{height:"1.8em",width:"2.0em"}}),"light"===e.layoutColorMode?m.set("theme","light"):m.set("theme","dark"),c.a.createElement("span",null,"MAGIC TECH")),console.log("---------------login2136546897----------"),console.log(a),"true"===a?c.a.createElement("ul",{className:i()("layout-topbar-menu lg:flex origin-top",{"layout-topbar-menu-mobile-active":e.mobileTopbarMenuActive})},c.a.createElement("li",null,c.a.createElement(p.a,{icon:"pi pi-user",className:"",size:"large",shape:"circle",style:{backgroundColor:"#13af4e",color:"#ffffff"}})),c.a.createElement("li",{className:"m-2 mt-3"},c.a.createElement("span",null,c.a.createElement("b",null,m.get("nombre")),"  ",c.a.createElement("b",null,m.get("apellido")))),c.a.createElement("li",null,c.a.createElement("button",{className:"p-link layout-topbar-button",onClick:()=>{m.remove("id"),m.remove("nombre"),m.remove("apellido"),m.remove("email"),m.set("rol","rol-gt521sdfg",{path:"/"}),m.set("isLogin",!1),r.push("/Login")}},c.a.createElement("i",{className:"pi pi-sign-out"}),c.a.createElement("span",null,"Cerrar sesion")))):c.a.createElement("ul",{className:i()("layout-topbar-menu lg:flex origin-top",{"layout-topbar-menu-mobile-active":e.mobileTopbarMenuActive})},c.a.createElement("li",null,c.a.createElement("button",{className:"p-link layout-topbar-button",onClick:()=>r.push("/Register")},c.a.createElement("i",{className:"pi pi-user-plus"}),c.a.createElement("span",null,"Registrarse"))),c.a.createElement("li",null,c.a.createElement("button",{className:"p-link layout-topbar-button",onClick:()=>r.push("/Login")},c.a.createElement("i",{className:"pi pi-user"}),c.a.createElement("span",null,"Iniciar Sesion")))))},b=e=>c.a.createElement("div",{className:"layout-footer grid"},c.a.createElement("div",{class:"col-12 md:col-6 lg:col-3 text-left"},c.a.createElement("img",{src:(e.layoutColorMode,"assets/layout/images/MagicTech.png"),alt:"logo",style:{height:"3.5em",width:"3.8em"}})),c.a.createElement("div",{class:"col-12 md:col-6 lg:col-3"},c.a.createElement("h6",{className:"text-center"},"SOBRE NOSOTROS"),c.a.createElement("p",null,"Grupo Empresa de dise\xf1o y desarrollo de sitios y aplicaciones web")),c.a.createElement("div",{class:"col-12 md:col-6 lg:col-3"},c.a.createElement("h6",{className:"text-center"},"INFORMACION CONTACTOS"),c.a.createElement("i",{className:"pi pi-home text-left",style:{fontSize:"1em"}}," calle 16 de julio # 100 Cochabamba",c.a.createElement("br",null),"  "),c.a.createElement("i",{className:"pi pi-mobile text-left",style:{fontSize:"1em"}}," +591-67562165            "),c.a.createElement("i",{className:"pi pi-envelope text-left",style:{fontSize:"1em"}}," magictech.tis@gmail.com ",c.a.createElement("br",null))));var h=t(109);const f=e=>{const[a,t]=Object(o.useState)(null),n=(o,c,n)=>{if(c.disabled)return o.preventDefault(),!0;c.command&&c.command({originalEvent:o,item:c}),t(n===a?null:n),e.onMenuItemClick&&e.onMenuItemClick({originalEvent:o,item:c})},l=(e,a)=>{let t=(e=>{let a=e.items&&c.a.createElement("i",{className:"pi pi-fw pi-angle-down menuitem-toggle-icon"}),t=e.badge&&c.a.createElement("span",{className:"menuitem-badge"},e.badge);return c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:e.icon}),c.a.createElement("span",null,e.label),a,t,c.a.createElement(h.a,null))})(e);return e.to?c.a.createElement(d.d,{className:"p-ripple",activeClassName:"router-link-active router-link-exact-active",to:e.to,onClick:t=>n(t,e,a),exact:!0,target:e.target},t):c.a.createElement("a",{href:e.url,className:"p-ripple",onClick:t=>n(t,e,a),target:e.target},t)};let r=e.items&&e.items.map((t,o)=>{let n=a===o,r=i()(t.badgeStyleClass,{"layout-menuitem-category":e.root,"active-menuitem":n&&!t.to});return e.root?c.a.createElement("li",{className:r,key:o},!0===e.root&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"layout-menuitem-root-text"},t.label),c.a.createElement(f,{items:t.items,onMenuItemClick:e.onMenuItemClick}))):c.a.createElement("li",{className:r,key:o},l(t,o),c.a.createElement(m.a,{classNames:"layout-submenu-wrapper",timeout:{enter:1e3,exit:450},in:n,unmountOnExit:!0},c.a.createElement(f,{items:t.items,onMenuItemClick:e.onMenuItemClick})))});return r?c.a.createElement("ul",{className:e.className},r):null},E=e=>c.a.createElement("div",{className:"layout-menu-container"},c.a.createElement(f,{items:e.model,className:"layout-menu",onMenuItemClick:e.onMenuItemClick,root:!0}));var v=t(48),C=(t(168),t(3));const N=e=>{const[a,t]=Object(o.useState)(!1),[n,l]=Object(o.useState)(16),[r]=Object(o.useState)([12,13,14,15,16]),[s,m]=Object(o.useState)("saga"),[d,p]=Object(o.useState)("blue"),g=Object(o.useRef)(null);let b=Object(o.useRef)(null);const h=new u.a,f=Object(o.useCallback)(()=>{b.current&&(document.removeEventListener("click",b.current),b.current=null)},[]),E=Object(o.useCallback)(e=>{t(!1),f(),e.preventDefault()},[f]),N=Object(o.useCallback)(()=>{b.current||(b.current=e=>{a&&y(e)&&E(e)},document.addEventListener("click",b.current))},[a,E]);Object(o.useEffect)(()=>{a?N():f()},[a,N,f]);const y=e=>!(g.current.isSameNode(e.target)||g.current.contains(e.target));Object(o.useEffect)(()=>{document.documentElement.style.fontSize=n+"px"},[n]);const I=i()("layout-config",{"layout-config-active":a});Object(o.useEffect)(()=>{let e=s+"-"+d,a=document.getElementById("theme-link");w(a,"assets/themes/"+e+"/theme.css")});const w=(e,a,t)=>{if(S())e.setAttribute("href",a),t&&t();else{const o=e.getAttribute("id"),c=e.cloneNode(!0);c.setAttribute("href",a),c.setAttribute("id",o+"-clone"),e.parentNode.insertBefore(c,e.nextSibling),c.addEventListener("load",()=>{e.remove(),c.setAttribute("id",o),t&&t()})}},S=()=>/(MSIE|Trident\/|Edge\/)/i.test(window.navigator.userAgent),k=(a,t)=>{e.onColorModeChange(a.value),m(t),"saga"===t?h.set("theme","light"):h.set("theme","dark")},A=(e,a)=>{p(a)};return c.a.createElement("div",{ref:g,className:I,id:"layout-config"},c.a.createElement("button",{className:"layout-config-button p-link",id:"layout-config-button",onClick:e=>{t(e=>!e)}},c.a.createElement("i",{className:"pi pi-cog"})),c.a.createElement(C.a,{className:"p-button-danger layout-config-close p-button-rounded p-button-text",icon:"pi pi-times",onClick:E}),c.a.createElement("div",{className:"layout-config-content"},c.a.createElement("h6",{className:"mt-0"},"Escala de Componentes"),c.a.createElement("div",{className:"config-scale"},c.a.createElement(C.a,{icon:"pi pi-minus",onClick:()=>{l(e=>--e)},className:"p-button-text",disabled:n===r[0]}),r.map(e=>c.a.createElement("i",{className:i()("pi pi-circle-on",{"scale-active":e===n}),key:e})),c.a.createElement(C.a,{icon:"pi pi-plus",onClick:()=>{l(e=>++e)},className:"p-button-text",disabled:n===r[r.length-1]})),c.a.createElement("h6",null,"Tipo de Menu"),c.a.createElement("div",{className:"p-formgroup-inline"},c.a.createElement("div",{className:"field-radiobutton"},c.a.createElement(v.a,{inputId:"static",name:"layoutMode",value:"static",onChange:a=>e.onLayoutModeChange(a.value),checked:"static"===e.layoutMode}),c.a.createElement("label",{htmlFor:"static"},"Estatico")),c.a.createElement("div",{className:"field-radiobutton"},c.a.createElement(v.a,{inputId:"overlay",name:"layoutMode",value:"overlay",onChange:a=>e.onLayoutModeChange(a.value),checked:"overlay"===e.layoutMode}),c.a.createElement("label",{htmlFor:"overlay"},"Dinamico"))),c.a.createElement("h6",null,"Tema"),c.a.createElement("div",{className:"p-formgroup-inline"},c.a.createElement("div",{className:"field-radiobutton"},c.a.createElement(v.a,{inputId:"light",name:"layoutColorMode",value:"light",onChange:e=>k(e,"saga"),checked:"light"===e.layoutColorMode}),c.a.createElement("label",{htmlFor:"light"},"Claro")),c.a.createElement("div",{className:"field-radiobutton"},c.a.createElement(v.a,{inputId:"dim",name:"layoutColorMode",value:"dim",onChange:e=>k(e,"vela"),checked:"dim"===e.layoutColorMode}),c.a.createElement("label",{htmlFor:"dark"},"Noche")),c.a.createElement("div",{className:"field-radiobutton"},c.a.createElement(v.a,{inputId:"dark",name:"layoutColorMode",value:"dark",onChange:e=>k(e,"arya"),checked:"dark"===e.layoutColorMode}),c.a.createElement("label",{htmlFor:"dark"},"Oscuro"))),c.a.createElement("h6",null,"Colores Primarios"),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-blue-500 mr-3 cursor-pointer",onClick:e=>A(0,"blue")}),c.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-green-500 mr-3 cursor-pointer",onClick:e=>A(0,"green")}),c.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-orange-500 mr-3 cursor-pointer",onClick:e=>A(0,"orange")}),c.a.createElement("div",{style:{width:"2rem",height:"2rem",borderRadius:"6px"},className:"bg-purple-500 mr-3 cursor-pointer",onClick:e=>A(0,"purple")}))))};var y=t(8);const I=e=>c.a.createElement("div",{class:"flex align-items-center justify-content-center font-family m-1 px-5 py-1 border-round"},c.a.createElement("p",null,"\xa9 2021 Todos los Derechos Reservados | Magic Tech"));t(169);var w=t(110);t(170),t(171),t(172);const S=()=>c.a.createElement("div",{className:"card"},c.a.createElement("div",{class:"flex flex-column card-container green-container"},c.a.createElement("div",{class:"flex align-items-center justify-content-center h-4rem font-bold border-round m-2"},c.a.createElement("h1",{className:"text-center"},"Bienvenido al Sistema de Apoyo a la Empresa TIS")),c.a.createElement("div",{class:"flex align-items-center justify-content-center h-4rem border-round m-2"},c.a.createElement("h3",null,"Sistema de apoyo desarrollado para la materia de taller de ingenieria de software"))),c.a.createElement(w.a,{legend:"Descripcion"},c.a.createElement("p",null,"Aplicacion web para el asesoramiento de grupos de desarrollo de software, consiste en acompa\xf1ar el trabajo de un grupo empresa en el desarrollo de software, donde los asesores indican las observaciones del trabajo de un grupo-empresa con el fin de mejorar la calidad de su proceso de desarrollo.")));var k=t(13),A=t(2),P=t(14),x=t(19),O=t(10),L=t(6),j=t(12),T=t(7),B=t(5),R=t(15),D=t(17),F=t.n(D),M=t(4),z=t.n(M);const q=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updateRol/".concat(a),{rol:"".concat(e.rol),estado:"".concat(e.estado)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),G=()=>z.a.get("https://magic-tech-backend.herokuapp.com/api/getRolesActivas"),U=e=>{let a={id:null,rol:"",estado:""};const[t,n]=Object(o.useState)(null),[l,r]=Object(o.useState)(!1),[i,s]=Object(o.useState)(!1),[m,d]=Object(o.useState)(""),[p,u]=Object(o.useState)(!0),[g,b]=Object(o.useState)(a),[h,f]=Object(o.useState)(null),[E,v]=Object(o.useState)(!1),N=Object(o.useRef)(null),y=Object(o.useRef)(null),[I,w]=Object(o.useState)(!1),[S,D]=Object(o.useState)(!1),[M,G]=Object(o.useState)(""),U=Object(R.a)({initialValues:{rol:"",estado:""},validate:e=>{let a={};return I?(e.rol?e.rol.length<2?a.rol="Como minimo 2 caracteres":e.rol.length>30?a.rol="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.rol)?(Z(e.rol,M)||!0!==I)&&(H(e.rol)||!1!==I)||(a.rol="Ya existe el rol"):a.rol="No se permiten numero o caracteres especiales":a.rol="Se requiere el rol",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado"):e.rol?e.rol.length<2?a.rol="Como minimo 2 caracteres":e.rol.length>30?a.rol="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.rol)?(Z(e.rol,M)||!0!==I)&&(H(e.rol)||!1!==I)||(a.rol="Ya existe el rol"):a.rol="No se permiten numero o caracteres especiales":a.rol="Se requiere el rol",a},onSubmit:e=>{if(!0===E){let o=[...t],c={...g};if(c.rol=e.rol,c.estado=e.estado,c.rol.trim())if(g.id){b({...g}),console.log(g);o[W(g.id)]=c,q({rol:"".concat(c.rol),estado:"".concat(c.estado)},g.id),N.current.show({severity:"success",summary:"Successful",detail:"Rol Actualizado",life:3e3})}else c.id=F()("rol-"),c.estado="Activo",o.push(c),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createRol",{id:"".concat(e.id),rol:"".concat(e.rol),estado:"".concat(e.estado)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:c.id,rol:"".concat(c.rol),estado:"".concat(c.estado)}),N.current.show({severity:"success",summary:"Successful",detail:"Rol Creado",life:3e3});n(o),r(!1),b(a),U.resetForm()}}}),V=e=>(e=>!(!U.touched[e]||!U.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},U.errors[e]),H=e=>void 0===[...t].find(a=>a.rol.toLowerCase().trim()===e.toLowerCase().trim()),Z=(e,a)=>{let o=[...t].filter(e=>e.rol.toLowerCase()!=a.toLowerCase()).find(a=>a.rol.toLowerCase().trim()===e.toLowerCase().trim());return void 0===o||o===a};Object(o.useEffect)(()=>{$()},[]);const $=()=>{z.a.get("https://magic-tech-backend.herokuapp.com/api/getRoles").then(e=>{e.error?console.log("Error"):(console.log("---------roles insertados-----------"),n(e.data),u(!1))})},Y=()=>{b(a),v(!1),w(!1),U.resetForm(),r(!0)},K=()=>{v(!1),r(!1)},J=()=>{s(!1)},W=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},_=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:J}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...g};if(o.rol.trim()&&g.id){console.log(g);e[W(g.id)]=o,q({rol:"".concat(o.rol),estado:"Desactivado"},g.id),o.rol=o.rol,o.estado="Desactivado",b({...g}),N.current.show({severity:"success",summary:"Successful",detail:"Rol Desactivado",life:3e3})}n(e),b(a),s(!1)}})),X=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de roles"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),Q=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:X,colSpan:4})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ROL",field:"rol",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:N}),c.a.createElement(x.a,{className:"p-mb-4",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:Y}))}),c.a.createElement(k.a,{ref:y,value:t,selection:h,onSelectionChange:e=>f(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} roles",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:p,headerColumnGroup:Q},c.a.createElement(A.a,{style:{width:"20%"},header:"ID",field:"id",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"20%"},header:"ROL",field:"rol",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Rol"),e.rol)}),c.a.createElement(A.a,{style:{width:"20%"},header:"ESTADO",field:"estado",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"20%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{b({...e}),U.resetForm(),U.setValues({rol:"".concat(e.rol),estado:"".concat(e.estado)}),G("".concat(e.rol)),w(!0),r(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{b(e),s(!0)})(e)}))})),c.a.createElement(O.a,{visible:l,style:{width:"450px"},header:()=>I?"Actualizando Rol":"A\xf1adir Rol",modal:!0,className:"p-fluid",onHide:K},c.a.createElement("form",{onSubmit:U.handleSubmit},c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/rol.png":"assets/layout/images/rol-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(L.a,{id:"rol",type:"text",name:"rol",value:U.values.rol,onChange:U.handleChange,placeholder:"Rol",autoFocus:!0}))),V("rol")),I?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:U.values.estado,onChange:U.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),V("estado")):null,c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:K,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{v(!0),U.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{visible:i,style:{width:"450px"},header:"Confirm",modal:!0,footer:_,onHide:J},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),g&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,g.rol),"?"))))))};var V=t(24);t(189);const H=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updateItem/".concat(a),{homelabel:"".concat(e.homelabel),homeIcono:"".concat(e.homeIcono),homeItemLabel:"".concat(e.homeItemLabel),homeItemIcono:"".concat(e.homeItemIcono),homeItemTo:"".concat(e.homeItemTo),rolelabel:"".concat(e.rolelabel),roleIcono:"".concat(e.roleIcono),roleItemLabel:"".concat(e.roleItemLabel),roleItemIcono:"".concat(e.roleItemIcono),roleItemTo:"".concat(e.roleItemTo),itemlabel:"".concat(e.itemlabel),itemIcono:"".concat(e.itemIcono),itemItemLabel:"".concat(e.itemItemLabel),itemItemIcono:"".concat(e.itemItemIcono),itemItemTo:"".concat(e.itemItemTo),userlabel:"".concat(e.userlabel),userIcono:"".concat(e.userIcono),userItemLabel:"".concat(e.userItemLabel),userItemIcono:"".concat(e.userItemIcono),userItemTo:"".concat(e.userItemTo),empresalabel:"".concat(e.empresalabel),empresaIcono:"".concat(e.empresaIcono),empresaItemLabel:"".concat(e.empresaItemLabel),empresaItemIcono:"".concat(e.empresaItemIcono),empresaItemTo:"".concat(e.empresaItemTo),convocatorialabel:"".concat(e.convocatorialabel),convocatoriaIcono:"".concat(e.convocatoriaIcono),convocatoriaItemLabel:"".concat(e.convocatoriaItemLabel),convocatoriaItemIcono:"".concat(e.convocatoriaItemIcono),convocatoriaItemTo:"".concat(e.convocatoriaItemTo),pliegolabel:"".concat(e.pliegolabel),pliegoIcono:"".concat(e.pliegoIcono),pliegoItemLabel:"".concat(e.pliegoItemLabel),pliegoItemIcono:"".concat(e.pliegoItemIcono),pliegoItemTo:"".concat(e.pliegoItemTo),contratolabel:"".concat(e.contratolabel),contratoIcono:"".concat(e.contratoIcono),contratoItemLabel:"".concat(e.contratoItemLabel),contratoItemIcono:"".concat(e.contratoItemIcono),contratoItemTo:"".concat(e.contratoItemTo),ordenlabel:"".concat(e.ordenlabel),ordenIcono:"".concat(e.ordenIcono),ordenItemLabel:"".concat(e.ordenItemLabel),ordenItemIcono:"".concat(e.ordenItemIcono),ordenItemTo:"".concat(e.ordenItemTo),planlabel:"".concat(e.planlabel),planIcono:"".concat(e.planIcono),planItemLabel:"".concat(e.planItemLabel),planItemIcono:"".concat(e.planItemIcono),planItemTo:"".concat(e.planItemTo),parteAlabel:"".concat(e.parteAlabel),parteAIcono:"".concat(e.parteAIcono),parteAItemLabel:"".concat(e.parteAItemLabel),parteAItemIcono:"".concat(e.parteAItemIcono),parteAItemTo:"".concat(e.parteAItemTo),parteBlabel:"".concat(e.parteBlabel),parteBIcono:"".concat(e.parteBIcono),parteBItemLabel:"".concat(e.parteBItemLabel),parteBItemIcono:"".concat(e.parteBItemIcono),parteBItemTo:"".concat(e.parteBItemTo),listEmpresalabel:"".concat(e.listEmpresalabel),listEmpresaIcono:"".concat(e.listEmpresaIcono),listEmpresaItemLabel:"".concat(e.listEmpresaItemLabel),listEmpresaItemIcono:"".concat(e.listEmpresaItemIcono),listEmpresaItemTo:"".concat(e.listEmpresaItemTo),listConvlabel:"".concat(e.listConvlabel),listConvIcono:"".concat(e.listConvIcono),listConvItemLabel:"".concat(e.listConvItemLabel),listConvItemIcono:"".concat(e.listConvItemIcono),listConvItemTo:"".concat(e.listConvItemTo),listPliegolabel:"".concat(e.listPliegolabel),listPliegoIcono:"".concat(e.listPliegoIcono),listPliegoItemLabel:"".concat(e.listPliegoItemLabel),listPliegoItemIcono:"".concat(e.listPliegoItemIcono),listPliegoItemTo:"".concat(e.listPliegoItemTo),forolabel:"".concat(e.forolabel),foroIcono:"".concat(e.foroIcono),foroItemLabel:"".concat(e.foroItemLabel),foroItemIcono:"".concat(e.foroItemIcono),foroItemTo:"".concat(e.foroItemTo),home:"".concat(e.home),role:"".concat(e.role),item:"".concat(e.item),user:"".concat(e.user),empresa:"".concat(e.empresa),convocatoria:"".concat(e.convocatoria),pliego:"".concat(e.pliego),contrato:"".concat(e.contrato),orden:"".concat(e.orden),plan:"".concat(e.plan),parteA:"".concat(e.parteA),parteB:"".concat(e.parteB),listEmpresa:"".concat(e.listEmpresa),listConv:"".concat(e.listConv),listPliego:"".concat(e.listPliego),foro:"".concat(e.foro),estado:"".concat(e.estado),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),Z=e=>{let a={id:null,home:"",role:"",item:"",user:"",empresa:"",convocatoria:"",pliego:"",contrato:"",orden:"",plan:"",parteA:"",parteB:"",listEmpresa:"",listConv:"",listPliego:"",foro:"",estado:"",rol:""};const[t,n]=Object(o.useState)(null),[l,r]=Object(o.useState)(null),[i,s]=Object(o.useState)(null),[m,d]=Object(o.useState)(""),[p,u]=Object(o.useState)(!0),[g,b]=Object(o.useState)(!1),[h,f]=Object(o.useState)(!1),[E,v]=Object(o.useState)(a),[N,y]=Object(o.useState)(null),[I,w]=Object(o.useState)(!1),S=Object(o.useRef)(null),D=Object(o.useRef)(null),[M,q]=Object(o.useState)(!1),[U,V]=Object(o.useState)(""),Z=Object(R.a)({initialValues:{home:"",role:"",item:"",user:"",empresa:"",convocatoria:"",pliego:"",contrato:"",orden:"",plan:"",parteA:"",parteB:"",listEmpresa:"",listConv:"",listPliego:"",foro:"",estado:"",rol:""},validate:e=>{let a={};return M?(e.home||(a.home="Se requiere el campo"),e.role||(a.role="Se requiere el campo"),e.item||(a.item="Se requiere el campo"),e.user||(a.user="Se requiere el campo"),e.empresa||(a.empresa="Se requiere el campo"),e.convocatoria||(a.convocatoria="Se requiere el campo"),e.pliego||(a.pliego="Se requiere el campo"),e.contrato||(a.contrato="Se requiere el campo"),e.orden||(a.orden="Se requiere el campo"),e.plan||(a.plan="Se requiere el campo"),e.parteA||(a.parteA="Se requiere el campo"),e.parteB||(a.parteB="Se requiere el campo"),e.listEmpresa||(a.listEmpresa="Se requiere el campo"),e.listConv||(a.listConv="Se requiere el campo"),e.listPliego||(a.listPliego="Se requiere el campo"),e.foro||(a.foro="Se requiere el campo"),e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.rol||(a.rol="Se requiere el rol")):(e.home||(a.home="Se requiere el campo"),e.role||(a.role="Se requiere el campo"),e.item||(a.item="Se requiere el campo"),e.user||(a.user="Se requiere el campo"),e.empresa||(a.empresa="Se requiere el campo"),e.convocatoria||(a.convocatoria="Se requiere el campo"),e.pliego||(a.pliego="Se requiere el campo"),e.contrato||(a.contrato="Se requiere el campo"),e.orden||(a.orden="Se requiere el campo"),e.plan||(a.plan="Se requiere el campo"),e.parteA||(a.parteA="Se requiere el campo"),e.parteB||(a.parteB="Se requiere el campo"),e.listEmpresa||(a.listEmpresa="Se requiere el campo"),e.listConv||(a.listConv="Se requiere el campo"),e.listPliego||(a.listPliego="Se requiere el campo"),e.foro||(a.foro="Se requiere el campo"),e.rol||(a.rol="Se requiere el rol")),a},onSubmit:e=>{if(!0===I){let t=[...i],o={...E};o.home=e.home,o.role=e.role,o.item=e.item,o.user=e.user,o.empresa=e.empresa,o.convocatoria=e.convocatoria,o.pliego=e.pliego,o.contrato=e.contrato,o.orden=e.orden,o.plan=e.plan,o.parteA=e.parteA,o.parteB=e.parteB,o.listEmpresa=e.listEmpresa,o.listConv=e.listConv,o.listPliego=e.listPliego,o.userIcono=e.userIcono,o.foro=e.foro,o.estado=e.estado,o.rol=e.rol;let c="*",n="*",l="*",r="*",m="*",d="*",p="*",u="*",g="*",h="*",f="*",C="*",N="*",y="*",I="*",w="*",k="*",A="*",P="*",x="*",O="*",L="*",j="*",T="*",B="*",R="*",D="*",M="*",q="*",G="*",U="*",V="*",$="*",Y="*",K="*",J="*",W="*",_="*",Q="*",ee="*",ae="*",te="*",oe="*",ce="*",ne="*",le="*",re="*",ie="*",se="*",me="*",de="*",pe="*",ue="*",ge="*",be="*",he="*",fe="*",Ee="*",ve="*",Ce="*",Ne="*",ye="*",Ie="*",we="*",Se="*",ke="*",Ae="*",Pe="*",xe="*",Oe="*",Le="*",je="*",Te="*",Be="*",Re="*",De="*",Fe="*",Me="*",ze="*",qe="*";if(o.rol.trim())if(E.id){v({...E});t[X(E.id)]=o,"Activo"===e.home&&(c="Home",n="pi pi-fw pi-home",l="Tablero",r="pi pi-fw pi-home",m="pi pi-fw pi-home"),"Activo"===e.role&&(d="Gestion de Roles",p="pi pi-fw pi-sitemap",u="Roles",g="pi pi-fw pi-users",h="/Role"),"Activo"===e.item&&(f="Gestion de Permisos",C="pi pi-fw pi-globe",N="Permisos",y="pi pi-fw pi-globe",I="/Permiso"),"Activo"===e.user&&(w="Gestion de Usuario",k="pi pi-fw pi-sitemap",A="Usuarios",P="pi pi-fw pi-user",x="/User"),"Activo"===e.empresa&&(O="Gestion de Empresa",L="pi pi-fw pi-briefcase",j="Empresas",T="pi pi-fw pi-briefcase",B="/Empresa"),"Activo"===e.convocatoria&&(R="Gestion Publicacion Convocatoria",D="pi pi-fw pi-sitemap",M="Convocatoria",q="pi pi-fw pi-id-card",G="/Convocatoria"),"Activo"===e.pliego&&(U="Gestion Publicacion Pliego de Especificaciones",V="pi pi-fw pi-sitemap",$="Pliego de Especificaciones",Y="pi pi-fw pi-check-square",K="/PliegoEspecificacion"),"Activo"===e.contrato&&(J="Gestion de Firma de Contrato",W="pi pi-fw pi-sitemap",_="Firma de contrato",Q="pi pi-fw pi-id-card",ee="/Contrato"),"Activo"===e.orden&&(ae="Gestion de Orden de Cambio",te="pi pi-fw pi-sitemap",oe="Orden de cambio",ce="pi pi-fw pi-id-card",ne="/Orden"),"Activo"===e.plan&&(le="Gestion de Plan de Pagos",re="pi pi-fw pi-sitemap",ie="Plan de pagos",se="pi pi-fw pi-id-card",me="/Plan"),"Activo"===e.parteA&&(de="Gestion de Entrega Parte A",pe="pi pi-fw pi-sitemap",ue="Parte A",ge="pi pi-fw pi-id-card",be="/ParteA"),"Activo"===e.parteB&&(he="Gestion de Entrega Parte B",fe="pi pi-fw pi-sitemap",Ee="Parte B",ve="pi pi-fw pi-id-card",Ce="/ParteB"),"Activo"===e.listEmpresa&&(Ne="Lista de empresas",ye="pi pi-fw pi-briefcase",Ie="Empresas",we="pi pi-fw pi-briefcase",Se="/ListEmpresa"),"Activo"===e.listConv&&(ke="Lista de Publicaciones Convocatorias",Ae="pi pi-fw pi-sitemap",Pe="Convocatoria",xe="pi pi-fw pi-id-card",Oe="/ListConvocatoria"),"Activo"===e.listPliego&&(Le="Lista de Publicaciones Pliego de Especificaciones",je="pi pi-fw pi-sitemap",Te="Pliego de Especificaciones",Be="pi pi-fw pi-id-card",Re="/ListPliego"),"Activo"===e.foro&&(Fe="FORO DE DISCUSION",De="pi pi-fw pi-sitemap ",Me="Foro",ze="pi pi-fw pi-users",qe="/Forum"),H({homelabel:"".concat(c),homeIcono:"".concat(n),homeItemLabel:"".concat(l),homeItemIcono:"".concat(r),homeItemTo:"".concat(m),rolelabel:"".concat(d),roleIcono:"".concat(p),roleItemLabel:"".concat(u),roleItemIcono:"".concat(g),roleItemTo:"".concat(h),itemlabel:"".concat(f),itemIcono:"".concat(C),itemItemLabel:"".concat(N),itemItemIcono:"".concat(y),itemItemTo:"".concat(I),userlabel:"".concat(w),userIcono:"".concat(k),userItemLabel:"".concat(A),userItemIcono:"".concat(P),userItemTo:"".concat(x),empresalabel:"".concat(O),empresaIcono:"".concat(L),empresaItemLabel:"".concat(j),empresaItemIcono:"".concat(T),empresaItemTo:"".concat(B),convocatorialabel:"".concat(R),convocatoriaIcono:"".concat(D),convocatoriaItemLabel:"".concat(M),convocatoriaItemIcono:"".concat(q),convocatoriaItemTo:"".concat(G),pliegolabel:"".concat(U),pliegoIcono:"".concat(V),pliegoItemLabel:"".concat($),pliegoItemIcono:"".concat(Y),pliegoItemTo:"".concat(K),contratolabel:"".concat(J),contratoIcono:"".concat(W),contratoItemLabel:"".concat(_),contratoItemIcono:"".concat(Q),contratoItemTo:"".concat(ee),ordenlabel:"".concat(ae),ordenIcono:"".concat(te),ordenItemLabel:"".concat(oe),ordenItemIcono:"".concat(ce),ordenItemTo:"".concat(ne),planlabel:"".concat(le),planIcono:"".concat(re),planItemLabel:"".concat(ie),planItemIcono:"".concat(se),planItemTo:"".concat(me),parteAlabel:"".concat(de),parteAIcono:"".concat(pe),parteAItemLabel:"".concat(ue),parteAItemIcono:"".concat(ge),parteAItemTo:"".concat(be),parteBlabel:"".concat(he),parteBIcono:"".concat(fe),parteBItemLabel:"".concat(Ee),parteBItemIcono:"".concat(ve),parteBItemTo:"".concat(Ce),listEmpresalabel:"".concat(Ne),listEmpresaIcono:"".concat(ye),listEmpresaItemLabel:"".concat(Ie),listEmpresaItemIcono:"".concat(we),listEmpresaItemTo:"".concat(Se),listConvlabel:"".concat(ke),listConvIcono:"".concat(Ae),listConvItemLabel:"".concat(Pe),listConvItemIcono:"".concat(xe),listConvItemTo:"".concat(Oe),listPliegolabel:"".concat(Le),listPliegoIcono:"".concat(je),listPliegoItemLabel:"".concat(Te),listPliegoItemIcono:"".concat(Be),listPliegoItemTo:"".concat(Re),forolabel:"".concat(Fe),foroIcono:"".concat(De),foroItemLabel:"".concat(Me),foroItemIcono:"".concat(ze),foroItemTo:"".concat(qe),home:"".concat(o.home),role:"".concat(o.role),item:"".concat(o.item),user:"".concat(o.user),empresa:"".concat(o.empresa),convocatoria:"".concat(o.convocatoria),pliego:"".concat(o.pliego),contrato:"".concat(o.contrato),orden:"".concat(o.orden),plan:"".concat(o.plan),parteA:"".concat(o.parteA),parteB:"".concat(o.parteB),listEmpresa:"".concat(o.listEmpresa),listConv:"".concat(o.listConv),listPliego:"".concat(o.listPliego),foro:"".concat(o.foro),estado:"".concat(o.estado),rol:"".concat(o.rol)},E.id),S.current.show({severity:"success",summary:"Successful",detail:"Permiso Actualizado",life:3e3})}else o.id=F()("items-"),"Activo"===e.home&&(c="Home",n="pi pi-fw pi-home",l="Tablero",r="pi pi-fw pi-home",m="pi pi-fw pi-home"),"Activo"===e.role&&(d="Gestion de Roles",p="pi pi-fw pi-sitemap",u="Roles",g="pi pi-fw pi-users",h="/Role"),"Activo"===e.item&&(f="Gestion de Permisos",C="pi pi-fw pi-globe",N="Permisos",y="pi pi-fw pi-globe",I="/Permiso"),"Activo"===e.user&&(w="Gestion de Usuario",k="pi pi-fw pi-sitemap",A="Usuarios",P="pi pi-fw pi-user",x="/User"),"Activo"===e.empresa&&(O="Gestion de Empresa",L="pi pi-fw pi-briefcase",j="Empresas",T="pi pi-fw pi-briefcase",B="/Empresa"),"Activo"===e.convocatoria&&(R="Gestion Publicacion Convocatoria",D="pi pi-fw pi-sitemap",M="Convocatoria",q="pi pi-fw pi-id-card",G="/Convocatoria"),"Activo"===e.pliego&&(U="Gestion Publicacion Pliego de Especificaciones",V="pi pi-fw pi-sitemap",$="Pliego de Especificaciones",Y="pi pi-fw pi-check-square",K="/PliegoEspecificacion"),"Activo"===e.contrato&&(J="Gestion de Firma de Contrato",W="pi pi-fw pi-sitemap",_="Firma de contrato",Q="pi pi-fw pi-id-card",ee="/Contrato"),"Activo"===e.orden&&(ae="Gestion de Orden de Cambio",te="pi pi-fw pi-sitemap",oe="Orden de cambio",ce="pi pi-fw pi-id-card",ne="/Orden"),"Activo"===e.plan&&(le="Gestion de Plan de Pagos",re="pi pi-fw pi-sitemap",ie="Plan de pagos",se="pi pi-fw pi-id-card",me="/Plan"),"Activo"===e.parteA&&(de="Gestion de Entrega Parte A",pe="pi pi-fw pi-sitemap",ue="Parte A",ge="pi pi-fw pi-id-card",be="/ParteA"),"Activo"===e.parteB&&(he="Gestion de Entrega Parte B",fe="pi pi-fw pi-sitemap",Ee="Parte B",ve="pi pi-fw pi-id-card",Ce="/ParteB"),"Activo"===e.listEmpresa&&(Ne="Lista de empresas",ye="pi pi-fw pi-briefcase",Ie="Empresas",we="pi pi-fw pi-briefcase",Se="/ListEmpresa"),"Activo"===e.listConv&&(ke="Lista de Publicaciones Convocatorias",Ae="pi pi-fw pi-sitemap",Pe="Convocatoria",xe="pi pi-fw pi-id-card",Oe="/ListConvocatoria"),"Activo"===e.listPliego&&(Le="Lista de Publicaciones Pliego de Especificaciones",je="pi pi-fw pi-sitemap",Te="Pliego de Especificaciones",Be="pi pi-fw pi-id-card",Re="/ListPliego"),"Activo"===e.foro&&(Fe="FORO DE DISCUSION",De="pi pi-fw pi-sitemap ",Me="Foro",ze="pi pi-fw pi-users",qe="/Forum"),o.estado="Activo",t.push(o),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createItem",{id:"".concat(e.id),homelabel:"".concat(e.homelabel),homeIcono:"".concat(e.homeIcono),homeItemLabel:"".concat(e.homeItemLabel),homeItemIcono:"".concat(e.homeItemIcono),homeItemTo:"".concat(e.homeItemTo),rolelabel:"".concat(e.rolelabel),roleIcono:"".concat(e.roleIcono),roleItemLabel:"".concat(e.roleItemLabel),roleItemIcono:"".concat(e.roleItemIcono),roleItemTo:"".concat(e.roleItemTo),itemlabel:"".concat(e.itemlabel),itemIcono:"".concat(e.itemIcono),itemItemLabel:"".concat(e.itemItemLabel),itemItemIcono:"".concat(e.itemItemIcono),itemItemTo:"".concat(e.itemItemTo),userlabel:"".concat(e.userlabel),userIcono:"".concat(e.userIcono),userItemLabel:"".concat(e.userItemLabel),userItemIcono:"".concat(e.userItemIcono),userItemTo:"".concat(e.userItemTo),empresalabel:"".concat(e.empresalabel),empresaIcono:"".concat(e.empresaIcono),empresaItemLabel:"".concat(e.empresaItemLabel),empresaItemIcono:"".concat(e.empresaItemIcono),empresaItemTo:"".concat(e.empresaItemTo),convocatorialabel:"".concat(e.convocatorialabel),convocatoriaIcono:"".concat(e.convocatoriaIcono),convocatoriaItemLabel:"".concat(e.convocatoriaItemLabel),convocatoriaItemIcono:"".concat(e.convocatoriaItemIcono),convocatoriaItemTo:"".concat(e.convocatoriaItemTo),pliegolabel:"".concat(e.pliegolabel),pliegoIcono:"".concat(e.pliegoIcono),pliegoItemLabel:"".concat(e.pliegoItemLabel),pliegoItemIcono:"".concat(e.pliegoItemIcono),pliegoItemTo:"".concat(e.pliegoItemTo),contratolabel:"".concat(e.contratolabel),contratoIcono:"".concat(e.contratoIcono),contratoItemLabel:"".concat(e.contratoItemLabel),contratoItemIcono:"".concat(e.contratoItemIcono),contratoItemTo:"".concat(e.contratoItemTo),ordenlabel:"".concat(e.ordenlabel),ordenIcono:"".concat(e.ordenIcono),ordenItemLabel:"".concat(e.ordenItemLabel),ordenItemIcono:"".concat(e.ordenItemIcono),ordenItemTo:"".concat(e.ordenItemTo),planlabel:"".concat(e.planlabel),planIcono:"".concat(e.planIcono),planItemLabel:"".concat(e.planItemLabel),planItemIcono:"".concat(e.planItemIcono),planItemTo:"".concat(e.planItemTo),parteAlabel:"".concat(e.parteAlabel),parteAIcono:"".concat(e.parteAIcono),parteAItemLabel:"".concat(e.parteAItemLabel),parteAItemIcono:"".concat(e.parteAItemIcono),parteAItemTo:"".concat(e.parteAItemTo),parteBlabel:"".concat(e.parteBlabel),parteBIcono:"".concat(e.parteBIcono),parteBItemLabel:"".concat(e.parteBItemLabel),parteBItemIcono:"".concat(e.parteBItemIcono),parteBItemTo:"".concat(e.parteBItemTo),listEmpresalabel:"".concat(e.listEmpresalabel),listEmpresaIcono:"".concat(e.listEmpresaIcono),listEmpresaItemLabel:"".concat(e.listEmpresaItemLabel),listEmpresaItemIcono:"".concat(e.listEmpresaItemIcono),listEmpresaItemTo:"".concat(e.listEmpresaItemTo),listConvlabel:"".concat(e.listConvlabel),listConvIcono:"".concat(e.listConvIcono),listConvItemLabel:"".concat(e.listConvItemLabel),listConvItemIcono:"".concat(e.listConvItemIcono),listConvItemTo:"".concat(e.listConvItemTo),listPliegolabel:"".concat(e.listPliegolabel),listPliegoIcono:"".concat(e.listPliegoIcono),listPliegoItemLabel:"".concat(e.listPliegoItemLabel),listPliegoItemIcono:"".concat(e.listPliegoItemIcono),listPliegoItemTo:"".concat(e.listPliegoItemTo),forolabel:"".concat(e.forolabel),foroIcono:"".concat(e.foroIcono),foroItemLabel:"".concat(e.foroItemLabel),foroItemIcono:"".concat(e.foroItemIcono),foroItemTo:"".concat(e.foroItemTo),home:"".concat(e.home),role:"".concat(e.role),item:"".concat(e.item),user:"".concat(e.user),empresa:"".concat(e.empresa),convocatoria:"".concat(e.convocatoria),pliego:"".concat(e.pliego),contrato:"".concat(e.contrato),orden:"".concat(e.orden),plan:"".concat(e.plan),parteA:"".concat(e.parteA),parteB:"".concat(e.parteB),listEmpresa:"".concat(e.listEmpresa),listConv:"".concat(e.listConv),listPliego:"".concat(e.listPliego),foro:"".concat(e.foro),estado:"".concat(e.estado),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(a){console.log(a),console.log(e)}))})({id:"".concat(o.id),homelabel:"".concat(c),homeIcono:"".concat(n),homeItemLabel:"".concat(l),homeItemIcono:"".concat(r),homeItemTo:"".concat(m),rolelabel:"".concat(d),roleIcono:"".concat(p),roleItemLabel:"".concat(u),roleItemIcono:"".concat(g),roleItemTo:"".concat(h),itemlabel:"".concat(f),itemIcono:"".concat(C),itemItemLabel:"".concat(N),itemItemIcono:"".concat(y),itemItemTo:"".concat(I),userlabel:"".concat(w),userIcono:"".concat(k),userItemLabel:"".concat(A),userItemIcono:"".concat(P),userItemTo:"".concat(x),empresalabel:"".concat(O),empresaIcono:"".concat(L),empresaItemLabel:"".concat(j),empresaItemIcono:"".concat(T),empresaItemTo:"".concat(B),convocatorialabel:"".concat(R),convocatoriaIcono:"".concat(D),convocatoriaItemLabel:"".concat(M),convocatoriaItemIcono:"".concat(q),convocatoriaItemTo:"".concat(G),pliegolabel:"".concat(U),pliegoIcono:"".concat(V),pliegoItemLabel:"".concat($),pliegoItemIcono:"".concat(Y),pliegoItemTo:"".concat(K),contratolabel:"".concat(J),contratoIcono:"".concat(W),contratoItemLabel:"".concat(_),contratoItemIcono:"".concat(Q),contratoItemTo:"".concat(ee),ordenlabel:"".concat(ae),ordenIcono:"".concat(te),ordenItemLabel:"".concat(oe),ordenItemIcono:"".concat(ce),ordenItemTo:"".concat(ne),planlabel:"".concat(le),planIcono:"".concat(re),planItemLabel:"".concat(ie),planItemIcono:"".concat(se),planItemTo:"".concat(me),parteAlabel:"".concat(de),parteAIcono:"".concat(pe),parteAItemLabel:"".concat(ue),parteAItemIcono:"".concat(ge),parteAItemTo:"".concat(be),parteBlabel:"".concat(he),parteBIcono:"".concat(fe),parteBItemLabel:"".concat(Ee),parteBItemIcono:"".concat(ve),parteBItemTo:"".concat(Ce),listEmpresalabel:"".concat(Ne),listEmpresaIcono:"".concat(ye),listEmpresaItemLabel:"".concat(Ie),listEmpresaItemIcono:"".concat(we),listEmpresaItemTo:"".concat(Se),listConvlabel:"".concat(ke),listConvIcono:"".concat(Ae),listConvItemLabel:"".concat(Pe),listConvItemIcono:"".concat(xe),listConvItemTo:"".concat(Oe),listPliegolabel:"".concat(Le),listPliegoIcono:"".concat(je),listPliegoItemLabel:"".concat(Te),listPliegoItemIcono:"".concat(Be),listPliegoItemTo:"".concat(Re),forolabel:"".concat(Fe),foroIcono:"".concat(De),foroItemLabel:"".concat(Me),foroItemIcono:"".concat(ze),foroItemTo:"".concat(qe),home:"".concat(o.home),role:"".concat(o.role),item:"".concat(o.item),user:"".concat(o.user),empresa:"".concat(o.empresa),convocatoria:"".concat(o.convocatoria),pliego:"".concat(o.pliego),contrato:"".concat(o.contrato),orden:"".concat(o.orden),plan:"".concat(o.plan),parteA:"".concat(o.parteA),parteB:"".concat(o.parteB),listEmpresa:"".concat(o.listEmpresa),listConv:"".concat(o.listConv),listPliego:"".concat(o.listPliego),foro:"".concat(o.foro),estado:"".concat(o.estado),rol:"".concat(o.rol)}),S.current.show({severity:"success",summary:"Successful",detail:"Permiso Creado",life:3e3});s(t),b(!1),v(a),Z.resetForm()}}}),$=e=>(e=>!(!Z.touched[e]||!Z.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},Z.errors[e]);Object(o.useEffect)(()=>{Y()},[]);const Y=()=>{G().then(e=>{e.error?console.log("Error"):(console.log("---------roles insertados-----------"),n(e.data))})};Object(o.useEffect)(()=>{K()},[]);const K=()=>{z.a.get("https://magic-tech-backend.herokuapp.com/api/getItems").then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),s(e.data),u(!1))})},J=()=>{v(a),Z.resetForm(),w(!1),q(!1),b(!0)},W=()=>{w(!1),b(!1)},_=()=>{f(!1)},X=e=>{let a=-1;for(let t=0;t<i.length;t++)if(i[t].id===e){a=t;break}return a},Q=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:_}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...i],t={...E},o="*",c="*",n="*",l="*",r="*",m="*",d="*",p="*",u="*",g="*",b="*",h="*",C="*",N="*",y="*",I="*",w="*",k="*",A="*",P="*",x="*",O="*",L="*",j="*",T="*",B="*",R="*",D="*",F="*",M="*",z="*",q="*",G="*",U="*",V="*",Z="*",$="*",Y="*",K="*",J="*",W="*",_="*",Q="*",ee="*",ae="*",te="*",oe="*",ce="*",ne="*",le="*",re="*",ie="*",se="*",me="*",de="*",pe="*",ue="*",ge="*",be="*",he="*",fe="*",Ee="*",ve="*",Ce="*",Ne="*",ye="*",Ie="*",we="*",Se="*",ke="*",Ae="*",Pe="*",xe="*",Oe="*",Le="*",je="*",Te="*",Be="*",Re="*",De="*";if(E.rol.trim()&&E.id){e[X(E.id)]=t,t.home=t.home,t.role=t.role,t.item=t.item,t.user=t.user,t.empresa=t.empresa,t.convocatoria=t.convocatoria,t.pliego=t.pliego,t.contrato=t.contrato,t.orden=t.orden,t.plan=t.plan,t.parteA=t.parteA,t.parteB=t.parteB,t.listEmpresa=t.listEmpresa,t.listConv=t.listConv,t.listPliego=t.listPliego,t.userIcono=t.userIcono,t.foro=t.foro,t.estado=t.estado,t.rol=t.rol,"Activo"===t.home&&(o="Home",c="pi pi-fw pi-home",n="Tablero",l="pi pi-fw pi-home",r="pi pi-fw pi-home"),"Activo"===t.role&&(m="Gestion de Roles",d="pi pi-fw pi-sitemap",p="Roles",u="pi pi-fw pi-users",g="/Role"),"Activo"===t.item&&(b="Gestion de Permisos",h="pi pi-fw pi-globe",C="Permisos",N="pi pi-fw pi-globe",y="/Permiso"),"Activo"===t.user&&(I="Gestion de Usuario",w="pi pi-fw pi-sitemap",k="Usuarios",A="pi pi-fw pi-user",P="/User"),"Activo"===t.empresa&&(x="Gestion de Empresa",O="pi pi-fw pi-briefcase",L="Empresas",j="pi pi-fw pi-briefcase",T="/Empresa"),"Activo"===t.convocatoria&&(B="Gestion Publicacion Convocatoria",R="pi pi-fw pi-sitemap",D="Convocatoria",F="pi pi-fw pi-id-card",M="/Convocatoria"),"Activo"===t.pliego&&(z="Gestion Publicacion Pliego de Especificaciones",q="pi pi-fw pi-sitemap",G="Pliego de Especificaciones",U="pi pi-fw pi-check-square",V="/PliegoEspecificacion"),"Activo"===t.contrato&&(Z="Gestion de Firma de Contrato",$="pi pi-fw pi-sitemap",Y="Firma de contrato",K="pi pi-fw pi-id-card",J="/Contrato"),"Activo"===t.orden&&(W="Gestion de Orden de Cambio",_="pi pi-fw pi-sitemap",Q="Orden de cambio",ee="pi pi-fw pi-id-card",ae="/Orden"),"Activo"===t.plan&&(te="Gestion de Plan de Pagos",oe="pi pi-fw pi-sitemap",ce="Plan de pagos",ne="pi pi-fw pi-id-card",le="/Plan"),"Activo"===t.parteA&&(re="Gestion de Entrega Parte A",ie="pi pi-fw pi-sitemap",se="Parte A",me="pi pi-fw pi-id-card",de="/ParteA"),"Activo"===t.parteB&&(pe="Gestion de Entrega Parte B",ue="pi pi-fw pi-sitemap",ge="Parte B",be="pi pi-fw pi-id-card",he="/ParteB"),"Activo"===t.listEmpresa&&(fe="Lista de empresas",Ee="pi pi-fw pi-briefcase",ve="Empresas",Ce="pi pi-fw pi-briefcase",Ne="/ListEmpresa"),"Activo"===t.listConv&&(ye="Lista de Publicaciones Convocatorias",Ie="pi pi-fw pi-sitemap",we="Convocatoria",Se="pi pi-fw pi-id-card",ke="/ListConvocatoria"),"Activo"===t.listPliego&&(Ae="Lista de Publicaciones Pliego de Especificaciones",Pe="pi pi-fw pi-sitemap",xe="Pliego de Especificaciones",Oe="pi pi-fw pi-id-card",Le="/ListPliego"),"Activo"===t.foro&&(Te="FORO DE DISCUSION",je="pi pi-fw pi-sitemap ",Be="Foro",Re="pi pi-fw pi-users",De="/Forum"),H({homelabel:"".concat(o),homeIcono:"".concat(c),homeItemLabel:"".concat(n),homeItemIcono:"".concat(l),homeItemTo:"".concat(r),rolelabel:"".concat(m),roleIcono:"".concat(d),roleItemLabel:"".concat(p),roleItemIcono:"".concat(u),roleItemTo:"".concat(g),itemlabel:"".concat(b),itemIcono:"".concat(h),itemItemLabel:"".concat(C),itemItemIcono:"".concat(N),itemItemTo:"".concat(y),userlabel:"".concat(I),userIcono:"".concat(w),userItemLabel:"".concat(k),userItemIcono:"".concat(A),userItemTo:"".concat(P),empresalabel:"".concat(x),empresaIcono:"".concat(O),empresaItemLabel:"".concat(L),empresaItemIcono:"".concat(j),empresaItemTo:"".concat(T),convocatorialabel:"".concat(B),convocatoriaIcono:"".concat(R),convocatoriaItemLabel:"".concat(D),convocatoriaItemIcono:"".concat(F),convocatoriaItemTo:"".concat(M),pliegolabel:"".concat(z),pliegoIcono:"".concat(q),pliegoItemLabel:"".concat(G),pliegoItemIcono:"".concat(U),pliegoItemTo:"".concat(V),contratolabel:"".concat(Z),contratoIcono:"".concat($),contratoItemLabel:"".concat(Y),contratoItemIcono:"".concat(K),contratoItemTo:"".concat(J),ordenlabel:"".concat(W),ordenIcono:"".concat(_),ordenItemLabel:"".concat(Q),ordenItemIcono:"".concat(ee),ordenItemTo:"".concat(ae),planlabel:"".concat(te),planIcono:"".concat(oe),planItemLabel:"".concat(ce),planItemIcono:"".concat(ne),planItemTo:"".concat(le),parteAlabel:"".concat(re),parteAIcono:"".concat(ie),parteAItemLabel:"".concat(se),parteAItemIcono:"".concat(me),parteAItemTo:"".concat(de),parteBlabel:"".concat(pe),parteBIcono:"".concat(ue),parteBItemLabel:"".concat(ge),parteBItemIcono:"".concat(be),parteBItemTo:"".concat(he),listEmpresalabel:"".concat(fe),listEmpresaIcono:"".concat(Ee),listEmpresaItemLabel:"".concat(ve),listEmpresaItemIcono:"".concat(Ce),listEmpresaItemTo:"".concat(Ne),listConvlabel:"".concat(ye),listConvIcono:"".concat(Ie),listConvItemLabel:"".concat(we),listConvItemIcono:"".concat(Se),listConvItemTo:"".concat(ke),listPliegolabel:"".concat(Ae),listPliegoIcono:"".concat(Pe),listPliegoItemLabel:"".concat(xe),listPliegoItemIcono:"".concat(Oe),listPliegoItemTo:"".concat(Le),forolabel:"".concat(Te),foroIcono:"".concat(je),foroItemLabel:"".concat(Be),foroItemIcono:"".concat(Re),foroItemTo:"".concat(De),home:"".concat(t.home),role:"".concat(t.role),item:"".concat(t.item),user:"".concat(t.user),empresa:"".concat(t.empresa),convocatoria:"".concat(t.convocatoria),pliego:"".concat(t.pliego),contrato:"".concat(t.contrato),orden:"".concat(t.orden),plan:"".concat(t.plan),parteA:"".concat(t.parteA),parteB:"".concat(t.parteB),listEmpresa:"".concat(t.listEmpresa),listConv:"".concat(t.listConv),listPliego:"".concat(t.listPliego),foro:"".concat(t.foro),estado:"Desactivado",rol:"".concat(t.rol)},E.id),t.estado="Desactivado",t.rol=t.rol,v({...E}),S.current.show({severity:"success",summary:"Successful",detail:"Permiso desactivado",life:3e3})}s(e),v(a),f(!1)}})),ee=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de permisos"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),ae=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:ee,colSpan:4})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"15%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"10%"}}),c.a.createElement(A.a,{header:"ROL",field:"rol",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"10%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:S}),c.a.createElement(x.a,{className:"p-mb-4",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:J}))}),c.a.createElement(k.a,{ref:D,value:i,selection:N,onSelectionChange:e=>y(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:p,headerColumnGroup:ae},c.a.createElement(A.a,{style:{width:"15%"},field:"id",header:"ID",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"10%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"20%"},field:"rol",header:"ROL",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Rol"),e.rol)}),c.a.createElement(A.a,{style:{width:"10%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{v({...e}),w(!0),Z.resetForm(),Z.setValues({home:"".concat(e.home),role:"".concat(e.role),item:"".concat(e.item),user:"".concat(e.user),empresa:"".concat(e.empresa),convocatoria:"".concat(e.convocatoria),pliego:"".concat(e.pliego),contrato:"".concat(e.contrato),orden:"".concat(e.orden),plan:"".concat(e.plan),parteA:"".concat(e.parteA),parteB:"".concat(e.parteB),listEmpresa:"".concat(e.listEmpresa),listConv:"".concat(e.listConv),listPliego:"".concat(e.listPliego),foro:"".concat(e.foro),estado:"".concat(e.estado),rol:"".concat(e.rol)}),q(!0),b(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{v(e),f(!0)})(e)}))})),c.a.createElement(O.a,{visible:g,style:{width:"450px"},header:()=>M?"Actualizando permiso":"A\xf1adir permiso",modal:!0,className:"p-fluid",onHide:W},c.a.createElement("form",{onSubmit:Z.handleSubmit},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex"},c.a.createElement("h7",null,"TABLERO"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-home"})),c.a.createElement(B.a,{id:"home",name:"home",placeholder:"Seleccione un estado",value:Z.values.home,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("home"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE ROLES"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-users"})),c.a.createElement(B.a,{id:"role",name:"role",placeholder:"Seleccione un estado",value:Z.values.role,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("role"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE PERMISOS"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-globe"})),c.a.createElement(B.a,{id:"item",name:"item",placeholder:"Seleccione un estado",value:Z.values.item,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("item"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE USUARIOS"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-user"})),c.a.createElement(B.a,{id:"user",name:"user",placeholder:"Seleccione un estado",value:Z.values.user,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("user"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE EMPRESAS"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-briefcase"})),c.a.createElement(B.a,{id:"empresa",name:"empresa",placeholder:"Seleccione un estado",value:Z.values.empresa,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("empresa"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE CONVOCATORIAS"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-id-card"})),c.a.createElement(B.a,{id:"convocatoria",name:"convocatoria",placeholder:"Seleccione un estado",value:Z.values.convocatoria,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("convocatoria"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE PLIEGO DE ESPECIFICACIONES"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-check-square"})),c.a.createElement(B.a,{id:"pliego",name:"pliego",placeholder:"Seleccione un estado",value:Z.values.pliego,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("pliego"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE FIRMA DE CONTRATO"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-id-card"})),c.a.createElement(B.a,{id:"contrato",name:"contrato",placeholder:"Seleccione un estado",value:Z.values.contrato,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("contrato"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE ORDEN DE CAMBIO"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-id-card"})),c.a.createElement(B.a,{id:"orden",name:"orden",placeholder:"Seleccione un estado",value:Z.values.orden,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("orden"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE PLAN DE PAGOS"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-id-card"})),c.a.createElement(B.a,{id:"plan",name:"plan",placeholder:"Seleccione un estado",value:Z.values.plan,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("plan"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE ENTRAGA PARTE A"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-id-card"})),c.a.createElement(B.a,{id:"parteA",name:"parteA",placeholder:"Seleccione un estado",value:Z.values.parteA,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("parteA"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"GESTION DE ENTRAGA PARTE B"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-id-card"})),c.a.createElement(B.a,{id:"parteB",name:"parteB",placeholder:"Seleccione un estado",value:Z.values.parteB,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("parteB"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"LISTA DE EMPRESAS"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-briefcase"})),c.a.createElement(B.a,{id:"listEmpresa",name:"listEmpresa",placeholder:"Seleccione un estado",value:Z.values.listEmpresa,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("listEmpresa"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"LISTA DE CONVOCATORIAS"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-id-card"})),c.a.createElement(B.a,{id:"listConv",name:"listConv",placeholder:"Seleccione un estado",value:Z.values.listConv,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("listConv"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"LISTA DE PLIEGO DE ESPECIFICACIONES"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-check-square"})),c.a.createElement(B.a,{id:"listPliego",name:"listPliego",placeholder:"Seleccione un estado",value:Z.values.listPliego,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("listPliego"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex "},c.a.createElement("h7",null,"FORO DE DISCUCION"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-fw pi-users"})),c.a.createElement(B.a,{id:"foro",name:"foro",placeholder:"Seleccione un estado",value:Z.values.foro,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("foro"),M?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:Z.values.estado,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("estado")):null,c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/rol.png":"assets/layout/images/rol-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"rol",name:"rol",placeholder:"Seleccione un rol",value:Z.values.rol,onChange:Z.handleChange,options:t,optionLabel:"rol",optionValue:"id"}))),$("rol"),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:W,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{w(!0),Z.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{className:"mt-2",visible:h,style:{width:"450px"},header:"Confirm",modal:!0,footer:Q,onHide:_},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,E.id)," ",c.a.createElement("b",null,E.rol),"?"))))))},$=()=>z.a.get("https://magic-tech-backend.herokuapp.com/api/getUsers"),Y=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updateUser/".concat(a),{nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),estado:"".concat(e.estado),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));const K=()=>z.a.get("https://magic-tech-backend.herokuapp.com/api/getUsersActivas"),J=e=>{let a={id:null,nombre:"",apellido:"",email:"",password:"",estado:"",rol:""};const[t,n]=Object(o.useState)(null),[l,r]=Object(o.useState)(null),[i,s]=Object(o.useState)(null),[m,d]=Object(o.useState)(""),[p,u]=Object(o.useState)(!0),[g,b]=Object(o.useState)(!1),[h,f]=Object(o.useState)(!1),[E,v]=Object(o.useState)(a),[N,y]=Object(o.useState)(null),[I,w]=Object(o.useState)(!1),S=Object(o.useRef)(null),D=Object(o.useRef)(null),[M,q]=Object(o.useState)(!1),[U,H]=Object(o.useState)(""),Z=Object(R.a)({initialValues:{nombre:"",apellido:"",email:"",password:"",confirmPassword:"",estado:"",rol:""},validate:e=>{let a={};return M?(e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)||(a.nombre="No se permiten numero o caracteres especiales"):a.nombre="Se requiere el nombre",e.apellido?e.apellido.length<2?a.apellido="Como minimo 2 caracteres":e.apellido.length>30?a.apellido="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.apellido)||(a.apellido="No se permiten numero o caracteres especiales"):a.apellido="Se requiere el apellido",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?(J(e.email)||!1!==M)&&(W(e.email,U)||!0!==M)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.rol||(a.rol="Se requiere el rol"),e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado"):(e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)||(a.nombre="No se permiten numero o caracteres especiales"):a.nombre="Se requiere el nombre",e.apellido?e.apellido.length<2?a.apellido="Como minimo 2 caracteres":e.apellido.length>30?a.apellido="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.apellido)||(a.apellido="No se permiten numero o caracteres especiales"):a.apellido="Se requiere el apellido",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?(J(e.email)||!1!==M)&&(W(e.email,U)||!0!==M)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.rol||(a.rol="Se requiere el rol")),a},onSubmit:e=>{if(!0===I){let t=[...i],o={...E};if(o.nombre=e.nombre,o.apellido=e.apellido,o.email=e.email,o.password=e.password,o.estado=e.estado,o.rol=e.rol,o.nombre.trim())if(E.id){v({...E});t[te(E.id)]=o,Y({nombre:"".concat(o.nombre),apellido:"".concat(o.apellido),email:"".concat(o.email),password:"".concat(o.password),estado:"".concat(o.estado),rol:"".concat(o.rol)},E.id),S.current.show({severity:"success",summary:"Successful",detail:"Usuario Actualizado",life:3e3})}else o.id=F()("user-"),o.estado="Activo",t.push(o),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createUser",{id:"".concat(e.id),nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),estado:"".concat(e.estado),rol:"".concat(e.rol)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),nombre:"".concat(o.nombre),apellido:"".concat(o.apellido),email:"".concat(o.email),password:"".concat(o.password),estado:"".concat(o.estado),rol:"".concat(o.rol)}),S.current.show({severity:"success",summary:"Successful",detail:"usuario Creado",life:3e3});s(t),b(!1),v(a),Z.resetForm()}}}),K=e=>(e=>!(!Z.touched[e]||!Z.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},Z.errors[e]),J=e=>void 0===[...i].find(a=>a.email.toLowerCase()===e.toLowerCase()),W=(e,a)=>{let t=[...i].filter(e=>e.email.toLowerCase()!=a.toLowerCase()).find(a=>a.email.toLowerCase()===e.toLowerCase());return void 0===t||t===a};Object(o.useEffect)(()=>{_()},[]);const _=()=>{G().then(e=>{e.error?console.log("Error"):(console.log("---------roles insertados-----------"),n(e.data))})};Object(o.useEffect)(()=>{X()},[]);const X=()=>{$().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),s(e.data),u(!1))})},Q=()=>{v(a),Z.resetForm(),w(!1),q(!1),b(!0)},ee=()=>{w(!1),b(!1)},ae=()=>{f(!1)},te=e=>{let a=-1;for(let t=0;t<i.length;t++)if(i[t].id===e){a=t;break}return a},oe=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:ae}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...i],t={...E};if(E.email.trim()&&E.id){e[te(E.id)]=t,Y({nombre:"".concat(t.nombre),apellido:"".concat(t.apellido),email:"".concat(t.email),password:"".concat(t.password),estado:"Desactivado",rol:"".concat(t.rol)},E.id),t.nombre=t.nombre,t.apellido=t.apellido,t.email=t.email,t.password=t.password,t.estado="Desactivado",t.rol=t.rol,v({...E}),S.current.show({severity:"success",summary:"Successful",detail:"Usuario desactivado",life:3e3})}s(e),v(a),f(!1)}})),ce=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de usuarios"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),ne=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:ce,colSpan:6})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"15%"}}),c.a.createElement(A.a,{header:"NOMBRE",field:"nombre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"APELLIDO",field:"apellido",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"CORREO ELECTRONICO",field:"email",sortable:!0,style:{"background-color":"#13af4e",width:"60%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"10%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"10%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:S}),c.a.createElement(x.a,{className:"p-mb-4",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:Q}))}),c.a.createElement(k.a,{ref:D,value:i,selection:N,onSelectionChange:e=>y(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:p,headerColumnGroup:ne},c.a.createElement(A.a,{style:{width:"15%"},field:"id",header:"ID",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"20%"},field:"nombre",header:"APELLIDO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),c.a.createElement(A.a,{style:{width:"20%"},field:"apellido",header:"NOMBRE",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Apellido"),e.apellido)}),c.a.createElement(A.a,{style:{width:"60%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)}),c.a.createElement(A.a,{style:{width:"10%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"10%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{v({...e}),w(!0),Z.resetForm(),Z.setValues({nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),confirmPassword:"".concat(e.password),estado:"".concat(e.estado),rol:"".concat(e.rol)}),H("".concat(e.email)),q(!0),b(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{v(e),f(!0)})(e)}))})),c.a.createElement(O.a,{visible:g,style:{width:"450px"},header:()=>M?"Actualizando usuario":"A\xf1adir Usuario",modal:!0,className:"p-fluid",onHide:ee},c.a.createElement("form",{onSubmit:Z.handleSubmit},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(L.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:Z.values.nombre,onChange:Z.handleChange,autoFocus:!0}))),K("nombre"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(L.a,{id:"apellido",name:"apellido",placeholder:"Apellido",value:Z.values.apellido,onChange:Z.handleChange}))),K("apellido"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(L.a,{id:"email",name:"email",placeholder:"Correo electronico",value:Z.values.email,onChange:Z.handleChange}))),K("email"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(V.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:Z.values.password,onChange:Z.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),K("password"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(V.a,{id:"rol",name:"confirmPassword",placeholder:"Confirmar contrase\xf1a",value:Z.values.confirmPassword,onChange:Z.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),K("confirmPassword"),M?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:Z.values.estado,onChange:Z.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),K("estado")):null,c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/rol.png":"assets/layout/images/rol-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"rol",name:"rol",placeholder:"Seleccione un rol",value:Z.values.rol,onChange:Z.handleChange,options:t,optionLabel:"rol",optionValue:"id"}))),K("rol"),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:ee,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{w(!0),Z.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{className:"mt-2",visible:h,style:{width:"450px"},header:"Confirm",modal:!0,footer:oe,onHide:ae},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,E.nombre)," ",c.a.createElement("b",null,E.apellido),"?"))))))};var W=t(22);const _=()=>z.a.get("https://magic-tech-backend.herokuapp.com/api/getEmpresas"),X=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updateEmpresa/".concat(a),{nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),informacion:"".concat(e.informacion),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),Q=()=>z.a.get("https://magic-tech-backend.herokuapp.com/api/getEmpresasActivas"),ee=e=>{let a={id:null,nombre:"",nombreCorto:"",nombreLargo:"",tipoSociedad:"",direccion:"",email:"",password:"",informacion:"",estado:"",user:""};const[t,n]=Object(o.useState)(null),[l,r]=Object(o.useState)(null),[i,s]=Object(o.useState)(!1),[m,d]=Object(o.useState)(""),[p,u]=Object(o.useState)(!0),[g,b]=Object(o.useState)(!1),[h,f]=Object(o.useState)(a),[E,v]=Object(o.useState)(null),[N,y]=Object(o.useState)(!1),I=Object(o.useRef)(null),w=Object(o.useRef)(null),[S,D]=Object(o.useState)(!1),[M,q]=Object(o.useState)(""),[G,U]=Object(o.useState)(""),H=Object(R.a)({initialValues:{nombre:"",nombreCorto:"",nombreLargo:"",tipoSociedad:"",direccion:"",email:"",password:"",confirmPassword:"",informacion:"",estado:"",user:""},validate:e=>{let a={};return S?(e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)?(J(e.nombre)||!1!==S)&&(Q(e.nombre,G)||!0!==S)||(a.nombre="Ya existe el nombre de la empresa"):a.nombre="No se permiten numero o caracteres especiales":a.nombre="Se requiere el nombre",e.nombreCorto?e.nombreCorto.length<2?a.nombreCorto="Como minimo 2 caracteres":e.nombreCorto.length>30?a.nombreCorto="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreCorto)||(a.nombreCorto="No se permiten numero o caracteres especiales"):a.nombreCorto="Se requiere el nombre corto",e.nombreLargo?e.nombreLargo.length<2?a.nombreLargo="Como minimo 2 caracteres":e.nombreLargo.length>50?a.nombreLargo="Como maximo 50 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreLargo)||(a.nombreLargo="No se permiten numero o caracteres especiales"):a.nombreLargo="Se requiere el nombre largo",e.tipoSociedad?e.tipoSociedad.length<2?a.tipoSociedad="Como minimo 2 caracteres":e.tipoSociedad.length>30?a.tipoSociedad="Como maximo 30 caracteres":/^^[a-zA-Z.\s]+$/i.test(e.tipoSociedad)||(a.tipoSociedad="No se permiten numero o caracteres especiales"):a.tipoSociedad="Se requiere el tipo de sociedad",e.direccion?e.direccion.length<2?a.direccion="Como minimo 2 caracteres":e.direccion.length>50&&(a.direccion="Como maximo 50 caracteres"):a.direccion="Se requiere la direccion",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?($(e.email)||!1!==S)&&(Y(e.email,M)||!0!==S)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.informacion?e.informacion.length<2?a.informacion="Como minimo 2 caracteres":e.informacion.length>255&&(a.informacion="Como maximo 255 caracteres"):a.informacion="Se requiere la informacion de la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado"):(e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)?(J(e.nombre)||!1!==S)&&(Q(e.nombre,G)||!0!==S)||(a.nombre="Ya existe el nombre de la empresa"):a.nombre="No se permiten numero o caracteres especiales":a.nombre="Se requiere el nombre",e.nombreCorto?e.nombreCorto.length<2?a.nombreCorto="Como minimo 2 caracteres":e.nombreCorto.length>30?a.nombreCorto="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreCorto)||(a.nombreCorto="No se permiten numero o caracteres especiales"):a.nombreCorto="Se requiere el nombre corto",e.nombreLargo?e.nombreLargo.length<2?a.nombreLargo="Como minimo 2 caracteres":e.nombreLargo.length>50?a.nombreLargo="Como maximo 50 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombreLargo)||(a.nombreLargo="No se permiten numero o caracteres especiales"):a.nombreLargo="Se requiere el nombre largo",e.tipoSociedad?e.tipoSociedad.length<2?a.tipoSociedad="Como minimo 2 caracteres":e.tipoSociedad.length>30?a.tipoSociedad="Como maximo 30 caracteres":/^^[a-zA-Z.\s]+$/i.test(e.tipoSociedad)||(a.tipoSociedad="No se permiten numero o caracteres especiales"):a.tipoSociedad="Se requiere el tipo de sociedad",e.direccion?e.direccion.length<2?a.direccion="Como minimo 2 caracteres":e.direccion.length>50&&(a.direccion="Como maximo 50 caracteres"):a.direccion="Se requiere la direccion",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?($(e.email)||!1!==S)&&(Y(e.email,M)||!0!==S)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",e.informacion?e.informacion.length<2?a.informacion="Como minimo 2 caracteres":e.informacion.length>255&&(a.informacion="Como maximo 255 caracteres"):a.informacion="Se requiere la informacion de la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(!0===N){let t=[...l],o={...h};if(o.nombre=e.nombre,o.nombreCorto=e.nombreCorto,o.nombreLargo=e.nombreLargo,o.tipoSociedad=e.tipoSociedad,o.direccion=e.direccion,o.email=e.email,o.password=e.password,o.confirmPassword=e.confirmPassword,o.informacion=e.informacion,o.estado=e.estado,o.user=e.user,o.nombre.trim())if(h.id){f({...h}),console.log(h);t[ne(h.id)]=o,X({nombre:"".concat(o.nombre),nombreCorto:"".concat(o.nombreCorto),nombreLargo:"".concat(o.nombreLargo),tipoSociedad:"".concat(o.tipoSociedad),direccion:"".concat(o.direccion),email:"".concat(o.email),password:"".concat(o.password),informacion:"".concat(o.informacion),estado:"".concat(o.estado),user:"".concat(o.user)},h.id),I.current.show({severity:"success",summary:"Successful",detail:"Empresa Actualizado",life:3e3})}else o.id=F()("empresa-"),o.estado="Activo",t.push(o),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createEmpresa",{id:"".concat(e.id),nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),informacion:"".concat(e.informacion),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),nombre:"".concat(o.nombre),nombreCorto:"".concat(o.nombreCorto),nombreLargo:"".concat(o.nombreLargo),tipoSociedad:"".concat(o.tipoSociedad),direccion:"".concat(o.direccion),email:"".concat(o.email),password:"".concat(o.password),informacion:"".concat(o.informacion),estado:"".concat(o.estado),user:"".concat(o.user)}),I.current.show({severity:"success",summary:"Successful",detail:"Empresa Creado",life:3e3});r(t),s(!1),f(a),H.resetForm()}}}),Z=e=>(e=>!(!H.touched[e]||!H.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},H.errors[e]),$=e=>void 0===[...l].find(a=>a.email.toLowerCase()===e.toLowerCase()),Y=(e,a)=>{let t=[...l].filter(e=>e.email.toLowerCase()!=a.toLowerCase()).find(a=>a.email.toLowerCase()===e.toLowerCase());return void 0===t||t===a},J=e=>void 0===[...l].find(a=>a.nombre.toLowerCase().trim()===e.toLowerCase().trim()),Q=(e,a)=>{let t=[...l].filter(e=>e.nombre.toLowerCase().trim()!=a.toLowerCase().trim()).find(a=>a.nombre.toLowerCase().trim()===e.toLowerCase().trim());return void 0===t||t===a};Object(o.useEffect)(()=>{ee()},[]);const ee=()=>{K().then(e=>{e.error?console.log("Error"):(console.log("---------Usuarios insertados-----------"),n(e.data))})};Object(o.useEffect)(()=>{ae()},[]);const ae=()=>{_().then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertados-----------"),r(e.data),u(!1))})},te=()=>{f(a),H.resetForm(),y(!1),D(!1),s(!0)},oe=()=>{y(!1),s(!1)},ce=()=>{b(!1)},ne=e=>{let a=-1;for(let t=0;t<l.length;t++)if(l[t].id===e){a=t;break}return a},le=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:ce}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...l],t={...h};if(h.email.trim()&&h.id){e[ne(h.id)]=t,X({nombre:"".concat(t.nombre),nombreCorto:"".concat(t.nombreCorto),nombreLargo:"".concat(t.nombreLargo),tipoSociedad:"".concat(t.tipoSociedad),direccion:"".concat(t.direccion),email:"".concat(t.email),password:"".concat(t.password),informacion:"".concat(t.informacion),estado:"Desactivado",user:"".concat(t.user)},h.id),t.nombre=t.nombre,t.nombreCorto=t.nombreCorto,t.nombreLargo=t.nombreLargo,t.tipoSociedad=t.tipoSociedad,t.direccion=t.direccion,t.email=t.email,t.password=t.password,t.confirmPassword=t.confirmPassword,t.informacion=t.informacion,t.estado="Desactivado",t.user=t.user,f({...h}),I.current.show({severity:"success",summary:"Successful",detail:"Empresa Desactivada",life:3e3})}r(e),f(a),b(!1)}})),re=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de empresas"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),ie=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:re,colSpan:7})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"NOMBRE",field:"nombre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"SOCIEDAD",field:"tipoSociedad",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"DIRECCION",field:"direccion",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"CORREO ELECTRONICO",field:"email",sortable:!0,style:{"background-color":"#13af4e",width:"25%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:I}),c.a.createElement(x.a,{className:"",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:te}))}),c.a.createElement(k.a,{ref:w,value:l,selection:E,onSelectionChange:e=>v(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:p,headerColumnGroup:ie},c.a.createElement(A.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"20%"},field:"nombre",header:"NOMBRE",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),c.a.createElement(A.a,{style:{width:"20%"},field:"tipoSociedad",header:"SOCIEDAD",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Tipo Sociedad"),e.tipoSociedad)}),c.a.createElement(A.a,{style:{width:"20%"},field:"direccion",header:"DIRECCION",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Direccion"),e.direccion)}),c.a.createElement(A.a,{style:{width:"25%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)}),c.a.createElement(A.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"20%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{f({...e}),y(!0),H.resetForm(),H.setValues({nombre:"".concat(e.nombre),nombreCorto:"".concat(e.nombreCorto),nombreLargo:"".concat(e.nombreLargo),tipoSociedad:"".concat(e.tipoSociedad),direccion:"".concat(e.direccion),email:"".concat(e.email),password:"".concat(e.password),confirmPassword:"".concat(e.password),informacion:"".concat(e.informacion),estado:"".concat(e.estado),user:"".concat(e.user)}),q("".concat(e.email)),U("".concat(e.nombre)),D(!0),s(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{f(e),b(!0)})(e)}))})),c.a.createElement(O.a,{visible:i,style:{width:"450px"},header:()=>S?"Actualizando Empresa":"A\xf1adir Empresa",modal:!0,className:"p-fluid",onHide:oe},c.a.createElement("form",{onSubmit:H.handleSubmit},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(L.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:H.values.nombre,onChange:H.handleChange,autoFocus:!0}))),Z("nombre"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(L.a,{id:"nombreCorto",name:"nombreCorto",placeholder:"Nombre Corto",value:H.values.nombreCorto,onChange:H.handleChange}))),Z("nombreCorto"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(L.a,{id:"nombreLargo",name:"nombreLargo",placeholder:"Nombre Largo",value:H.values.nombreLargo,onChange:H.handleChange}))),Z("nombreLargo"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-briefcase"})),c.a.createElement(B.a,{id:"tipoSociedad",name:"tipoSociedad",placeholder:"Seleccione el tipo de sociedad",value:H.values.tipoSociedad,onChange:H.handleChange,options:[{name:"Sociedad de Responsabilidad Limitada",tipo:"S.R.L."},{name:"Sociedad An\xf3nima",tipo:"S.A."},{name:"Sociedad Colectiva",tipo:"S.C."},{name:"Sociedad An\xf3nima Mixta o de Econom\xeda Mixta",tipo:"S.A.M."},{name:"Sociedad en Comandita Simple",tipo:"S.C.S."}],optionLabel:"tipo",optionValue:"tipo"}))),Z("tipoSociedad"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-map-marker"})),c.a.createElement(L.a,{id:"direccion",name:"direccion",placeholder:"Direccion",value:H.values.direccion,onChange:H.handleChange}))),Z("direccion"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(L.a,{id:"email",name:"email",placeholder:"Correo electronico",value:H.values.email,onChange:H.handleChange}))),Z("email"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(V.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:H.values.password,onChange:H.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),Z("password"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(V.a,{id:"confirmPassword",name:"confirmPassword",placeholder:"Confirmar contrase\xf1a",value:H.values.confirmPassword,onChange:H.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))),Z("confirmPassword"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-info"})),c.a.createElement(W.a,{id:"informacion",name:"informacion",placeholder:"Informacion",value:H.values.informacion,onChange:H.handleChange}))),Z("informacion"),S?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:H.values.estado,onChange:H.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),Z("estado")):null,c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(B.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:H.values.user,onChange:H.handleChange,options:t,optionLabel:"nombre",optionValue:"id"}))),Z("user"),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:oe,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{y(!0),H.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{className:"mt-2",visible:g,style:{width:"450px"},header:"Confirm",modal:!0,footer:le,onHide:ce},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),h&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,h.nombre)," ",c.a.createElement("b",null,h.tipoSociedadad),"?"))))))},ae=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updateConvocatoria/".concat(a),{titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),te=()=>z.a.get("https://magic-tech-backend.herokuapp.com/api/getConvocatoriasPublicados"),oe=e=>{const a=new FormData;a.append("file",e.archivo,e.archivoNombre),z.a.post("http://magictsec.tis.cs.umss.edu.bo/api/upload",a,{onUploadProgress:e=>{console.log("Upload progress: "+Math.round(e.loaded/e.total*100)+"%")}})},ce=()=>{z()({url:"https://magic-tech-backend.herokuapp.com/api/download",method:"GET",responseType:"blob"}).then(e=>{const a=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=a,t.setAttribute("download","plan.pdf"),document.body.appendChild(t),t.click()})},ne=e=>{const a=new FormData;a.append("file",e.archivo,e.archivoNombre),z.a.post("http://magictsec.tis.cs.umss.edu.bo/api/uploadConvocatoria",a,{onUploadProgress:e=>{console.log("Upload progress: "+Math.round(e.loaded/e.total*100)+"%")}})},le=()=>{z()({url:"http://magictsec.tis.cs.umss.edu.bo/api/downloadConvocatoria",method:"GET",responseType:"blob"}).then(e=>{const a=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=a,t.setAttribute("download","convocatoria.pdf"),console.log("este es el link"+t),document.body.appendChild(t),t.click()})},re=e=>{const a=new FormData;a.append("file",e.archivo,e.archivoNombre),z.a.post("http://magictsec.tis.cs.umss.edu.bo/api/uploadPliego",a,{onUploadProgress:e=>{console.log("Upload progress: "+Math.round(e.loaded/e.total*100)+"%")}})},ie=()=>{z()({url:"http://magictsec.tis.cs.umss.edu.bo/api/downloadPliego",method:"GET",responseType:"blob"}).then(e=>{const a=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=a,t.setAttribute("download","pliego.pdf"),document.body.appendChild(t),t.click()})},se=e=>{const a=new FormData;a.append("file",e.archivo,e.archivoNombre),z.a.post("http://magictsec.tis.cs.umss.edu.bo/api/uploadParteA",a,{onUploadProgress:e=>{console.log("Upload progress: "+Math.round(e.loaded/e.total*100)+"%")}})},me=()=>{z()({url:"http://magictsec.tis.cs.umss.edu.bo/api/downloadParteA",method:"GET",responseType:"blob"}).then(e=>{const a=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=a,t.setAttribute("download","parteA.pdf"),document.body.appendChild(t),t.click()})},de=e=>{const a=new FormData;a.append("file",e.archivo,e.archivoNombre),z.a.post("http://magictsec.tis.cs.umss.edu.bo/api/uploadParteB",a,{onUploadProgress:e=>{console.log("Upload progress: "+Math.round(e.loaded/e.total*100)+"%")}})},pe=()=>{z()({url:"http://magictsec.tis.cs.umss.edu.bo/api/downloadParteB",method:"GET",responseType:"blob"}).then(e=>{const a=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=a,t.setAttribute("download","parteB.pdf"),document.body.appendChild(t),t.click()})},ue={archivo:null,archivoNombre:"",archivoURL:""},ge=e=>{const[a,t]=Object(o.useState)(ue);let n={id:null,titulo:"",codigo:"",semestre:"",link:"https://umss",publicado:"",estado:"",user:""};const[l,r]=Object(o.useState)(null),[i,s]=Object(o.useState)(null),[m,d]=Object(o.useState)(""),[p,u]=Object(o.useState)(!0),[g,b]=Object(o.useState)(!1),[h,f]=Object(o.useState)(!1),[E,v]=Object(o.useState)(n),[N,y]=Object(o.useState)(null),[I,w]=Object(o.useState)(!1),S=Object(o.useRef)(null),D=Object(o.useRef)(null),[M,q]=Object(o.useState)(!1),[G,U]=Object(o.useState)(""),V=Object(R.a)({initialValues:{titulo:"",codigo:"",semestre:"",link:"http://umss",publicado:"",estado:"",user:""},validate:e=>{let a={};return M?(e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(H(e.codigo)||!1!==M)&&(Z(e.codigo,G)||!0!==M)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.publicado?e.publicado.length<2?a.publicado="Como minimo 2 caracteres":e.publicado.length>30?a.publicado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.publicado)||(a.publicado="No se permiten numero o caracteres especiales"):a.publicado="Se requiere publicar",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):(e.titulo?e.titulo.length<2?a.titulo="Como minimo 2 caracteres":e.titulo.length>50?a.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(a.titulo="No se permiten numero o caracteres especiales"):a.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?a.codigo="Como minimo 2 caracteres":e.codigo.length>30?a.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(H(e.codigo)||!1!==M)&&(Z(e.codigo,G)||!0!==M)||(a.codigo="Ya existe el codigo"):a.codigo="No se permiten numero o caracteres especiales":a.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?a.semestre="Como minimo 2 caracteres":e.semestre.length>30?a.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(a.semestre="No se permiten numero o caracteres especiales"):a.semestre="Se requiere el semestre",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(!0===I){let t=[...l],o={...E};if(o.titulo=e.titulo,o.codigo=e.codigo,o.semestre=e.semestre,o.link=e.link,o.publicado=e.publicado,o.estado=e.estado,o.user=e.user,o.titulo.trim())if(E.id){v({...E});t[Q(E.id)]=o,ne(a),ae({titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),publicado:"".concat(o.publicado),estado:"".concat(o.estado),user:"".concat(o.user)},E.id),S.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Actualizada",life:3e3})}else o.id=F()("conv-"),o.publicado="No publicar",o.estado="Activo",t.push(o),ne(a),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createConvocatoria",{id:"".concat(e.id),titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),publicado:"".concat(o.publicado),estado:"".concat(o.estado),user:"".concat(o.user)}),S.current.show({severity:"success",summary:"Successful",detail:"Convocatoria Creada",life:3e3});r(t),b(!1),v(n),V.resetForm()}}}),H=e=>void 0===[...l].find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim()),Z=(e,a)=>{let t=[...l].filter(e=>e.codigo.toLowerCase()!=a.toLowerCase()).find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim());return void 0===t||t===a},$=e=>(e=>!(!V.touched[e]||!V.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},V.errors[e]);Object(o.useEffect)(()=>{Y()},[]);const Y=()=>{z.a.get("https://magic-tech-backend.herokuapp.com/api/getConvocatorias").then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertados-----------"),r(e.data),u(!1))})};Object(o.useEffect)(()=>{J()},[]);const J=()=>{K().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),s(e.data))})},W=()=>{v(n),V.resetForm(),w(!1),q(!1),b(!0)},_=()=>{w(!1),b(!1)},X=()=>{f(!1)},Q=e=>{let a=-1;for(let t=0;t<l.length;t++)if(l[t].id===e){a=t;break}return a},ee=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:X}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...l],a={...E};if(E.titulo.trim()&&E.id){e[Q(E.id)]=a,ae({titulo:"".concat(a.titulo),codigo:"".concat(a.codigo),semestre:"".concat(a.semestre),link:"".concat(a.link),publicado:"No publicar",estado:"Desactivado",user:"".concat(a.user)},E.id),a.titulo=a.titulo,a.codigo=a.codigo,a.semestre=a.semestre,a.link=a.link,a.publicado="No publicar",a.estado="Desactivado",a.user=a.user,v({...E}),S.current.show({severity:"success",summary:"Successful",detail:"Convocatoria desactivada",life:3e3})}r(e),v(n),f(!1)}})),te=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de convocatorias"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),oe=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:te,colSpan:8})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"CODIGO",field:"codigo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"SEMESTRE",field:"semestre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ARCHIVO",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"40%"}}),c.a.createElement(A.a,{header:"PUBLICADO",field:"publicado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:S}),c.a.createElement(x.a,{className:"",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:W}))}),c.a.createElement(k.a,{ref:D,value:l,selection:N,onSelectionChange:e=>y(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:p,headerColumnGroup:oe},c.a.createElement(A.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),c.a.createElement(A.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),c.a.createElement(A.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),c.a.createElement(A.a,{style:{width:"40%"},field:"link",header:"LINK",sortable:!0,body:a=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Link"),c.a.createElement(C.a,{label:"Descargar",className:"p-button-link",onClick:le,style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),c.a.createElement(A.a,{style:{width:"20%"},field:"publicado",header:"PUBLICADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Publicado"),e.publicado)}),c.a.createElement(A.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"20%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{v({...e}),w(!0),V.resetForm(),V.setValues({titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}),U("".concat(e.codigo)),q(!0),b(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{v(e),f(!0)})(e)}))})),c.a.createElement(O.a,{visible:g,style:{width:"450px"},header:()=>M?"Actualizando convocatoria":"A\xf1adir convocatoria",modal:!0,className:"p-fluid",onHide:_},c.a.createElement("form",{onSubmit:V.handleSubmit},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/title.png":"assets/layout/images/title-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(L.a,{id:"titulo",name:"titulo",placeholder:"Titulo",value:V.values.titulo,onChange:V.handleChange,autoFocus:!0}))),$("titulo"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(L.a,{id:"codigo",name:"codigo",placeholder:"Codigo",value:V.values.codigo,onChange:V.handleChange}))),$("codigo"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-calendar"})),c.a.createElement(B.a,{id:"semestre",name:"semestre",placeholder:"Seleccione el semestre",value:V.values.semestre,onChange:V.handleChange,options:[{name:"I-2020"},{name:"II-2020"},{name:"I-2021"},{name:"II-2021"},{name:"I-2022"},{name:"II-2022"}],optionLabel:"name",optionValue:"name"}))),$("semestre"),c.a.createElement("div",{style:{marginBottom:"10px"},className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("input",{id:"subir",type:"file",onChange:e=>{t({archivo:e.target.files[0],archivoNombre:e.target.files[0].name})},hidden:!0}),c.a.createElement("label",{for:"subir",style:{display:"inline - block",background:"rgb(19, 175, 78)",color:"white",padding:"0.6rem",fontFamily:"sans-serif",cursor:"pointer",marginTop:"0",borderRadius:"7px"}},"Seleccionar Archivo PDF"))),$("link"),M?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/post.png":"assets/layout/images/post-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"publicado",name:"publicado",placeholder:"Seleccione si se publica",value:V.values.publicado,onChange:V.handleChange,options:[{name:"Publicar"},{name:"No publicar"}],optionLabel:"name",optionValue:"name"}))),$("publicado"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:V.values.estado,onChange:V.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("estado")):null,c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(B.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:V.values.user,onChange:V.handleChange,options:i,optionLabel:"nombre",optionValue:"id"}))),$("user"),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:_,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{w(!0),V.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{className:"mt-2",visible:h,style:{width:"450px"},header:"Confirm",modal:!0,footer:ee,onHide:X},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,E.titulo)," ",c.a.createElement("b",null,E.semestre),"?"))))))},be=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updatePliego/".concat(a),{titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),he=()=>z.a.get("https://magic-tech-backend.herokuapp.com/api/getPliegosPublicados"),fe={archivo:null,archivoNombre:"",archivoURL:""},Ee=e=>{const[a,t]=Object(o.useState)(fe);let n={id:null,titulo:"",codigo:"",semestre:"",link:"https://umss",publicado:"",estado:"",user:""};const[l,r]=Object(o.useState)(null),[i,s]=Object(o.useState)(null),[m,d]=Object(o.useState)(""),[p,u]=Object(o.useState)(!0),[g,b]=Object(o.useState)(!1),[h,f]=Object(o.useState)(!1),[E,v]=Object(o.useState)(n),[N,y]=Object(o.useState)(null),[I,w]=Object(o.useState)(!1),S=Object(o.useRef)(null),D=Object(o.useRef)(null),[M,q]=Object(o.useState)(!1),[G,U]=Object(o.useState)(""),V=Object(R.a)({initialValues:{titulo:"",codigo:"",semestre:"",link:"https://umss",publicado:"",estado:"",user:""},validate:e=>{let t={};return M?(e.titulo?e.titulo.length<2?t.titulo="Como minimo 2 caracteres":e.titulo.length>50?t.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(t.titulo="No se permiten numero o caracteres especiales"):t.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?t.codigo="Como minimo 2 caracteres":e.codigo.length>30?t.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(H(e.codigo)||!1!==M)&&(Z(e.codigo,G)||!0!==M)||(t.codigo="Ya existe el codigo"):t.codigo="No se permiten numero o caracteres especiales":t.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?t.semestre="Como minimo 2 caracteres":e.semestre.length>30?t.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(t.semestre="No se permiten numero o caracteres especiales"):t.semestre="Se requiere el semestre",e.publicado?e.publicado.length<2?t.publicado="Como minimo 2 caracteres":e.publicado.length>30?t.publicado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.publicado)||(t.publicado="No se permiten numero o caracteres especiales"):t.publicado="Se requiere publicarlo",e.estado?e.estado.length<2?t.estado="Como minimo 2 caracteres":e.estado.length>30?t.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(t.estado="No se permiten numero o caracteres especiales"):t.estado="Se requiere el estado",e.user?e.user.length<2?t.user="Como minimo 2 caracteres":e.user.length>30?t.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(t.user="No se permiten numero o caracteres especiales"):t.user="Se requiere el usuario"):(e.titulo?e.titulo.length<2?t.titulo="Como minimo 2 caracteres":e.titulo.length>50?t.titulo="Como maximo 50 caracteres":/^^[a-zA-Z0-9\s]+$/i.test(e.titulo)||(t.titulo="No se permiten numero o caracteres especiales"):t.titulo="Se requiere el titulo",e.codigo?e.codigo.length<2?t.codigo="Como minimo 2 caracteres":e.codigo.length>30?t.codigo="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.codigo)?(H(e.codigo)||!1!==M)&&(Z(e.codigo,G)||!0!==M)||(t.codigo="Ya existe el codigo"):t.codigo="No se permiten numero o caracteres especiales":t.codigo="Se requiere el codigo",e.semestre?e.semestre.length<2?t.semestre="Como minimo 2 caracteres":e.semestre.length>30?t.semestre="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.semestre)||(t.semestre="No se permiten numero o caracteres especiales"):t.semestre="Se requiere el semestre",null!=a&&(t.link="Se requiere el archivo"),e.user?e.user.length<2?t.user="Como minimo 2 caracteres":e.user.length>30?t.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(t.user="No se permiten numero o caracteres especiales"):t.user="Se requiere el usuario"),t},onSubmit:e=>{if(!0===I){let t=[...l],o={...E};if(o.titulo=e.titulo,o.codigo=e.codigo,o.semestre=e.semestre,o.link=e.link,o.publicado=e.publicado,o.estado=e.estado,o.user=e.user,o.titulo.trim())if(E.id){v({...E});t[Q(E.id)]=o,re(a),be({titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),publicado:"".concat(o.publicado),estado:"".concat(o.estado),user:"".concat(o.user)},E.id),S.current.show({severity:"success",summary:"Successful",detail:"Pliego de especificaciones Actualizada",life:3e3})}else o.id=F()("plieg-"),o.publicado="No publicar",o.estado="Activo",t.push(o),re(a),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createPliego",{id:"".concat(e.id),titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),titulo:"".concat(o.titulo),codigo:"".concat(o.codigo),semestre:"".concat(o.semestre),link:"".concat(o.link),publicado:"".concat(o.publicado),estado:"".concat(o.estado),user:"".concat(o.user)}),S.current.show({severity:"success",summary:"Successful",detail:"Pliego de especificaciones Creada",life:3e3});r(t),b(!1),v(n),V.resetForm()}}}),H=e=>void 0===[...l].find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim()),Z=(e,a)=>{let t=[...l].filter(e=>e.codigo.toLowerCase().trim()!=a.toLowerCase().trim()).find(a=>a.codigo.toLowerCase().trim()===e.toLowerCase().trim());return void 0===t||t===a},$=e=>(e=>!(!V.touched[e]||!V.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},V.errors[e]);Object(o.useEffect)(()=>{Y()},[]);const Y=()=>{z.a.get("https://magic-tech-backend.herokuapp.com/api/getPliegos").then(e=>{e.error?console.log("Error"):(console.log("---------Pliego de espeficiaciones insertados-----------"),r(e.data),u(!1))})};Object(o.useEffect)(()=>{J()},[]);const J=()=>{K().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),s(e.data))})},W=()=>{v(n),V.resetForm(),w(!1),q(!1),b(!0)},_=()=>{w(!1),b(!1)},X=()=>{f(!1)},Q=e=>{let a=-1;for(let t=0;t<l.length;t++)if(l[t].id===e){a=t;break}return a},ee=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:X}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...l],a={...E};if(E.titulo.trim()&&E.id){e[Q(E.id)]=a,be({titulo:"".concat(a.titulo),codigo:"".concat(a.codigo),semestre:"".concat(a.semestre),link:"".concat(a.link),publicado:"No publicar",estado:"Desactivado",user:"".concat(a.user)},E.id),a.titulo=a.titulo,a.codigo=a.codigo,a.semestre=a.semestre,a.link=a.link,a.publicado="No publicar",a.estado="Desactivado",a.user=a.user,v({...E}),S.current.show({severity:"success",summary:"Successful",detail:"Pliego de espeficiacion Eliminada",life:3e3})}r(e),v(n),f(!1)}})),ae=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de pliego de especificaciones"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),te=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:ae,colSpan:8})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"CODIGO",field:"codigo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"SEMESTRE",field:"semestre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ARCHIVO",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"40%"}}),c.a.createElement(A.a,{header:"PUBLICADO",field:"publicado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:S}),c.a.createElement(x.a,{className:"",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:W}))}),c.a.createElement(k.a,{ref:D,value:l,selection:N,onSelectionChange:e=>y(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} users",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro el rol",loading:p,headerColumnGroup:te},c.a.createElement(A.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),c.a.createElement(A.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),c.a.createElement(A.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),c.a.createElement(A.a,{style:{width:"40%"},field:"link",header:"LINK",sortable:!0,body:a=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Link"),c.a.createElement(C.a,{label:"Descargar",className:"p-button-link",onClick:ie,style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),c.a.createElement(A.a,{style:{width:"20%"},field:"publicado",header:"PUBLICADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Publicado"),e.publicado)}),c.a.createElement(A.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"20%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{v({...e}),w(!0),V.resetForm(),V.setValues({titulo:"".concat(e.titulo),codigo:"".concat(e.codigo),semestre:"".concat(e.semestre),link:"".concat(e.link),publicado:"".concat(e.publicado),estado:"".concat(e.estado),user:"".concat(e.user)}),U("".concat(e.codigo)),q(!0),b(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{v(e),f(!0)})(e)}))})),c.a.createElement(O.a,{visible:g,style:{width:"450px"},header:()=>M?"Actualizando pliego de espeficiciones":"A\xf1adir pliego de espeficiciones",modal:!0,className:"p-fluid",onHide:_},c.a.createElement("form",{onSubmit:V.handleSubmit},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/title.png":"assets/layout/images/title-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(L.a,{id:"titulo",name:"titulo",placeholder:"Titulo",value:V.values.titulo,onChange:V.handleChange,autoFocus:!0}))),$("titulo"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(L.a,{id:"codigo",name:"codigo",placeholder:"Codigo",value:V.values.codigo,onChange:V.handleChange}))),$("codigo"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-calendar"})),c.a.createElement(B.a,{id:"semestre",name:"semestre",placeholder:"Seleccione el semestre",value:V.values.semestre,onChange:V.handleChange,options:[{name:"I-2020"},{name:"II-2020"},{name:"I-2021"},{name:"II-2021"},{name:"I-2022"},{name:"II-2022"}],optionLabel:"name",optionValue:"name"}))),$("semestre"),c.a.createElement("div",{style:{marginBottom:"10px"},className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("input",{id:"subir",type:"file",onChange:e=>{t({archivo:e.target.files[0],archivoNombre:e.target.files[0].name})},hidden:!0}),c.a.createElement("label",{for:"subir",style:{display:"inline - block",background:"rgb(19, 175, 78)",color:"white",padding:"0.6rem",fontFamily:"sans-serif",cursor:"pointer",marginTop:"0",borderRadius:"7px"}},"Seleccionar Archivo PDF"))),$("link"),M?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/post.png":"assets/layout/images/post-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"publicado",name:"publicado",placeholder:"Seleccione si se publica",value:V.values.publicado,onChange:V.handleChange,options:[{name:"Publicar"},{name:"No publicar"}],optionLabel:"name",optionValue:"name"}))),$("publicado"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:V.values.estado,onChange:V.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),$("estado")):null,c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(B.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:V.values.user,onChange:V.handleChange,options:i,optionLabel:"nombre",optionValue:"id"}))),$("user"),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:_,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{w(!0),V.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{className:"mt-2",visible:h,style:{width:"450px"},header:"Confirm",modal:!0,footer:ee,onHide:X},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,E.titulo)," ",c.a.createElement("b",null,E.semestre),"?"))))))},ve=()=>c.a.createElement("div",{className:"grid"},c.a.createElement("h1",null,"Estamos trabajando - En los Avisos")),Ce=e=>{const[a,t]=Object(o.useState)(null),[n,l]=Object(o.useState)(""),[r,i]=Object(o.useState)(!0);Object(o.useEffect)(()=>{s()},[]);const s=()=>{_().then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertados-----------"),t(e.data),i(!1))})},m=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Lista de empresas registradas en funda empresa"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>l(e.target.value),placeholder:"Buscar..."}))),d=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:m,colSpan:4})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"NOMBRE",field:"nombre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"SOCIEDAD",field:"tipoSociedad",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"DIRECCION",field:"direccion",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"CORREO ELECTRONICO",field:"email",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"grid table-demo"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(k.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers ",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:n,emptyMessage:"No se encontraron empresas",loading:r,headerColumnGroup:d},c.a.createElement(A.a,{style:{width:"20%"},field:"nombre",header:"NOMBRE",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Nombre"),e.nombre)}),c.a.createElement(A.a,{style:{width:"20%"},field:"tipoSociedad",header:"SOCIEDAD",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Tipo Sociedad"),e.tipoSociedad)}),c.a.createElement(A.a,{style:{width:"20%"},field:"direccion",header:"DIRECCION",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Direccion"),e.direccion)}),c.a.createElement(A.a,{style:{width:"25%"},field:"email",header:"CORREO ELECTRONICO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Correo electronico"),e.email)})))))},Ne=e=>{const[a,t]=Object(o.useState)(null),[n,l]=Object(o.useState)(""),[r,i]=Object(o.useState)(!0);Object(o.useEffect)(()=>{s()},[]);const s=()=>{te().then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertados-----------"),t(e.data),i(!1))})},m=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Lista de convocatorias publicadas"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>l(e.target.value),placeholder:"Buscar..."}))),d=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:m,colSpan:4})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"SOCIEDAD",field:"codigo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"DIRECCION",field:"semestre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"LINK",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"grid table-demo"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(k.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:n,emptyMessage:"No se encontraron empresas",loading:r,headerColumnGroup:d},c.a.createElement(A.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),c.a.createElement(A.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),c.a.createElement(A.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),c.a.createElement(A.a,{style:{width:"25%"},field:"link",header:"LINK",sortable:!0,body:a=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Link"),c.a.createElement(C.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))})))))},ye=e=>{const[a,t]=Object(o.useState)(null),[n,l]=Object(o.useState)(""),[r,i]=Object(o.useState)(!0);Object(o.useEffect)(()=>{s()},[]);const s=()=>{he().then(e=>{e.error?console.log("Error"):(console.log("---------Pliegos insertados-----------"),t(e.data),i(!1))})},m=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Lista de pliegos de especificaciones publicadas"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>l(e.target.value),placeholder:"Buscar..."}))),d=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:m,colSpan:4})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"TITULO",field:"titulo",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"SOCIEDAD",field:"CODIGO",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"DIRECCION",field:"SEMESTRE",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"LINK",field:"LINK",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"grid table-demo"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(k.a,{value:a,className:"p-datatable-gridlines p-datatable-striped p-datatable-sm p-datatable-customers",dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],globalFilter:n,emptyMessage:"No se encontraron empresas",loading:r,headerColumnGroup:d},c.a.createElement(A.a,{style:{width:"20%"},field:"titulo",header:"TITULO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Titulo"),e.titulo)}),c.a.createElement(A.a,{style:{width:"20%"},field:"codigo",header:"CODIGO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Codigo"),e.codigo)}),c.a.createElement(A.a,{style:{width:"20%"},field:"semestre",header:"SEMESTRE",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Semestre"),e.semestre)}),c.a.createElement(A.a,{style:{width:"25%"},field:"link",header:"LINK",sortable:!0,body:a=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Link"),c.a.createElement(C.a,{label:"Ver documento",className:"p-button-link",onClick:()=>window.open("".concat(a.link)),style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))})))))};var Ie=t(37),we=t.n(Ie);class Se extends o.Component{constructor(){super(...arguments),this.confirmarEliminacion=()=>{const{id:e}=this.props.info;we.a.fire({title:"Estas seguro??",text:"Esta acci\xf3n no se puede deshacer!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, borrar!",cancelButtonText:"Cancelar"}).then(a=>{a.value&&(this.props.borrarPost(e),we.a.fire("Eliminado!","El post ha sido eliminado.","success"))})}}render(){const{id:e,title:a}=this.props.info;return c.a.createElement("tr",null,c.a.createElement("td",null,e),c.a.createElement("td",null,a),c.a.createElement("td",{style:{"margin-left":"auto","margin-right":"auto"}},c.a.createElement(d.c,{to:"/post/".concat(e),class:"p-button p-component p-button-rounded p-button-success mr-2 p-button-icon-only",style:{background:"rgb(19, 175, 78"}}," Ver"),c.a.createElement(d.c,{to:"/editar/".concat(e),class:"p-button p-component p-button-rounded p-button-success mr-2 p-button-icon-only",style:{background:"rgb(19, 175, 78"}},c.a.createElement("span",{class:"p-button-icon p-c pi pi-pencil"}),c.a.createElement("span",{class:"p-button-label p-c"},"\xa0"),c.a.createElement("span",{class:"p-ink",style:{height:"50px",width:"50px",top:"-5.64062px",left:"-2px"}})),c.a.createElement("button",{onClick:this.confirmarEliminacion,class:"p-button p-component p-button-rounded p-button-warning p-button-icon-only",style:{background:"rgb(238, 229, 0)"}},c.a.createElement("span",{class:"p-button-icon p-c pi pi-trash"}),c.a.createElement("span",{class:"p-button-label p-c"},"\xa0"),c.a.createElement("span",{class:"p-ink",style:{height:"38px",width:"38px",top:"4.85938px",left:"0.296875px"}}))))}}var ke=Se;class Ae extends o.Component{constructor(){super(...arguments),this.mostrarPosts=()=>{const e=this.props.posts;return 0===e.length?null:c.a.createElement(c.a.Fragment,null,Object.keys(e).map(e=>c.a.createElement(ke,{key:e,info:this.props.posts[e],borrarPost:this.props.borrarPost})))}}render(){return c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{style:{"background-color":"rgb(19, 175, 78)",width:"5%"},scope:"col"},"ID"),c.a.createElement("th",{style:{"background-color":"rgb(19, 175, 78)",width:"50%"},scope:"col"},"Titulo"),c.a.createElement("th",{style:{"background-color":"rgb(19, 175, 78)",width:"10%"},scope:"col"},"Acciones"))),c.a.createElement("tbody",null,this.mostrarPosts()))}}class Pe extends o.Component{constructor(){super(...arguments),this.state={}}render(){return c.a.createElement("div",{className:"col-12 col-md-8"},c.a.createElement(Ae,{posts:this.props.posts,borrarPost:this.props.borrarPost}))}}t(45);const xe=()=>c.a.createElement("nav",{className:"col-12 col-md-8"},c.a.createElement(d.c,{to:"/"},"Todos los Foros"),c.a.createElement(d.c,{to:"/crear"},"Nuevo Foro"));class Oe extends o.Component{render(){const{id:e,name:a,body:t,email:o}=this.props.info;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"contenedorComentario"},c.a.createElement("div",{className:"contenidoComentario"},c.a.createElement("div",{className:"usuario"},c.a.createElement("p",null,"nombre : ",a," "),c.a.createElement("p",null,"   email: ",o)),c.a.createElement("hr",{className:"separarUsuario"}),c.a.createElement("p",null,t))),c.a.createElement("br",null),c.a.createElement("hr",null))}}class Le extends o.Component{constructor(){super(...arguments),this.mostrarPosts=()=>{const e=this.props.comment;return 0===e.length?null:c.a.createElement(c.a.Fragment,null,Object.keys(e).map(e=>c.a.createElement(c.a.Fragment,null,c.a.createElement(Oe,{key:e,info:this.props.comment[e],usuario:this.props.usuario}))))}}render(){return c.a.createElement("div",null,this.mostrarPosts())}}class je extends o.Component{constructor(){super(...arguments),this.tituloRef=c.a.createRef(),this.entradaRef=c.a.createRef(),this.crearPost=e=>{e.preventDefault();const a={name:"cesar",email:"cesar@gmail.com",body:this.entradaRef.current.value,userId:1};this.props.crearComentario(a)}}render(){return c.a.createElement("form",{onSubmit:this.crearPost,className:"col-8"},c.a.createElement("legend",{className:"text-center"},"Crear Nuevo Comentario"),c.a.createElement("div",{className:"form-group"},c.a.createElement("textarea",{className:"texarea",ref:this.entradaRef,placeholder:"Escribe un comentario..."})),c.a.createElement("button",{type:"submit",class:"p-button p-component p-button-success p-mr-2",style:{color:"rgb(255, 255, 255)",background:"rgb(19, 175, 78)"}},c.a.createElement("span",{class:"p-button-label p-c"},"Comentar"),c.a.createElement("span",{class:"p-ink",style:{height:"104px",width:"104px",top:"-31px",left:"20px"}})))}}class Te extends o.Component{render(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"col-12 col-md-8"},c.a.createElement("h2",{className:"text-center"},"Comentarios"),c.a.createElement(Le,{comment:this.props.comment,usuario:this.props.usuario}),c.a.createElement(je,{comment:this.props.comment,usuario:this.props.usuario,crearComentario:this.props.crearComentario})))}}class Be extends o.Component{constructor(){super(...arguments),this.state={comment:[]},this.obtenerComment=()=>{z.a.get("https://jsonplaceholder.typicode.com/comments").then(e=>{let a=[];e.data.forEach(e=>{1===e.postId&&(a.push(e),console.log(e))}),console.log(a),this.setState({comment:a})})},this.crearComentario=e=>{z.a.post("https://jsonplaceholder.typicode.com/comments",{comm:e}).then(e=>{if(201===e.status){let a={id:e.data.id};const t=Object.assign({},e.data.comm,a);this.setState(e=>({comment:[...e.comment,t]}))}})},this.mostrarPost=(e,a)=>{if(!e.post)return null;const{title:t,body:o,userId:n,id:l}=this.props.post;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"contenedorForo"},c.a.createElement("h1",null,t),c.a.createElement("p",null,"Autor: ",n),o),c.a.createElement(Te,{comment:this.state.comment,usuario:this.props.post,crearComentario:this.crearComentario}))}}componentDidMount(){this.obtenerComment()}render(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"col-12 col-md-8"},this.mostrarPost(this.props,this.crearComentario)))}}class Re extends o.Component{constructor(){super(...arguments),this.tituloRef=c.a.createRef(),this.entradaRef=c.a.createRef(),this.crearPost=e=>{e.preventDefault();const a={title:this.tituloRef.current.value,body:this.entradaRef.current.value,userId:1};this.props.crearPost(a)}}render(){return c.a.createElement("form",{onSubmit:this.crearPost,className:"col-8"},c.a.createElement("legend",{className:"text-center"},"Crear Nuevo Foro"),c.a.createElement("div",{className:""},c.a.createElement("label",null,"Titulo del Foro:"),c.a.createElement("input",{type:"text",ref:this.tituloRef,className:"textareaTitle",placeholder:"Titulo del Foro"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Contenido: "),c.a.createElement("textarea",{className:"texarea",ref:this.entradaRef,placeholder:"Contenido..."})),c.a.createElement("button",{type:"submit",class:"p-button p-component p-button-success p-mr-2",style:{color:"rgb(255, 255, 255)",background:"rgb(19, 175, 78)"}},c.a.createElement("span",{class:"p-button-label p-c"},"Crear"),c.a.createElement("span",{class:"p-ink",style:{height:"104px",width:"104px",top:"-31px",left:"20px"}})))}}class De extends o.Component{constructor(){super(...arguments),this.tituloRef=c.a.createRef(),this.entradaRef=c.a.createRef(),this.editarPost=e=>{e.preventDefault();const a={title:this.tituloRef.current.value,body:this.entradaRef.current.value,userId:1,id:this.props.post.id};this.props.editarPost(a)},this.cargarFormulario=()=>{if(!this.props.post)return null;const{title:e,body:a}=this.props.post;return c.a.createElement("form",{onSubmit:this.editarPost,className:"col-8"},c.a.createElement("legend",{className:"text-center"},"Editar foro"),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Titulo del Foro:"),c.a.createElement("input",{type:"text",ref:this.tituloRef,className:"textareaTitle",defaultValue:e})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Contenido: "),c.a.createElement("textarea",{className:"texarea",ref:this.entradaRef,defaultValue:a})),c.a.createElement("button",{type:"submit",class:"p-button p-component p-button-success p-mr-2",style:{color:"rgb(255, 255, 255)",background:"rgb(19, 175, 78)"}},c.a.createElement("span",{class:"p-button-label p-c"},"Guardar Cambios"),c.a.createElement("span",{class:"p-ink",style:{height:"104px",width:"104px",top:"-31px",left:"20px"}})))}}render(){return c.a.createElement(c.a.Fragment,null,this.cargarFormulario())}}class Fe extends o.Component{constructor(){super(...arguments),this.state={posts:[]},this.obtenerPost=()=>{z.a.get("https://jsonplaceholder.typicode.com/posts").then(e=>{this.setState({posts:e.data})})},this.borrarPost=e=>{z.a.delete("https://jsonplaceholder.typicode.com/posts/".concat(e)).then(a=>{if(200===a.status){let a=[...this.state.posts].filter(a=>a.id!=e);this.setState({posts:a})}})},this.crearPost=e=>{z.a.post("https://jsonplaceholder.typicode.com/posts",{post:e}).then(e=>{if(201===e.status){we.a.fire("Post Creado","Se creo correctamente","success");let a={id:e.data.id};const t=Object.assign({},e.data.post,a);this.setState(e=>({posts:[...e.posts,t]}))}})},this.editarPost=e=>{const{id:a}=e;z.a.put("https://jsonplaceholder.typicode.com/posts/".concat(a),{postActualizado:e}).then(a=>{if(200===a.status){we.a.fire("Post Actualizado","Se guard\xf3 correctamente","success");let t=a.data.id;const o=[...this.state.posts],c=o.findIndex(e=>t===e.id);o[c]=e,this.setState({posts:o})}})}}componentDidMount(){this.obtenerPost()}render(){return c.a.createElement(d.a,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement(xe,null),c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/foro",render:()=>c.a.createElement(Pe,{posts:this.state.posts,borrarPost:this.borrarPost})}),c.a.createElement(s.a,{exact:!0,path:"/post/:postId",render:e=>{let a=e.location.pathname.replace("/post/","");let t;return t=this.state.posts.filter(e=>e.id===Number(a)),c.a.createElement(Be,{post:t[0]})}}),c.a.createElement(s.a,{exact:!0,path:"/crear",render:()=>c.a.createElement(Re,{crearPost:this.crearPost})}),c.a.createElement(s.a,{exact:!0,path:"/editar/:postId",render:e=>{let a=e.location.pathname.replace("/editar/","");let t;return t=this.state.posts.filter(e=>e.id===Number(a)),c.a.createElement(De,{post:t[0],editarPost:this.editarPost})}})))))}}var Me=t(34),ze=(t(190),t(54));t(192);const qe=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updateContrato/".concat(a),{fecha:"".concat(e.fecha),codigoConvocatoria:"".concat(e.codigoConvocatoria),codigoPliego:"".concat(e.codigoPliego),estado:"".concat(e.estado),empresa:"".concat(e.empresa),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),Ge=e=>{let a={id:null,fecha:"",codigoConvocatoria:"",codigoPliego:"",estado:"",empresa:"",user:""};Object(y.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});const[t,n]=Object(o.useState)(null),[l,r]=Object(o.useState)(null),[i,s]=Object(o.useState)(null),[m,d]=Object(o.useState)(null),[p,u]=Object(o.useState)(null),[g,b]=Object(o.useState)(""),[h,f]=Object(o.useState)(!0),[E,v]=Object(o.useState)(!1),[N,I]=Object(o.useState)(!1),[w,S]=Object(o.useState)(a),[D,M]=Object(o.useState)(null),[q,G]=Object(o.useState)(!1),U=Object(o.useRef)(null),V=Object(o.useRef)(null),[H,Z]=Object(o.useState)(!1),[$,Y]=Object(o.useState)(""),J={weekday:"long",year:"numeric",month:"long",day:"numeric"};let W=new Date,_=W.getMonth(),X=W.getFullYear(),ee=0===_?11:_-1,ae=11===ee?X-1:X,oe=11===_?0:_+1,ce=0===oe?X+1:X,ne=new Date;ne.setMonth(ee),ne.setFullYear(ae);let le=new Date;le.setMonth(oe),le.setFullYear(ce);const re=Object(R.a)({initialValues:{fecha:"",codigoConvocatoria:"",codigoPliego:"",estado:"",empresa:"",user:""},validate:e=>{let a={};return H?(e.fecha||(a.fecha="Se requiere la fecha"),e.codigoConvocatoria?e.codigoConvocatoria.length<2?a.codigoConvocatoria="Como minimo 2 caracteres":e.codigoConvocatoria.length>30&&(a.codigoConvocatoria="Como maximo 30 caracteres"):a.codigoConvocatoria="Se requiere el codigo de la convocatoria",e.codigoPliego?e.codigoPliego.length<2?a.codigoPliego="Como minimo 2 caracteres":e.codigoPliego.length>30&&(a.codigoPliego="Como maximo 30 caracteres"):a.codigoPliego="Se requiere el codigo del pliego de espeficicaciones",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.empresa?e.empresa.length<2?a.empresa="Como minimo 2 caracteres":e.empresa.length>30?a.empresa="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.empresa)||(a.empresa="No se permiten numero o caracteres especiales"):a.empresa="Se requiere la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):(e.fecha||(a.fecha="Se requiere la fecha"),e.codigoConvocatoria?e.codigoConvocatoria.length<2?a.codigoConvocatoria="Como minimo 2 caracteres":e.codigoConvocatoria.length>30&&(a.codigoConvocatoria="Como maximo 30 caracteres"):a.codigoConvocatoria="Se requiere el codigo de la convocatoria",e.codigoPliego?e.codigoPliego.length<2?a.codigoPliego="Como minimo 2 caracteres":e.codigoPliego.length>30&&(a.codigoPliego="Como maximo 30 caracteres"):a.codigoPliego="Se requiere el codigo del pliego de espeficicaciones",e.empresa?e.empresa.length<2?a.empresa="Como minimo 2 caracteres":e.empresa.length>30?a.empresa="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.empresa)||(a.empresa="No se permiten numero o caracteres especiales"):a.empresa="Se requiere la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(!0===q){let o=[...t],c={...w};console.log(e.fecha);let l=new Date(e.fecha).toLocaleDateString(void 0,J);if(c.fecha=l,c.codigoConvocatoria=e.codigoConvocatoria,c.codigoPliego=e.codigoPliego,c.estado=e.estado,c.empresa=e.empresa,c.user=e.user,c.codigoConvocatoria.trim())if(w.id){S({...w});o[Ee(w.id)]=c,qe({fecha:"".concat(c.fecha),codigoConvocatoria:"".concat(c.codigoConvocatoria),codigoPliego:"".concat(c.codigoPliego),estado:"".concat(c.estado),empresa:"".concat(c.empresa),user:"".concat(c.user)},w.id),U.current.show({severity:"success",summary:"Successful",detail:"Contrato Actualizado",life:3e3})}else c.id=F()("cont-"),c.estado="Activo",o.push(c),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createContrato",{id:"".concat(e.id),fecha:"".concat(e.fecha),codigoConvocatoria:"".concat(e.codigoConvocatoria),codigoPliego:"".concat(e.codigoPliego),estado:"".concat(e.estado),empresa:"".concat(e.empresa),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(c.id),fecha:"".concat(c.fecha),codigoConvocatoria:"".concat(c.codigoConvocatoria),codigoPliego:"".concat(c.codigoPliego),estado:"".concat(c.estado),empresa:"".concat(c.empresa),user:"".concat(c.user)}),U.current.show({severity:"success",summary:"Successful",detail:"Contrato Creado",life:3e3});n(o),v(!1),S(a),re.resetForm()}}}),ie=e=>(e=>!(!re.touched[e]||!re.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},re.errors[e]);Object(o.useEffect)(()=>{se()},[]);const se=()=>{z.a.get("https://magic-tech-backend.herokuapp.com/api/getContratos").then(e=>{e.error?console.log("Error"):(console.log("---------Contratos insertados-----------"),n(e.data),f(!1))})};Object(o.useEffect)(()=>{me()},[]);const me=()=>{K().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),r(e.data))})};Object(o.useEffect)(()=>{de()},[]);const de=()=>{Q().then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertadas-----------"),s(e.data))})};Object(o.useEffect)(()=>{pe()},[]);const pe=()=>{te().then(e=>{e.error?console.log("Error"):(console.log("---------Convocatorias insertadas-----------"),d(e.data))})};Object(o.useEffect)(()=>{ue()},[]);const ue=()=>{he().then(e=>{e.error?console.log("Error"):(console.log("---------Pliegos insertados-----------"),u(e.data))})},ge=()=>{S(a),re.resetForm(),G(!1),Z(!1),v(!0)},be=()=>{G(!1),v(!1)},fe=()=>{I(!1)},Ee=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},ve=e=>{console.log(e.empresa);let a=(e=>{let a;for(let t=0;t<i.length;t++)if(i[t].id===e){a={id:i[t].id,nombre:i[t].nombre,nombreCorto:i[t].nombreCorto,nombreLargo:i[t].nombreLargo,tipoSociedad:i[t].tipoSociedad,direccion:i[t].direccion,email:i[t].direccion,password:i[t].password,informacion:i[t].informacion,estado:i[t].estado,user:i[t].user};break}return a})(e.empresa),t=(e=>{let a;for(let t=0;t<l.length;t++)if(l[t].id===e){a={id:l[t].id,nombre:l[t].nombre,apellido:l[t].apellido,email:l[t].email,password:l[t].password,estado:l[t].estado,rol:l[t].rol};break}return a})(a.user);var o=new ze.default;o.setFont("Arial Bold"),o.text(60,20,"CONTRATO DE PRESTACI\xd3N DE"),o.text(65,25,"SERVICIOS - CONSULTOR\xcdA"),o.setFontSize(15),o.setFont("normal"),o.setFontSize(12),o.text(70,30,"".concat(e.fecha)),o.text(20,40,"Que suscriben la empresa Taller de Ingenier\xeda de Software - TIS, que en lo sucesivo se"),o.text(20,45,"denominar\xe1 TIS, por una parte, y la consultora "+"".concat(a.nombre.toLocaleUpperCase())+" "+"".concat(a.tipoSociedad.toLocaleUpperCase())+" registrada debidamente en el "),o.text(20,50,"Departamento de Procesamiento de Datos y Registro e Inscripciones, domiciliada en la ciudad de"),o.text(20,55,"Cochabamba, que en lo sucesivo se denominar\xe1 "+"".concat(a.nombre.toLocaleUpperCase())+" "+"".concat(a.tipoSociedad.toLocaleUpperCase())+", por otra parte, de"),o.text(20,60,"conformidad a las cl\xe1usulas que se detallan a continuaci\xf3n:"),o.text(20,70,"PRIMERA.- TIS contratar\xe1 los servicios del Contratista para la provisi\xf3n de un Sistema de Apoyo a"),o.text(20,75,"la Empresa TIS que se realizar\xe1, conforme a la modalidad y presupuesto entregado por la"),o.text(20,80,"Consultora, en su documento de propuesta t\xe9cnica, y normas estipuladas por TIS."),o.text(20,90,"SEGUNDO.- El objeto de este contrato es la provisi\xf3n de un producto software."),o.text(20,100,"TERCERO.- La consultora "+"".concat(a.nombre.toLocaleUpperCase())+" "+"".concat(a.tipoSociedad.toLocaleUpperCase())+", se hace responsable por la buena ejecuci\xf3n de las"),o.text(20,105,"distintas fases, que involucren su ingenier\xeda del proyecto, especificadas en la propuesta t\xe9cnica"),o.text(20,110,"corregida de acuerdo al pliego de especificaciones."),o.text(20,120,"CUARTO.- Para cualquier otro punto no estipulado en el presente contrato, debe hacerse referencia"),o.text(20,125,"a la Convocatoria P\xfablica "+"".concat(e.codigoConvocatoria.toLocaleUpperCase())+", al Pliego de Especificaciones "+"".concat(e.codigoPliego.toLocaleUpperCase())+" y/o a"),o.text(20,130,"PG-TIS (Plan Global - TIS)"),o.text(20,140,"QUINTO.- Se pone en evidencia que cualquier incumplimiento de las cl\xe1usulas estipuladas en el "),o.text(20,145,"presente contrato, es pasible a la disoluci\xf3n del mismo."),o.text(20,155,"SEXTO.- La consultora "+"".concat(a.nombre.toLocaleUpperCase())+" "+"".concat(a.tipoSociedad.toLocaleUpperCase())+", declara su absoluta conformidad con los t\xe9rminos del "),o.text(20,160,"presente contrato. Se deja constancia de que los datos y antecedentes personales jur\xeddicos "),o.text(20,165,"proporcionados por el adjudicatario son ver\xeddicos."),o.text(20,175,"SEPTIMO.- El presente contrato se disuelve tambi\xe9n, por cualquier motivo de incumplimiento a"),o.text(20,180,"normas establecidas en PG-TIS (Plan Global - TIS)."),o.text(20,190,"OCTAVO.- Por la disoluci\xf3n del contrato, TIS tiene todo el derecho de ejecutar la boleta de garant\xeda, "),o.text(20,195,"que es entregada por el contratado como documento de seriedad de la empresa."),o.text(20,205,"NOVENO.- La informaci\xf3n que TIS brinde al contratado debe ser de rigurosa confidencialidad, y no"),o.text(20,210,"utilizarse para otros fines que no sea el desarrollo del proyecto."),o.text(20,220,"DECIMO.- TIS representada por su directorio Lic. Corina Flores V., Lic. M. Leticia Blanco C., Lic."),o.text(20,225,"David Escalera F., y Lic. Patricia Rodriguez, y por otra; la consultora "+"".concat(a.nombre.toLocaleUpperCase())+" "+"".concat(a.tipoSociedad.toLocaleUpperCase())+", "),o.text(20,230,"representada por su representante legal "+"".concat(t.nombre)+" "+"".concat(t.apellido)+", dan su plena"),o.text(20,235,"conformidad a los t\xe9rminos y condiciones establecidos en el presente Contrato de Prestaci\xf3n de"),o.text(20,240,"Servicios y Consultor\xeda, firmando en constancia al pie de presente documento."),o.text(70,250,"Cochabamba, "+"".concat(e.fecha)),o.text(20,270,"REPRESENTANTE"),o.text(20,275,"GRUPOEMPRESA"),o.text(150,270,"REPRESENTANTE"),o.text(150,275,"CONSULTORA TIS"),o.save("Contrato_"+"".concat(a.nombre.toLocaleUpperCase())+".pdf")},Ce=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:fe}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...w};if(w.codigoConvocatoria.trim()&&w.id){e[Ee(w.id)]=o,qe({fecha:"".concat(o.fecha),codigoConvocatoria:"".concat(o.codigoConvocatoria),codigoPliego:"".concat(o.codigoPliego),estado:"Desactivado",empresa:"".concat(o.empresa),user:"".concat(o.user)},w.id),o.fecha=o.fecha,o.codigoConvocatoria=o.codigoConvocatoria,o.codigoPliego=o.codigoPliego,o.estado="Desactivado",o.empresa=o.empresa,o.user=o.user,S({...w}),U.current.show({severity:"success",summary:"Successful",detail:"Contrato desactivado",life:3e3})}n(e),S(a),I(!1)}})),Ne=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de firma de contrato"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>b(e.target.value),placeholder:"Buscar..."}))),ye=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:Ne,colSpan:7})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"FECHA",field:"fecha",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"COD. CONVOCATORIA",field:"codigoConvocatoria",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"COD. PLIEGO",field:"codigoPliego",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Generar PDF",style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:U}),c.a.createElement(x.a,{className:"",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:ge}))}),c.a.createElement(k.a,{ref:V,value:t,selection:D,onSelectionChange:e=>M(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} contratos",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:g,emptyMessage:"No se encontro los contratos",loading:h,headerColumnGroup:ye},c.a.createElement(A.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"20%"},field:"fecha",header:"FECHA",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Fecha"),e.fecha)}),c.a.createElement(A.a,{style:{width:"20%"},field:"codigoConvocatoria",header:"COD. CONVOCATORIA",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Codigo convocatoria"),e.codigoConvocatoria)}),c.a.createElement(A.a,{style:{width:"20%"},field:"codigoPliego",header:"COD. PLIEGO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Codigo de Pliego"),e.codigoPliego)}),c.a.createElement(A.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"20%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{S({...e}),G(!0),re.resetForm(),re.setValues({fecha:"".concat(e.fecha),codigoConvocatoria:"".concat(e.codigoConvocatoria),codigoPliego:"".concat(e.codigoPliego),estado:"".concat(e.estado),empresa:"".concat(e.empresa),user:"".concat(e.user)}),Y("".concat(e.codigoConvocatoria)),Z(!0),v(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning ",onClick:()=>(e=>{S(e),I(!0)})(e)}))}),c.a.createElement(A.a,{header:"Generar PDF",body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-file-pdf",style:{background:"#ed4651"},className:"p-button-rounded p-button-success mr-2",onClick:()=>ve(e)}))})),c.a.createElement(O.a,{visible:E,style:{width:"450px"},header:()=>H?"Actualizando contrato":"A\xf1adir contrato",modal:!0,className:"p-fluid",onHide:be},c.a.createElement("form",{onSubmit:re.handleSubmit},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-calendar"})),c.a.createElement(Me.a,{id:"fecha",name:"fecha",placeholder:"Seleccione una fecha",value:re.values.fecha,onChange:re.handleChange,locale:"es",dateFormat:"mm/dd/yy",minDate:ne,maxDate:le,readOnlyInput:!0}))),ie("fecha"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"codigoConvocatoria",name:"codigoConvocatoria",placeholder:"Seleccione el codigo de convocatoria",value:re.values.codigoConvocatoria,onChange:re.handleChange,options:m,optionLabel:"codigo",optionValue:"codigo"}))),ie("codigoConvocatoria"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/code.png":"assets/layout/images/code-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"codigoPliego",name:"codigoPliego",placeholder:"Seleccione el codigo de pliego",value:re.values.codigoPliego,onChange:re.handleChange,options:p,optionLabel:"codigo",optionValue:"codigo"}))),ie("codigoPliego"),H?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:re.values.estado,onChange:re.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),ie("estado")):null,c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-briefcase"})),c.a.createElement(B.a,{id:"empresa",name:"empresa",placeholder:"Seleccione una empresa",value:re.values.empresa,onChange:re.handleChange,options:i,optionLabel:"nombre",optionValue:"id"}))),ie("empresa"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(B.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:re.values.user,onChange:re.handleChange,options:l,optionLabel:"nombre",optionValue:"id"}))),ie("user"),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:be,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{G(!0),re.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{className:"mt-2",visible:N,style:{width:"450px"},header:"Confirm",modal:!0,footer:Ce,onHide:fe},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),w&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,w.id),"?"))))))},Ue=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updateOrden/".concat(a),{fecha:"".concat(e.fecha),caratulaA:"".concat(e.caratulaA),indiceA:"".concat(e.indiceA),cartaA:"".concat(e.cartaA),boletaA:"".concat(e.boletaA),conformacionA:"".concat(e.conformacionA),solvenciaA:"".concat(e.solvenciaA),caratulaB:"".concat(e.caratulaB),indiceB:"".concat(e.indiceB),propuestaServicioB:"".concat(e.propuestaServicioB),planificacionB:"".concat(e.planificacionB),propuestaEconomicaB:"".concat(e.propuestaEconomicaB),planPagosB:"".concat(e.planPagosB),cumplimientoProponente:"".concat(e.cumplimientoProponente),claridadOrganizacion:"".concat(e.claridadOrganizacion),cumplimientoTecnico:"".concat(e.cumplimientoTecnico),claridadProceso:"".concat(e.claridadProceso),plazosEjecucion:"".concat(e.plazosEjecucion),precioTotal:"".concat(e.precioTotal),usoHerramienta:"".concat(e.usoHerramienta),estado:"".concat(e.estado),empresa:"".concat(e.empresa),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),Ve=e=>{let a={id:null,fecha:"",caratulaA:"",indiceA:"",cartaA:"",boletaA:"",conformacionA:"",solvenciaA:"",caratulaB:"",indiceB:"",propuestaServicioB:"",planificacionB:"",propuestaEconomicaB:"",planPagosB:"",cumplimientoProponente:"",claridadOrganizacion:"",cumplimientoTecnico:"",claridadProceso:"",plazosEjecucion:"",precioTotal:"",usoHerramienta:"",estado:"",empresa:"",user:""};Object(y.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});const[t,n]=Object(o.useState)(null),[l,r]=Object(o.useState)(null),[i,s]=Object(o.useState)(null),[m,d]=Object(o.useState)(""),[p,u]=Object(o.useState)(!0),[g,b]=Object(o.useState)(!1),[h,f]=Object(o.useState)(!1),[E,v]=Object(o.useState)(a),[N,I]=Object(o.useState)(null),[w,S]=Object(o.useState)(!1),D=Object(o.useRef)(null),M=Object(o.useRef)(null),[q,G]=Object(o.useState)(!1),[U,V]=Object(o.useState)(""),H={weekday:"long",year:"numeric",month:"long",day:"numeric"};let Z=new Date,$=Z.getMonth(),Y=Z.getFullYear(),J=0===$?11:$-1,_=11===J?Y-1:Y,X=11===$?0:$+1,ee=0===X?Y+1:Y,ae=new Date;ae.setMonth(J),ae.setFullYear(_);let te=new Date;te.setMonth(X),te.setFullYear(ee);const oe=Object(R.a)({initialValues:{fecha:"",caratulaA:"",indiceA:"",cartaA:"",boletaA:"",conformacionA:"",solvenciaA:"",caratulaB:"",indiceB:"",propuestaServicioB:"",planificacionB:"",propuestaEconomicaB:"",planPagosB:"",cumplimientoProponente:"",claridadOrganizacion:"",cumplimientoTecnico:"",claridadProceso:"",plazosEjecucion:"",precioTotal:"",usoHerramienta:"",estado:"",empresa:"",user:""},validate:e=>{let a={};return q?(e.fecha||(a.fecha="Se requiere la fecha"),e.caratulaA?e.caratulaA.length<2?a.caratulaA="Como minimo 2 caracteres":e.caratulaA.length>512&&(a.caratulaA="Como maximo 512 caracteres"):a.caratulaA="Se requiere la caratula",e.indiceA?e.indiceA.length<2?a.indiceA="Como minimo 2 caracteres":e.indiceA.length>512&&(a.indiceA="Como maximo 512 caracteres"):a.indiceA="Se requiere el indice",e.cartaA?e.cartaA.length<2?a.cartaA="Como minimo 2 caracteres":e.cartaA.length>512&&(a.cartaA="Como maximo 512 caracteres"):a.cartaA="Se requiere la carta",e.boletaA?e.boletaA.length<2?a.boletaA="Como minimo 2 caracteres":e.boletaA.length>512&&(a.boletaA="Como maximo 512 caracteres"):a.boletaA="Se requiere la boleta de garantia",e.conformacionA?e.conformacionA.length<2?a.conformacionA="Como minimo 2 caracteres":e.conformacionA.length>512&&(a.conformacionA="Como maximo 512 caracteres"):a.conformacionA="Se requiere la conformacion del grupo empresa",e.solvenciaA?e.solvenciaA.length<2?a.solvenciaA="Como minimo 2 caracteres":e.solvenciaA.length>512&&(a.solvenciaA="Como maximo 512 caracteres"):a.solvenciaA="Se requiere la solvencia tecnica",e.caratulaB?e.caratulaB.length<2?a.caratulaB="Como minimo 2 caracteres":e.caratulaB.length>512&&(a.caratulaB="Como maximo 512 caracteres"):a.caratulaB="Se requiere la caratula",e.indiceB?e.indiceB.length<2?a.indiceB="Como minimo 2 caracteres":e.indiceB.length>512&&(a.indiceB="Como maximo 512 caracteres"):a.indiceB="Se requiere el indice",e.propuestaServicioB?e.propuestaServicioB.length<2?a.propuestaServicioB="Como minimo 2 caracteres":e.propuestaServicioB.length>512&&(a.propuestaServicioB="Como maximo 512 caracteres"):a.propuestaServicioB="Se requiere la propuesta de servicio",e.planificacionB?e.planificacionB.length<2?a.planificacionB="Como minimo 2 caracteres":e.planificacionB.length>512&&(a.planificacionB="Como maximo 512 caracteres"):a.planificacionB="Se requiere la planificacion",e.propuestaEconomicaB?e.propuestaEconomicaB.length<2?a.propuestaEconomicaB="Como minimo 2 caracteres":e.propuestaEconomicaB.length>512&&(a.propuestaEconomicaB="Como maximo 512 caracteres"):a.propuestaEconomicaB="Se requiere la propuesta economica",e.planPagosB?e.planPagosB.length<2?a.planPagosB="Como minimo 2 caracteres":e.planPagosB.length>512&&(a.planPagosB="Como maximo 512 caracteres"):a.planPagosB="Se requiere el plan de pagos",e.cumplimientoProponente?e.cumplimientoProponente.length<1?a.cumplimientoProponente="Como minimo 2 caracteres":e.cumplimientoProponente.length>512&&(a.cumplimientoProponente="Como maximo 512 caracteres"):a.cumplimientoProponente="Se requiere el cumplimiento de espeficicaciones",e.claridadOrganizacion?e.claridadOrganizacion.length<1?a.claridadOrganizacion="Como minimo 2 caracteres":e.claridadOrganizacion.length>512&&(a.claridadOrganizacion="Como maximo 512 caracteres"):a.claridadOrganizacion="Se requiere el clarida de organizacion",e.cumplimientoTecnico?e.cumplimientoTecnico.length<1?a.cumplimientoTecnico="Como minimo 2 caracteres":e.cumplimientoTecnico.length>512&&(a.cumplimientoTecnico="Como maximo 512 caracteres"):a.cumplimientoTecnico="Se requiere el cumplimiento de especificaciones tecnicas",e.claridadProceso?e.claridadProceso.length<1?a.claridadProceso="Como minimo 2 caracteres":e.claridadProceso.length>512&&(a.claridadProceso="Como maximo 512 caracteres"):a.claridadProceso="Se requiere el claridad de proceso de desarrollo",e.plazosEjecucion?e.plazosEjecucion.length<1?a.plazosEjecucion="Como minimo 2 caracteres":e.plazosEjecucion.length>512&&(a.plazosEjecucion="Como maximo 512 caracteres"):a.plazosEjecucion="Se requiere los plazos de ejecucion",e.precioTotal?e.precioTotal.length<1?a.precioTotal="Como minimo 2 caracteres":e.precioTotal.length>512&&(a.precioTotal="Como maximo 512 caracteres"):a.precioTotal="Se requiere los precios totales",e.usoHerramienta?e.usoHerramienta.length<1?a.usoHerramienta="Como minimo 2 caracteres":e.usoHerramienta.length>512&&(a.usoHerramienta="Como maximo 512 caracteres"):a.usoHerramienta="Se requiere el uso de herramienta",e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.empresa?e.empresa.length<2?a.empresa="Como minimo 2 caracteres":e.empresa.length>30?a.empresa="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.empresa)||(a.empresa="No se permiten numero o caracteres especiales"):a.empresa="Se requiere la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):(e.fecha||(a.fecha="Se requiere la fecha"),e.caratulaA?e.caratulaA.length<2?a.caratulaA="Como minimo 2 caracteres":e.caratulaA.length>512&&(a.caratulaA="Como maximo 512 caracteres"):a.caratulaA="Se requiere la caratula",e.indiceA?e.indiceA.length<2?a.indiceA="Como minimo 2 caracteres":e.indiceA.length>512&&(a.indiceA="Como maximo 512 caracteres"):a.indiceA="Se requiere el indice",e.cartaA?e.cartaA.length<2?a.cartaA="Como minimo 2 caracteres":e.cartaA.length>512&&(a.cartaA="Como maximo 512 caracteres"):a.cartaA="Se requiere la carta",e.boletaA?e.boletaA.length<2?a.boletaA="Como minimo 2 caracteres":e.boletaA.length>512&&(a.boletaA="Como maximo 512 caracteres"):a.boletaA="Se requiere la boleta de garantia",e.conformacionA?e.conformacionA.length<2?a.conformacionA="Como minimo 2 caracteres":e.conformacionA.length>512&&(a.conformacionA="Como maximo 512 caracteres"):a.conformacionA="Se requiere la conformacion del grupo empresa",e.solvenciaA?e.solvenciaA.length<2?a.solvenciaA="Como minimo 2 caracteres":e.solvenciaA.length>512&&(a.solvenciaA="Como maximo 512 caracteres"):a.solvenciaA="Se requiere la solvencia tecnica",e.caratulaB?e.caratulaB.length<2?a.caratulaB="Como minimo 2 caracteres":e.caratulaB.length>512&&(a.caratulaB="Como maximo 512 caracteres"):a.caratulaB="Se requiere la caratula",e.indiceB?e.indiceB.length<2?a.indiceB="Como minimo 2 caracteres":e.indiceB.length>512&&(a.indiceB="Como maximo 512 caracteres"):a.indiceB="Se requiere el indice",e.propuestaServicioB?e.propuestaServicioB.length<2?a.propuestaServicioB="Como minimo 2 caracteres":e.propuestaServicioB.length>512&&(a.propuestaServicioB="Como maximo 512 caracteres"):a.propuestaServicioB="Se requiere la propuesta de servicio",e.planificacionB?e.planificacionB.length<2?a.planificacionB="Como minimo 2 caracteres":e.planificacionB.length>512&&(a.planificacionB="Como maximo 512 caracteres"):a.planificacionB="Se requiere la planificacion",e.propuestaEconomicaB?e.propuestaEconomicaB.length<2?a.propuestaEconomicaB="Como minimo 2 caracteres":e.propuestaEconomicaB.length>512&&(a.propuestaEconomicaB="Como maximo 512 caracteres"):a.propuestaEconomicaB="Se requiere la propuesta economica",e.planPagosB?e.planPagosB.length<2?a.planPagosB="Como minimo 2 caracteres":e.planPagosB.length>512&&(a.planPagosB="Como maximo 512 caracteres"):a.planPagosB="Se requiere el plan de pagos",e.cumplimientoProponente?e.cumplimientoProponente.length<1?a.cumplimientoProponente="Como minimo 2 caracteres":e.cumplimientoProponente.length>512&&(a.cumplimientoProponente="Como maximo 512 caracteres"):a.cumplimientoProponente="Se requiere el cumplimiento de espeficicaciones",e.claridadOrganizacion?e.claridadOrganizacion.length<1?a.claridadOrganizacion="Como minimo 2 caracteres":e.claridadOrganizacion.length>512&&(a.claridadOrganizacion="Como maximo 512 caracteres"):a.claridadOrganizacion="Se requiere el clarida de organizacion",e.cumplimientoTecnico?e.cumplimientoTecnico.length<1?a.cumplimientoTecnico="Como minimo 2 caracteres":e.cumplimientoTecnico.length>512&&(a.cumplimientoTecnico="Como maximo 512 caracteres"):a.cumplimientoTecnico="Se requiere el cumplimiento de especificaciones tecnicas",e.claridadProceso?e.claridadProceso.length<1?a.claridadProceso="Como minimo 2 caracteres":e.claridadProceso.length>512&&(a.claridadProceso="Como maximo 512 caracteres"):a.claridadProceso="Se requiere el claridad de proceso de desarrollo",e.plazosEjecucion?e.plazosEjecucion.length<1?a.plazosEjecucion="Como minimo 2 caracteres":e.plazosEjecucion.length>512&&(a.plazosEjecucion="Como maximo 512 caracteres"):a.plazosEjecucion="Se requiere los plazos de ejecucion",e.precioTotal?e.precioTotal.length<1?a.precioTotal="Como minimo 2 caracteres":e.precioTotal.length>512&&(a.precioTotal="Como maximo 512 caracteres"):a.precioTotal="Se requiere los precios totales",e.usoHerramienta?e.usoHerramienta.length<1?a.usoHerramienta="Como minimo 2 caracteres":e.usoHerramienta.length>512&&(a.usoHerramienta="Como maximo 512 caracteres"):a.usoHerramienta="Se requiere el uso de herramienta",e.empresa?e.empresa.length<2?a.empresa="Como minimo 2 caracteres":e.empresa.length>30?a.empresa="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.empresa)||(a.empresa="No se permiten numero o caracteres especiales"):a.empresa="Se requiere la empresa",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"),a},onSubmit:e=>{if(console.log(e),!0===w){let o=[...t],c={...E},l=new Date(e.fecha).toLocaleDateString(void 0,H);if(c.fecha=l,c.caratulaA=e.caratulaA,c.indiceA=e.indiceA,c.cartaA=e.cartaA,c.boletaA=e.boletaA,c.conformacionA=e.conformacionA,c.solvenciaA=e.solvenciaA,c.caratulaB=e.caratulaB,c.indiceB=e.indiceB,c.propuestaServicioB=e.propuestaServicioB,c.planificacionB=e.planificacionB,c.propuestaEconomicaB=e.propuestaEconomicaB,c.planPagosB=e.planPagosB,c.cumplimientoProponente=e.cumplimientoProponente,c.claridadOrganizacion=e.claridadOrganizacion,c.cumplimientoTecnico=e.cumplimientoTecnico,c.claridadProceso=e.claridadProceso,c.plazosEjecucion=e.plazosEjecucion,c.precioTotal=e.precioTotal,c.usoHerramienta=e.usoHerramienta,c.estado=e.estado,c.empresa=e.empresa,c.user=e.user,c.caratulaA.trim())if(E.id){v({...E});o[de(E.id)]=c,Ue({fecha:"".concat(c.fecha),caratulaA:"".concat(c.caratulaA),indiceA:"".concat(c.indiceA),cartaA:"".concat(c.cartaA),boletaA:"".concat(c.boletaA),conformacionA:"".concat(c.conformacionA),solvenciaA:"".concat(c.solvenciaA),caratulaB:"".concat(c.caratulaB),indiceB:"".concat(c.indiceB),propuestaServicioB:"".concat(c.propuestaServicioB),planificacionB:"".concat(c.planificacionB),propuestaEconomicaB:"".concat(c.propuestaEconomicaB),planPagosB:"".concat(c.planPagosB),cumplimientoProponente:"".concat(c.cumplimientoProponente),claridadOrganizacion:"".concat(c.claridadOrganizacion),cumplimientoTecnico:"".concat(c.cumplimientoTecnico),claridadProceso:"".concat(c.claridadProceso),plazosEjecucion:"".concat(c.plazosEjecucion),precioTotal:"".concat(c.precioTotal),usoHerramienta:"".concat(c.usoHerramienta),estado:"".concat(c.estado),empresa:"".concat(c.empresa),user:"".concat(c.user)},E.id),D.current.show({severity:"success",summary:"Successful",detail:"Orden de cambio Actualizado",life:3e3})}else c.id=F()("Orden-"),c.estado="Activo",o.push(c),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createOrden",{id:"".concat(e.id),fecha:"".concat(e.fecha),caratulaA:"".concat(e.caratulaA),indiceA:"".concat(e.indiceA),cartaA:"".concat(e.cartaA),boletaA:"".concat(e.boletaA),conformacionA:"".concat(e.conformacionA),solvenciaA:"".concat(e.solvenciaA),caratulaB:"".concat(e.caratulaB),indiceB:"".concat(e.indiceB),propuestaServicioB:"".concat(e.propuestaServicioB),planificacionB:"".concat(e.planificacionB),propuestaEconomicaB:"".concat(e.propuestaEconomicaB),planPagosB:"".concat(e.planPagosB),cumplimientoProponente:"".concat(e.cumplimientoProponente),claridadOrganizacion:"".concat(e.claridadOrganizacion),cumplimientoTecnico:"".concat(e.cumplimientoTecnico),claridadProceso:"".concat(e.claridadProceso),plazosEjecucion:"".concat(e.plazosEjecucion),precioTotal:"".concat(e.precioTotal),usoHerramienta:"".concat(e.usoHerramienta),estado:"".concat(e.estado),empresa:"".concat(e.empresa),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(c.id),fecha:"".concat(c.fecha),caratulaA:"".concat(c.caratulaA),indiceA:"".concat(c.indiceA),cartaA:"".concat(c.cartaA),boletaA:"".concat(c.boletaA),conformacionA:"".concat(c.conformacionA),solvenciaA:"".concat(c.solvenciaA),caratulaB:"".concat(c.caratulaB),indiceB:"".concat(c.indiceB),propuestaServicioB:"".concat(c.propuestaServicioB),planificacionB:"".concat(c.planificacionB),propuestaEconomicaB:"".concat(c.propuestaEconomicaB),planPagosB:"".concat(c.planPagosB),cumplimientoProponente:"".concat(c.cumplimientoProponente),claridadOrganizacion:"".concat(c.claridadOrganizacion),cumplimientoTecnico:"".concat(c.cumplimientoTecnico),claridadProceso:"".concat(c.claridadProceso),plazosEjecucion:"".concat(c.plazosEjecucion),precioTotal:"".concat(c.precioTotal),usoHerramienta:"".concat(c.usoHerramienta),estado:"".concat(c.estado),empresa:"".concat(c.empresa),user:"".concat(c.user)}),D.current.show({severity:"success",summary:"Successful",detail:"Orden de cambio Creado",life:3e3});n(o),b(!1),v(a),oe.resetForm()}}}),ce=e=>(e=>!(!oe.touched[e]||!oe.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},oe.errors[e]);Object(o.useEffect)(()=>{ne()},[]);const ne=()=>{z.a.get("https://magic-tech-backend.herokuapp.com/api/getOrdens").then(e=>{e.error?console.log("Error"):(console.log("---------Orden de cambio insertados-----------"),n(e.data),u(!1))})};Object(o.useEffect)(()=>{le()},[]);const le=()=>{K().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),r(e.data))})};Object(o.useEffect)(()=>{re()},[]);const re=()=>{Q().then(e=>{e.error?console.log("Error"):(console.log("---------Empresas insertadas-----------"),s(e.data))})},ie=()=>{v(a),oe.resetForm(),S(!1),G(!1),b(!0)},se=()=>{S(!1),b(!1)},me=()=>{f(!1)},de=e=>{let a=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){a=o;break}return a},pe=e=>{let a=(e=>{let a;for(let t=0;t<i.length;t++)if(i[t].id===e){a={id:i[t].id,nombre:i[t].nombre,nombreCorto:i[t].nombreCorto,nombreLargo:i[t].nombreLargo,tipoSociedad:i[t].tipoSociedad,direccion:i[t].direccion,email:i[t].direccion,password:i[t].password,informacion:i[t].informacion,estado:i[t].estado,user:i[t].user};break}return a})(e.empresa),t=(e=>{let a;for(let t=0;t<l.length;t++)if(l[t].id===e){a={id:l[t].id,nombre:l[t].nombre,apellido:l[t].apellido,email:l[t].email,password:l[t].password,estado:l[t].estado,rol:l[t].rol};break}return a})(a.user);var o=new ze.default;o.setFont("Arial Bold"),o.text(75,20,"ORDEN DE CAMBIO"),o.setFontSize(17),o.text(70,30,""),o.autoTable({html:"#my-table"}),o.autoTable({head:[["",""]],body:[["De: Corina Flores, consultora de TIS","".concat(e.fecha)],["Para el representante de la GrupoEmpresa "+"".concat(a.nombre.toLocaleUpperCase())+" "+"".concat(a.tipoSociedad.toLocaleUpperCase())+",representada por su representante legal "+"".concat(t.nombre)+" "+"".concat(t.apellido),""]]}),o.autoTable({head:[["PARTE A",""]],body:[["Car\xe1tula","".concat(e.caratulaA)],["Indice","".concat(e.indiceA)],["Carta de presentaci\xf3n","".concat(e.cartaA)],["Boleta de garant\xeda","".concat(e.boletaA)],["Conformaci\xf3n de la grupo-empresa","".concat(e.conformacionA)],["Solvencia t\xe9cnica","".concat(e.solvenciaA)]]}),o.autoTable({head:[["PARTE B",""]],body:[["Car\xe1tula","".concat(e.caratulaB)],["Indice","".concat(e.indiceB)],["Propuesta de servicio","".concat(e.propuestaServicioB)],["Planificacion","".concat(e.planificacionB)],["Propuesta economica","".concat(e.propuestaEconomicaB)],["Plan de pagos","".concat(e.planPagosB)]]}),o.autoTable({head:[["",""]],body:[["En consecuencia una vez revisadas las propuestas por su grupo-empresa,TIS resuelve:",""]]}),o.autoTable({head:[["CRITERIOS","PUNTAJE"]],body:[["Cumplimiento de especificaciones del proponente (15 puntos)","".concat(e.cumplimientoProponente)],["Claridad en la organizaci\xf3n de la empresa proponente (10 puntos)","".concat(e.claridadOrganizacion)],["Cumplimiento de especificaciones t\xe9cnicas (30 puntos)","".concat(e.cumplimientoTecnico)],["Claridad en el proceso de desarrollo (10 puntos)","".concat(e.claridadProceso)],["Plazo de ejecuci\xf3n (10 puntos)","".concat(e.plazosEjecucion)],["Precio total (15 puntos)","".concat(e.precioTotal)],["Uso de herramientas en el proceso de desarrollo (10 puntos)","".concat(e.usoHerramienta)],["TOTAL PUNTAJE",parseInt("".concat(e.cumplimientoProponente))+parseInt("".concat(e.claridadOrganizacion))+parseInt("".concat(e.cumplimientoTecnico))+parseInt("".concat(e.claridadProceso))+parseInt("".concat(e.plazosEjecucion))+parseInt("".concat(e.precioTotal))+parseInt("".concat(e.usoHerramienta))]]}),o.save("OC_"+"".concat(a.nombre.toLocaleUpperCase())+".pdf")},ue=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:me}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...t],o={...E};if(E.caratulaA.trim()&&E.id){e[de(E.id)]=o,Ue({fecha:"".concat(o.fecha),caratulaA:"".concat(o.caratulaA),indiceA:"".concat(o.indiceA),cartaA:"".concat(o.cartaA),boletaA:"".concat(o.boletaA),conformacionA:"".concat(o.conformacionA),solvenciaA:"".concat(o.solvenciaA),caratulaB:"".concat(o.caratulaB),indiceB:"".concat(o.indiceB),propuestaServicioB:"".concat(o.propuestaServicioB),planificacionB:"".concat(o.planificacionB),propuestaEconomicaB:"".concat(o.propuestaEconomicaB),planPagosB:"".concat(o.planPagosB),cumplimientoProponente:"".concat(o.cumplimientoProponente),claridadOrganizacion:"".concat(o.claridadOrganizacion),cumplimientoTecnico:"".concat(o.cumplimientoTecnico),claridadProceso:"".concat(o.claridadProceso),plazosEjecucion:"".concat(o.plazosEjecucion),precioTotal:"".concat(o.precioTotal),usoHerramienta:"".concat(o.usoHerramienta),estado:"Desactivado",empresa:"".concat(o.empresa),user:"".concat(o.user)},E.id),o.fecha=o.fecha,o.caratulaA=o.caratulaA,o.indiceA=o.indiceA,o.cartaA=o.cartaA,o.boletaA=o.boletaA,o.conformacionA=o.conformacionA,o.solvenciaA=o.solvenciaA,o.caratulaB=o.caratulaB,o.indiceB=o.indiceB,o.propuestaServicioB=o.propuestaServicioB,o.planificacionB=o.planificacionB,o.propuestaEconomicaB=o.propuestaEconomicaB,o.planPagosB=o.planPagosB,o.cumplimientoProponente=o.cumplimientoProponente,o.claridadOrganizacion=o.claridadOrganizacion,o.cumplimientoTecnico=o.cumplimientoTecnico,o.claridadProceso=o.claridadProceso,o.plazosEjecucion=o.plazosEjecucion,o.precioTotal=o.precioTotal,o.usoHerramienta=o.usoHerramienta,o.estado="Desactivado",o.empresa=o.empresa,o.user=o.user,v({...E}),D.current.show({severity:"success",summary:"Successful",detail:"Orden de cambio desactivado",life:3e3})}n(e),v(a),f(!1)}})),ge=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de Orden de Cambio"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),be=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:ge,colSpan:7})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"FECHA",field:"fecha",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"EMPRESA",field:"empresa",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"USUARIO",field:"user",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Generar PDF",style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:D}),c.a.createElement(x.a,{className:"",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:ie}))}),c.a.createElement(k.a,{ref:M,value:t,selection:N,onSelectionChange:e=>I(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} parte A",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro los documentos de la Parte A",loading:p,headerColumnGroup:be},c.a.createElement(A.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"20%"},field:"fecha",header:"FECHA",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Fecha"),e.fecha)}),c.a.createElement(A.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"20%"},field:"empresa",header:"EMPRESA",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Empresa"),e.empresa)}),c.a.createElement(A.a,{style:{width:"20%"},field:"user",header:"USUARIO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Usuario"),e.user)}),c.a.createElement(A.a,{style:{width:"20%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{v({...e}),S(!0),oe.resetForm(),oe.setValues({fecha:"".concat(e.fecha),caratulaA:"".concat(e.caratulaA),indiceA:"".concat(e.indiceA),cartaA:"".concat(e.cartaA),boletaA:"".concat(e.boletaA),conformacionA:"".concat(e.conformacionA),solvenciaA:"".concat(e.solvenciaA),caratulaB:"".concat(e.caratulaB),indiceB:"".concat(e.indiceB),propuestaServicioB:"".concat(e.propuestaServicioB),planificacionB:"".concat(e.planificacionB),propuestaEconomicaB:"".concat(e.propuestaEconomicaB),planPagosB:"".concat(e.planPagosB),cumplimientoProponente:"".concat(e.cumplimientoProponente),claridadOrganizacion:"".concat(e.claridadOrganizacion),cumplimientoTecnico:"".concat(e.cumplimientoTecnico),claridadProceso:"".concat(e.claridadProceso),plazosEjecucion:"".concat(e.plazosEjecucion),precioTotal:"".concat(e.precioTotal),usoHerramienta:"".concat(e.usoHerramienta),estado:"".concat(e.estado),empresa:"".concat(e.empresa),user:"".concat(e.user)}),V("".concat(e.estado)),G(!0),b(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{v(e),f(!0)})(e)}))}),c.a.createElement(A.a,{header:"Generar PDF",body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-file-pdf",style:{background:"#ed4651"},className:"p-button-rounded p-button-success mr-2",onClick:()=>pe(e)}))})),c.a.createElement(O.a,{visible:g,style:{width:"750px"},header:()=>q?"Actualizando Orden de cambio":"A\xf1adir Orden de cambio",modal:!0,className:"p-fluid",onHide:se},c.a.createElement("form",{onSubmit:oe.handleSubmit},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-calendar"})),c.a.createElement(Me.a,{id:"fecha",name:"fecha",placeholder:"Seleccione una fecha",value:oe.values.fecha,onChange:oe.handleChange,locale:"es",dateFormat:"mm/dd/yy",minDate:ae,maxDate:te,readOnlyInput:!0}))),ce("fecha"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("h5",null,"PARTE A"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Caratula"),c.a.createElement(W.a,{style:{height:"100px"},id:"caratulaA",name:"caratulaA",placeholder:"Ingrese la correccion de la caratula",value:oe.values.caratulaA,onChange:oe.handleChange,autoResize:!0})),ce("caratulaA"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Indice"),c.a.createElement(W.a,{style:{height:"100px"},id:"indiceA",name:"indiceA",placeholder:"Ingrese la correccion de la indice",value:oe.values.indiceA,onChange:oe.handleChange,autoResize:!0})),ce("indiceA"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Carta"),c.a.createElement(W.a,{style:{height:"100px"},id:"cartaA",name:"cartaA",placeholder:"Ingrese la correccion del carta",value:oe.values.cartaA,onChange:oe.handleChange,autoResize:!0})),ce("cartaA"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Boleta de garantia"),c.a.createElement(W.a,{style:{height:"100px"},id:"boletaA",name:"boletaA",placeholder:"Ingrese la correccion de la boleta de garantia",value:oe.values.boletaA,onChange:oe.handleChange,autoResize:!0})),ce("boletaA"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Conformacion del grupo empresa"),c.a.createElement(W.a,{style:{height:"100px"},id:"conformacionA",name:"conformacionA",placeholder:"Ingrese la correccion de la conformacion del grupo empresa",value:oe.values.conformacionA,onChange:oe.handleChange,autoResize:!0})),ce("conformacionA"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Solvencia tecnica"),c.a.createElement(W.a,{style:{height:"100px"},id:"solvenciaA",name:"solvenciaA",placeholder:"Ingrese la correccion de la solvencia tecnica",value:oe.values.solvenciaA,onChange:oe.handleChange,autoResize:!0})),ce("solvenciaA"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("h5",null,"PARTE B"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Caratula"),c.a.createElement(W.a,{style:{height:"100px"},id:"caratulaB",name:"caratulaB",placeholder:"Ingrese la correccion de la caratula",value:oe.values.caratulaB,onChange:oe.handleChange,autoResize:!0})),ce("caratulaB"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Indice"),c.a.createElement(W.a,{style:{height:"100px"},id:"indiceB",name:"indiceB",placeholder:"Ingrese la correccion del indice",value:oe.values.indiceB,onChange:oe.handleChange,autoResize:!0})),ce("indiceB"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Propuesta de servicio"),c.a.createElement(W.a,{style:{height:"100px"},id:"propuestaServicioB",name:"propuestaServicioB",placeholder:"Ingrese la correccion de la propuesta de servicio",value:oe.values.propuestaServicioB,onChange:oe.handleChange,autoResize:!0})),ce("propuestaServicioB"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Planificacion"),c.a.createElement(W.a,{style:{height:"100px"},id:"planificacionB",name:"planificacionB",placeholder:"Ingrese la correccion de la planificacion",value:oe.values.planificacionB,onChange:oe.handleChange,autoResize:!0})),ce("planificacionB"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Propuesta economica"),c.a.createElement(W.a,{style:{height:"100px"},id:"propuestaEconomicaB",name:"propuestaEconomicaB",placeholder:"Ingrese la correccion de la propuesta economica",value:oe.values.propuestaEconomicaB,onChange:oe.handleChange,autoResize:!0})),ce("propuestaEconomicaB"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Plan de pagos"),c.a.createElement(W.a,{style:{height:"100px"},id:"planPagosB",name:"planPagosB",placeholder:"Ingrese la correccion del plan de pagos",value:oe.values.planPagosB,onChange:oe.handleChange,autoResize:!0})),ce("planPagosB"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("h5",null,"PUNTAJE"))),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Cumplimiento de especificaciones del proponente (15 puntos) "),c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-pencil"})),c.a.createElement(B.a,{id:"cumplimientoProponente",name:"cumplimientoProponente",placeholder:"Puntuacion para el cumplimiento de espeficicaciones",value:oe.values.cumplimientoProponente,onChange:oe.handleChange,options:[{name:"0"},{name:"1"},{name:"2"},{name:"3"},{name:"4"},{name:"5"},{name:"6"},{name:"7"},{name:"8"},{name:"9"},{name:"10"},{name:"11"},{name:"12"},{name:"13"},{name:"14"},{name:"15"}],optionLabel:"name",optionValue:"name"}))),ce("cumplimientoProponente"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Claridad en la organizaci\xf3n de la empresa proponente (10 puntos)"),c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-pencil"})),c.a.createElement(B.a,{id:"claridadOrganizacion",name:"claridadOrganizacion",placeholder:"Puntuacion para la clarida de organizacion",value:oe.values.claridadOrganizacion,onChange:oe.handleChange,options:[{name:"0"},{name:"1"},{name:"2"},{name:"3"},{name:"4"},{name:"5"},{name:"6"},{name:"7"},{name:"8"},{name:"9"},{name:"10"}],optionLabel:"name",optionValue:"name"}))),ce("claridadOrganizacion"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Cumplimiento de especificaciones t\xe9cnicas (30 puntos)  "),c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-pencil"})),c.a.createElement(B.a,{id:"cumplimientoTecnico",name:"cumplimientoTecnico",placeholder:"Puntuacion para el cumplimiento de especificaciones tecnicas",value:oe.values.cumplimientoTecnico,onChange:oe.handleChange,options:[{name:"0"},{name:"1"},{name:"2"},{name:"3"},{name:"4"},{name:"5"},{name:"6"},{name:"7"},{name:"8"},{name:"9"},{name:"10"},{name:"11"},{name:"12"},{name:"13"},{name:"14"},{name:"15"},{name:"16"},{name:"17"},{name:"18"},{name:"19"},{name:"20"},{name:"21"},{name:"22"},{name:"23"},{name:"24"},{name:"25"},{name:"26"},{name:"27"},{name:"28"},{name:"29"},{name:"30"}],optionLabel:"name",optionValue:"name"}))),ce("cumplimientoTecnico"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Claridad en el proceso de desarrollo (10 puntos) "),c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-pencil"})),c.a.createElement(B.a,{id:"claridadProceso",name:"claridadProceso",placeholder:"Puntuacion para la claridad de proceso de desarrollo",value:oe.values.claridadProceso,onChange:oe.handleChange,options:[{name:"0"},{name:"1"},{name:"2"},{name:"3"},{name:"4"},{name:"5"},{name:"6"},{name:"7"},{name:"8"},{name:"9"},{name:"10"}],optionLabel:"name",optionValue:"name"}))),ce("claridadProceso"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Plazo de ejecuci\xf3n (10 puntos) "),c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-pencil"})),c.a.createElement(B.a,{id:"plazosEjecucion",name:"plazosEjecucion",placeholder:"Puntuacion para los plazos de ejecucion",value:oe.values.plazosEjecucion,onChange:oe.handleChange,options:[{name:"0"},{name:"1"},{name:"2"},{name:"3"},{name:"4"},{name:"5"},{name:"6"},{name:"7"},{name:"8"},{name:"9"},{name:"10"}],optionLabel:"name",optionValue:"name"}))),ce("plazosEjecucion"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Precio total (15 puntos)"),c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-pencil"})),c.a.createElement(B.a,{id:"precioTotal",name:"precioTotal",placeholder:"Puntuacion para los precios totales",value:oe.values.precioTotal,onChange:oe.handleChange,options:[{name:"0"},{name:"1"},{name:"2"},{name:"3"},{name:"4"},{name:"5"},{name:"6"},{name:"7"},{name:"8"},{name:"9"},{name:"10"},{name:"11"},{name:"12"},{name:"13"},{name:"14"},{name:"15"}],optionLabel:"name",optionValue:"name"}))),ce("precioTotal"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("h6",null,"Uso de herramientas en el proceso de desarrollo (10 puntos) "),c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-pencil"})),c.a.createElement(B.a,{id:"usoHerramienta",name:"usoHerramienta",placeholder:"Puntuacion para el uso de herramientas",value:oe.values.usoHerramienta,onChange:oe.handleChange,options:[{name:"0"},{name:"1"},{name:"2"},{name:"3"},{name:"4"},{name:"5"},{name:"6"},{name:"7"},{name:"8"},{name:"9"},{name:"10"}],optionLabel:"name",optionValue:"name"}))),ce("usoHerramienta"),q?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:oe.values.estado,onChange:oe.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),ce("estado")):null,c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-briefcase"})),c.a.createElement(B.a,{id:"empresa",name:"empresa",placeholder:"Seleccione una empresa",value:oe.values.empresa,onChange:oe.handleChange,options:i,optionLabel:"nombre",optionValue:"id"}))),ce("empresa"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(B.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:oe.values.user,onChange:oe.handleChange,options:l,optionLabel:"nombre",optionValue:"id"}))),ce("user"),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:se,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{S(!0),oe.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{className:"mt-2",visible:h,style:{width:"450px"},header:"Confirm",modal:!0,footer:ue,onHide:me},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,E.id),"?"))))))},He=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updatePlan/".concat(a),{link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),Ze={archivo:null,archivoNombre:"",archivoURL:""},$e=e=>{const[a,t]=Object(o.useState)(Ze);let n={id:null,link:"",estado:"",user:""};Object(y.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});const[l,r]=Object(o.useState)(null),[i,s]=Object(o.useState)(null),[m,d]=Object(o.useState)(""),[p,u]=Object(o.useState)(!0),[g,b]=Object(o.useState)(!1),[h,f]=Object(o.useState)(!1),[E,v]=Object(o.useState)(n),[N,I]=Object(o.useState)(null),[w,S]=Object(o.useState)(!1),D=Object(o.useRef)(null),M=Object(o.useRef)(null),[q,G]=Object(o.useState)(!1),[U,V]=Object(o.useState)(""),H=Object(R.a)({initialValues:{link:"",estado:"",user:""},validate:e=>{let a={};return q?(e.estado?e.estado.length<2?a.estado="Como minimo 2 caracteres":e.estado.length>30?a.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(a.estado="No se permiten numero o caracteres especiales"):a.estado="Se requiere el estado",e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario"):e.user?e.user.length<2?a.user="Como minimo 2 caracteres":e.user.length>30?a.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(a.user="No se permiten numero o caracteres especiales"):a.user="Se requiere el usuario",a},onSubmit:e=>{if(console.log(e),!0===w){let t=[...l],o={...E};if(o.link=e.link,o.estado=e.estado,o.user=e.user,console.log(o),o.link.trim())if(E.id){v({...E});t[X(E.id)]=o,He({link:"".concat(o.link),estado:"".concat(o.estado),user:"".concat(o.user)},E.id),oe(a),D.current.show({severity:"success",summary:"Successful",detail:"Plan de pago Actualizado",life:3e3})}else o.id=F()("plan-"),o.estado="Activo",t.push(o),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createPlan",{id:"".concat(e.id),link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),link:"".concat(o.link),estado:"".concat(o.estado),user:"".concat(o.user)}),oe(a),D.current.show({severity:"success",summary:"Successful",detail:"Plan de pago Creado",life:3e3});r(t),b(!1),v(n),H.resetForm()}}}),Z=e=>(e=>!(!H.touched[e]||!H.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},H.errors[e]);Object(o.useEffect)(()=>{$()},[]);const $=()=>{z.a.get("https://magic-tech-backend.herokuapp.com/api/getPlans").then(e=>{e.error?console.log("Error"):(console.log("---------Plan de pagos insertados-----------"),r(e.data),u(!1))})};Object(o.useEffect)(()=>{Y()},[]);const Y=()=>{K().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),s(e.data))})},J=()=>{v(n),H.resetForm(),S(!1),G(!1),b(!0)},W=()=>{S(!1),b(!1)},_=()=>{f(!1)},X=e=>{let a=-1;for(let t=0;t<l.length;t++)if(l[t].id===e){a=t;break}return a},Q=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:_}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...l],a={...E};if(E.link.trim()&&E.id){e[X(E.id)]=a,He({link:"".concat(a.link),estado:"Desactivado",user:"".concat(a.user)},E.id),a.link=a.link,a.estado="Desactivado",a.user=a.user,v({...E}),D.current.show({severity:"success",summary:"Successful",detail:"Plan de pago desactivado",life:3e3})}r(e),v(n),f(!1)}})),ee=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de plan de pagos"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),ae=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:ee,colSpan:5})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ARCHIVO",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"USUARIO",field:"user",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:D}),c.a.createElement(x.a,{className:"",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:J}))}),c.a.createElement(k.a,{ref:M,value:l,selection:N,onSelectionChange:e=>I(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} plan de pagos",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro los documentos de la Parte A",loading:p,headerColumnGroup:ae},c.a.createElement(A.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"20%"},field:"link",header:"LINK",sortable:!0,body:a=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Link"),c.a.createElement(C.a,{label:"Descargar",className:"p-button-link",onClick:ce,style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),c.a.createElement(A.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"20%"},field:"user",header:"USUARIO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Usuario"),e.user)}),c.a.createElement(A.a,{style:{width:"20%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{v({...e}),S(!0),H.resetForm(),H.setValues({link:"".concat(e.link),estado:"".concat(e.estado),user:"".concat(e.user)}),V("".concat(e.estado)),G(!0),b(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{v(e),f(!0)})(e)}))})),c.a.createElement(O.a,{visible:g,style:{width:"450px"},header:()=>q?"Actualizando Plan de pagos":"A\xf1adir Plan de pagos",modal:!0,className:"p-fluid",onHide:W},c.a.createElement("form",{onSubmit:H.handleSubmit},c.a.createElement("div",{style:{marginBottom:"10px"},className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("input",{id:"subir",type:"file",onChange:e=>{t({archivo:e.target.files[0],archivoNombre:e.target.files[0].name})},hidden:!0}),c.a.createElement("label",{for:"subir",style:{display:"inline - block",background:"rgb(19, 175, 78)",color:"white",padding:"0.6rem",fontFamily:"sans-serif",cursor:"pointer",marginTop:"0",borderRadius:"7px"}},"Seleccionar Archivo PDF"))),q?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:H.values.estado,onChange:H.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),Z("estado")):null,c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(B.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:H.values.user,onChange:H.handleChange,options:i,optionLabel:"nombre",optionValue:"id"}))),Z("user"),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:W,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{S(!0),H.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{className:"mt-2",visible:h,style:{width:"450px"},header:"Confirm",modal:!0,footer:Q,onHide:_},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,E.id),"?"))))))},Ye=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updateEntregaA/".concat(a),{link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),Ke={archivo:null,archivoNombre:"",archivoURL:""},Je=e=>{const[a,t]=Object(o.useState)(Ke);let n={id:null,link:"https://umss",fechaInicio:"",fechaCierre:"",estado:"",user:""};Object(y.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});const[l,r]=Object(o.useState)(null),[i,s]=Object(o.useState)(null),[m,d]=Object(o.useState)(""),[p,u]=Object(o.useState)(!0),[g,b]=Object(o.useState)(!1),[h,f]=Object(o.useState)(!1),[E,v]=Object(o.useState)(n),[N,I]=Object(o.useState)(null),[w,S]=Object(o.useState)(!1),D=Object(o.useRef)(null),M=Object(o.useRef)(null),[q,G]=Object(o.useState)(!1),[U,V]=Object(o.useState)(""),H={weekday:"long",year:"numeric",month:"long",day:"numeric"},Z={weekday:"long",year:"numeric",month:"long",day:"numeric"};let $=new Date,Y=$.getMonth(),J=$.getFullYear(),W=0===Y?11:Y-1,_=11===W?J-1:J,X=11===Y?0:Y+1,Q=0===X?J+1:J,ee=new Date;ee.setMonth(W),ee.setFullYear(_);let ae=new Date;ae.setMonth(X),ae.setFullYear(Q);const te=Object(R.a)({initialValues:{link:"https://www.magict",fechaInicio:"",fechaCierre:"",estado:"",user:""},validate:e=>{let t={};return q?(e.fechaInicio||(t.fechaInicio="Se requiere la fecha de inicio"),e.fechaCierre||(t.fechaCierre="Se requiere la fecha de cierre"),e.estado?e.estado.length<2?t.estado="Como minimo 2 caracteres":e.estado.length>30?t.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(t.estado="No se permiten numero o caracteres especiales"):t.estado="Se requiere el estado",e.user?e.user.length<2?t.user="Como minimo 2 caracteres":e.user.length>30?t.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(t.user="No se permiten numero o caracteres especiales"):t.user="Se requiere el usuario"):(null!=a&&(t.link="Se requiere el archivo"),e.fechaInicio||(t.fechaInicio="Se requiere la fecha de inicio"),e.fechaCierre||(t.fechaCierre="Se requiere la fecha de cierre"),e.user?e.user.length<2?t.user="Como minimo 2 caracteres":e.user.length>30?t.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(t.user="No se permiten numero o caracteres especiales"):t.user="Se requiere el usuario"),t},onSubmit:e=>{if(console.log(e),!0===w){let t=[...l],o={...E},c=new Date(e.fechaInicio).toLocaleDateString(void 0,H),i=new Date(e.fechaCierre).toLocaleDateString(void 0,Z);if(o.link=e.link,o.fechaInicio=c,o.fechaCierre=i,o.estado=e.estado,o.user=e.user,console.log("aqui estoy"+o),o.link.trim())if(console.log("aqui ya no estoy"),E.id){v({...E});t[de(E.id)]=o,se(a),Ye({link:"".concat(o.link),fechaInicio:"".concat(o.fechaInicio),fechaCierre:"".concat(o.fechaCierre),estado:"".concat(o.estado),user:"".concat(o.user)},E.id),D.current.show({severity:"success",summary:"Successful",detail:"Parte A Actualizado",life:3e3})}else o.id=F()("parteA-"),o.estado="Activo",t.push(o),console.log({id:"".concat(o.id),link:"".concat(o.link),fechaInicio:"".concat(o.fechaInicio),fechaCierre:"".concat(o.fechaCierre),estado:"".concat(o.estado),user:"".concat(o.user)}),se(a),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createEntregaA",{id:"".concat(e.id),link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),link:"".concat(o.link),fechaInicio:"".concat(o.fechaInicio),fechaCierre:"".concat(o.fechaCierre),estado:"".concat(o.estado),user:"".concat(o.user)}),D.current.show({severity:"success",summary:"Successful",detail:"Parte A Creado",life:3e3});r(t),b(!1),v(n),te.resetForm()}}}),oe=e=>(e=>!(!te.touched[e]||!te.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},te.errors[e]);Object(o.useEffect)(()=>{ce()},[]);const ce=()=>{z.a.get("https://magic-tech-backend.herokuapp.com/api/getEntregaAs").then(e=>{e.error?console.log("Error"):(console.log("---------Parte A insertados-----------"),r(e.data),u(!1))})};Object(o.useEffect)(()=>{ne()},[]);const ne=()=>{K().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),s(e.data))})},le=()=>{v(n),te.resetForm(),S(!1),G(!1),b(!0)},re=()=>{S(!1),b(!1)},ie=()=>{f(!1)},de=e=>{let a=-1;for(let t=0;t<l.length;t++)if(l[t].id===e){a=t;break}return a},pe=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:ie}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...l],a={...E};if(E.link.trim()&&E.id){e[de(E.id)]=a,Ye({link:"".concat(a.link),fechaInicio:"".concat(a.fechaInicio),fechaCierre:"".concat(a.fechaCierre),estado:"Desactivado",user:"".concat(a.user)},E.id),a.link=a.link,a.fechaInicio=a.fechaInicio,a.fechaCierre=a.fechaCierre,a.estado="Desactivado",a.user=a.user,v({...E}),D.current.show({severity:"success",summary:"Successful",detail:"Parte A desactivado",life:3e3})}r(e),v(n),f(!1)}})),ue=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de entrega de la Parte A"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),ge=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:ue,colSpan:6})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ARCHIVO",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"FECHA DE INICIO",field:"fechaInicio",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"FECHA DE CIERRE",field:"fechaCierre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:D}),c.a.createElement(x.a,{className:"",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:le}))}),c.a.createElement(k.a,{ref:M,value:l,selection:N,onSelectionChange:e=>I(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} parte A",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro los documentos de la Parte A",loading:p,headerColumnGroup:ge},c.a.createElement(A.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"20%"},field:"link",header:"LINK",sortable:!0,body:a=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Link"),c.a.createElement(C.a,{label:"Descargar",className:"p-button-link",onClick:me,style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),c.a.createElement(A.a,{style:{width:"20%"},field:"fechaInicio",header:"FECHA DE INICIO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Fecha de Inicio"),e.fechaInicio)}),c.a.createElement(A.a,{style:{width:"20%"},field:"fechaCierre",header:"FECHA DE CIERRE",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Fecha de Cierre"),e.fechaCierre)}),c.a.createElement(A.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"20%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{v({...e}),S(!0),te.resetForm(),te.setValues({link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}),V("".concat(e.estado)),G(!0),b(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{v(e),f(!0)})(e)}))})),c.a.createElement(O.a,{visible:g,style:{width:"450px"},header:()=>q?"Actualizando Parte A":"A\xf1adir Parte A",modal:!0,className:"p-fluid",onHide:re},c.a.createElement("form",{onSubmit:te.handleSubmit},c.a.createElement("div",{style:{marginBottom:"10px"},className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("input",{id:"subir",type:"file",onChange:e=>{t({archivo:e.target.files[0],archivoNombre:e.target.files[0].name})},hidden:!0}),c.a.createElement("label",{for:"subir",style:{display:"inline - block",background:"rgb(19, 175, 78)",color:"white",padding:"0.6rem",fontFamily:"sans-serif",cursor:"pointer",marginTop:"0",borderRadius:"7px"}},"Seleccionar Archivo PDF"))),oe("link"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-calendar"})),c.a.createElement(Me.a,{id:"fechaInicio",name:"fechaInicio",placeholder:"Seleccione la fecha de inicio",value:te.values.fechaInicio,onChange:te.handleChange,locale:"es",dateFormat:"mm/dd/yy",minDate:ee,maxDate:ae,readOnlyInput:!0}))),oe("fechaInicio"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-calendar"})),c.a.createElement(Me.a,{id:"fechaCierre",name:"fechaCierre",placeholder:"Seleccione una fecha de cierre",value:te.values.fechaCierre,onChange:te.handleChange,locale:"es",dateFormat:"mm/dd/yy",minDate:ee,maxDate:ae,readOnlyInput:!0}))),oe("fechaCierre"),q?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:te.values.estado,onChange:te.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),oe("estado")):null,c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(B.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:te.values.user,onChange:te.handleChange,options:i,optionLabel:"nombre",optionValue:"id"}))),oe("user"),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:re,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{S(!0),te.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{className:"mt-2",visible:h,style:{width:"450px"},header:"Confirm",modal:!0,footer:pe,onHide:ie},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,E.id),"?"))))))},We=(e,a)=>z.a.put("https://magic-tech-backend.herokuapp.com/api/updateEntregaB/".concat(a),{link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),_e={archivo:null,archivoNombre:"",archivoURL:""},Xe=e=>{const[a,t]=Object(o.useState)(_e);let n={id:null,link:"https://umss",fechaInicio:"",fechaCierre:"",estado:"",user:""};Object(y.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});const[l,r]=Object(o.useState)(null),[i,s]=Object(o.useState)(null),[m,d]=Object(o.useState)(""),[p,u]=Object(o.useState)(!0),[g,b]=Object(o.useState)(!1),[h,f]=Object(o.useState)(!1),[E,v]=Object(o.useState)(n),[N,I]=Object(o.useState)(null),[w,S]=Object(o.useState)(!1),D=Object(o.useRef)(null),M=Object(o.useRef)(null),[q,G]=Object(o.useState)(!1),[U,V]=Object(o.useState)(""),H={weekday:"long",year:"numeric",month:"long",day:"numeric"},Z={weekday:"long",year:"numeric",month:"long",day:"numeric"};let $=new Date,Y=$.getMonth(),J=$.getFullYear(),W=0===Y?11:Y-1,_=11===W?J-1:J,X=11===Y?0:Y+1,Q=0===X?J+1:J,ee=new Date;ee.setMonth(W),ee.setFullYear(_);let ae=new Date;ae.setMonth(X),ae.setFullYear(Q);const te=Object(R.a)({initialValues:{link:"http://www.magit",fechaInicio:"",fechaCierre:"",estado:"",user:""},validate:e=>{let t={};return q?(e.fechaInicio||(t.fechaInicio="Se requiere la fecha de inicio"),e.fechaCierre||(t.fechaCierre="Se requiere la fecha de cierre"),e.estado?e.estado.length<2?t.estado="Como minimo 2 caracteres":e.estado.length>30?t.estado="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.estado)||(t.estado="No se permiten numero o caracteres especiales"):t.estado="Se requiere el estado",e.user?e.user.length<2?t.user="Como minimo 2 caracteres":e.user.length>30?t.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(t.user="No se permiten numero o caracteres especiales"):t.user="Se requiere el usuario"):(null!=a&&(t.link="Se requiere el archivo"),e.fechaInicio||(t.fechaInicio="Se requiere la fecha de inicio"),e.fechaCierre||(t.fechaCierre="Se requiere la fecha de cierre"),e.user?e.user.length<2?t.user="Como minimo 2 caracteres":e.user.length>30?t.user="Como maximo 30 caracteres":/^^[a-zA-Z0-9\s-]+$/i.test(e.user)||(t.user="No se permiten numero o caracteres especiales"):t.user="Se requiere el usuario"),t},onSubmit:e=>{if(console.log(e),!0===w){let t=[...l],o={...E},c=new Date(e.fechaInicio).toLocaleDateString(void 0,H),i=new Date(e.fechaCierre).toLocaleDateString(void 0,Z);if(o.link=e.link,o.fechaInicio=c,o.fechaCierre=i,o.estado=e.estado,o.user=e.user,console.log(o),o.link.trim())if(E.id){v({...E});t[se(E.id)]=o,de(a),We({link:"".concat(o.link),fechaInicio:"".concat(o.fechaInicio),fechaCierre:"".concat(o.fechaCierre),estado:"".concat(o.estado),user:"".concat(o.user)},E.id),D.current.show({severity:"success",summary:"Successful",detail:"Parte B Actualizado",life:3e3})}else o.id=F()("parteB-"),o.estado="Activo",t.push(o),console.log({id:"".concat(o.id),link:"".concat(o.link),fechaInicio:"".concat(o.fechaInicio),fechaCierre:"".concat(o.fechaCierre),estado:"".concat(o.estado),user:"".concat(o.user)}),de(a),(e=>{z.a.post("https://magic-tech-backend.herokuapp.com/api/createEntregaB",{id:"".concat(e.id),link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})({id:"".concat(o.id),link:"".concat(o.link),fechaInicio:"".concat(o.fechaInicio),fechaCierre:"".concat(o.fechaCierre),estado:"".concat(o.estado),user:"".concat(o.user)}),D.current.show({severity:"success",summary:"Successful",detail:"Parte B Creado",life:3e3});r(t),b(!1),v(n),te.resetForm()}}}),oe=e=>(e=>!(!te.touched[e]||!te.errors[e]))(e)&&c.a.createElement("small",{className:"ml-1 p-error",style:{color:"#ff0000"}},te.errors[e]);Object(o.useEffect)(()=>{ce()},[]);const ce=()=>{z.a.get("https://magic-tech-backend.herokuapp.com/api/getEntregaBs").then(e=>{e.error?console.log("Error"):(console.log("---------Parte A insertados-----------"),r(e.data),u(!1))})};Object(o.useEffect)(()=>{ne()},[]);const ne=()=>{K().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),s(e.data))})},le=()=>{v(n),te.resetForm(),S(!1),G(!1),b(!0)},re=()=>{S(!1),b(!1)},ie=()=>{f(!1)},se=e=>{let a=-1;for(let t=0;t<l.length;t++)if(l[t].id===e){a=t;break}return a},me=c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{label:"No",icon:"pi pi-times",style:{background:"#d13639",color:"#ffffff"},className:"p-button-text",onClick:ie}),c.a.createElement(C.a,{label:"Si",icon:"pi pi-check",style:(e.layoutColorMode,{color:"#13af4e","border-color":"#13af4e"}),className:"p-button-text",onClick:()=>{let e=[...l],a={...E};if(E.link.trim()&&E.id){e[se(E.id)]=a,We({link:"".concat(a.link),fechaInicio:"".concat(a.fechaInicio),fechaCierre:"".concat(a.fechaCierre),estado:"Desactivado",user:"".concat(a.user)},E.id),a.link=a.link,a.fechaInicio=a.fechaInicio,a.fechaCierre=a.fechaCierre,a.estado="Desactivado",a.user=a.user,v({...E}),D.current.show({severity:"success",summary:"Successful",detail:"Parte B desactivado",life:3e3})}r(e),v(n),f(!1)}})),ue=c.a.createElement("div",{className:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},c.a.createElement("h5",{className:"m-0"},"Gestion de entrega de la Parte B"),c.a.createElement("span",{className:"block mt-2 md:mt-0 p-input-icon-left"},c.a.createElement("i",{className:"pi pi-search"}),c.a.createElement(L.a,{type:"search",onInput:e=>d(e.target.value),placeholder:"Buscar..."}))),ge=c.a.createElement(j.a,null,c.a.createElement(T.a,null,c.a.createElement(A.a,{header:ue,colSpan:6})),c.a.createElement(T.a,null,c.a.createElement(A.a,{header:"ID",field:"id",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ARCHIVO",field:"link",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"FECHA DE INICIO",field:"fechaInicio",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"FECHA DE CIERRE",field:"fechaCierre",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"ESTADO",field:"estado",sortable:!0,style:{"background-color":"#13af4e",width:"20%"}}),c.a.createElement(A.a,{header:"Editar/Eliminar",style:{"background-color":"#13af4e",width:"20%"}})));return c.a.createElement("div",{className:"p-grid crud-demo"},c.a.createElement("div",{className:"p-col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(P.a,{ref:D}),c.a.createElement(x.a,{className:"",left:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{style:(e.layoutColorMode,{color:"#ffffff",background:"#13af4e"}),label:"Nuevo",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:le}))}),c.a.createElement(k.a,{ref:M,value:l,selection:N,onSelectionChange:e=>I(e.value),dataKey:"id",rowHover:!0,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],className:"datatable-responsive p-datatable-sm p-datatable-gridlines p-datatable-striped",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} parte B",resizableColumns:!0,columnResizeMode:"fit",showGridlines:!0,globalFilter:m,emptyMessage:"No se encontro los documentos de la Parte B",loading:p,headerColumnGroup:ge},c.a.createElement(A.a,{style:{width:"20%"},field:"id",header:"ID",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"id"),e.id)}),c.a.createElement(A.a,{style:{width:"20%"},field:"link",header:"LINK",sortable:!0,body:a=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Link"),c.a.createElement(C.a,{label:"Descargar",className:"p-button-link",onClick:pe,style:"light"===e.layoutColorMode?{color:"#495057","font-weight":"bold","text-align":"justify"}:{color:"#ffffff","font-weight":"bold","text-align":"justify"}}))}),c.a.createElement(A.a,{style:{width:"20%"},field:"fechaInicio",header:"FECHA DE INICIO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Fecha de Inicio"),e.fechaInicio)}),c.a.createElement(A.a,{style:{width:"20%"},field:"fechaCierre",header:"FECHA DE CIERRE",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Fecha de Cierre"),e.fechaCierre)}),c.a.createElement(A.a,{style:{width:"20%"},field:"estado",header:"ESTADO",sortable:!0,body:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"p-column-title"},"Estado"),e.estado)}),c.a.createElement(A.a,{style:{width:"20%"},body:e=>c.a.createElement("div",{className:"actions"},c.a.createElement(C.a,{icon:"pi pi-pencil",style:{background:"#13af4e"},className:"p-button-rounded p-button-success mr-2",onClick:()=>(e=>{v({...e}),S(!0),te.resetForm(),te.setValues({link:"".concat(e.link),fechaInicio:"".concat(e.fechaInicio),fechaCierre:"".concat(e.fechaCierre),estado:"".concat(e.estado),user:"".concat(e.user)}),V("".concat(e.estado)),G(!0),b(!0)})(e)}),c.a.createElement(C.a,{icon:"pi pi-trash",style:{background:"#eee500"},className:"p-button-rounded p-button-warning",onClick:()=>(e=>{v(e),f(!0)})(e)}))})),c.a.createElement(O.a,{visible:g,style:{width:"450px"},header:()=>q?"Actualizando Parte B":"A\xf1adir Parte B",modal:!0,className:"p-fluid",onHide:re},c.a.createElement("form",{onSubmit:te.handleSubmit},c.a.createElement("div",{style:{marginBottom:"10px"},className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("input",{id:"subir",type:"file",onChange:e=>{t({archivo:e.target.files[0],archivoNombre:e.target.files[0].name})},hidden:!0}),c.a.createElement("label",{for:"subir",style:{display:"inline - block",background:"rgb(19, 175, 78)",color:"white",padding:"0.6rem",fontFamily:"sans-serif",cursor:"pointer",marginTop:"0",borderRadius:"7px"}},"Seleccionar Archivo PDF"))),oe("link"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-calendar"})),c.a.createElement(Me.a,{id:"fechaInicio",name:"fechaInicio",placeholder:"Seleccione la fecha de inicio",value:te.values.fechaInicio,onChange:te.handleChange,locale:"es",dateFormat:"mm/dd/yy",minDate:ee,maxDate:ae,readOnlyInput:!0}))),oe("fechaInicio"),c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-calendar"})),c.a.createElement(Me.a,{id:"fechaCierre",name:"fechaCierre",placeholder:"Seleccione una fecha de cierre",value:te.values.fechaCierre,onChange:te.handleChange,locale:"es",dateFormat:"mm/dd/yy",minDate:ee,maxDate:ae,readOnlyInput:!0}))),oe("fechaCierre"),q?c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===e.layoutColorMode?"assets/layout/images/estado.png":"assets/layout/images/estado-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(B.a,{id:"estado",name:"estado",placeholder:"Seleccione un estado",value:te.values.estado,onChange:te.handleChange,options:[{name:"Activo"},{name:"Desactivado"}],optionLabel:"name",optionValue:"name"}))),oe("estado")):null,c.a.createElement("div",{className:"p-field mt-2"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(B.a,{id:"user",name:"user",placeholder:"Seleccione un usuario",value:te.values.user,onChange:te.handleChange,options:i,optionLabel:"nombre",optionValue:"id"}))),oe("user"),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex justify-content-center flex-wrap"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:re,style:(e.layoutColorMode,{color:"#d13639","border-color":"#d13639"})})),c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{label:"Guardar",icon:"pi pi-check",type:"submit",className:"p-button-text",onClick:()=>{S(!0),te.handleSubmit()},style:{background:"#13af4e",color:"#ffffff"}})))))),c.a.createElement(O.a,{className:"mt-2",visible:h,style:{width:"450px"},header:"Confirm",modal:!0,footer:me,onHide:ie},c.a.createElement("div",{className:"confirmation-content"},c.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),E&&c.a.createElement("span",null,"\xbfEst\xe1s segura de que quieres eliminar? ",c.a.createElement("b",null,E.id),"?"))))))};t(193),t(194),t(195),t(196),t(197),t(198),t(199);var Qe=()=>{const[e,a]=Object(o.useState)("static"),[t,n]=Object(o.useState)("light"),[l,r]=Object(o.useState)("outlined"),[d,p]=Object(o.useState)([{label:"Home",icon:"pi pi-fw pi-home",items:[{label:"Tablero",icon:"pi pi-fw pi-home",to:"/"}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]}]),[h,f]=Object(o.useState)(!0),[v,C]=Object(o.useState)(!1),[w,k]=Object(o.useState)(!1),[A,P]=Object(o.useState)(!1),[x,O]=Object(o.useState)(!1),[L,j]=Object(o.useState)([{label:"Home",icon:"pi pi-fw pi-home",items:[{label:"Tablero",icon:"pi pi-fw pi-home",to:"/"}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]},{label:"",icon:"",items:[{label:"",icon:"",to:""}]}]),T=new u.a;y.b.ripple=!0;let B=!1,R=!1;const D=e=>(Object.keys(e).forEach(a=>e[a]&&"object"===typeof e[a]&&D(e[a])||!e[a]&&void 0!==e[a]&&delete e[a]),e);Object(o.useEffect)(()=>{let e=[...d],a=(D(e),[{label:"".concat(e[0].homelabel),icon:"".concat(e[0].homeIcono),items:[{label:"".concat(e[0].homeItemLabel),icon:"".concat(e[0].homeItemIcono),to:"".concat(e[0].homeItemTo)}]},{label:"".concat(e[0].rolelabel),icon:"".concat(e[0].roleIcono),items:[{label:"".concat(e[0].roleItemLabel),icon:"".concat(e[0].roleItemIcono),to:"".concat(e[0].roleItemTo)}]},{label:"".concat(e[0].itemlabel),icon:"".concat(e[0].itemIcono),items:[{label:"".concat(e[0].itemItemLabel),icon:"".concat(e[0].itemItemIcono),to:"".concat(e[0].itemItemTo)}]},{label:"".concat(e[0].userlabel),icon:"".concat(e[0].userIcono),items:[{label:"".concat(e[0].userItemLabel),icon:"".concat(e[0].userItemIcono),to:"".concat(e[0].userItemTo)}]},{label:"".concat(e[0].empresalabel),icon:"".concat(e[0].empresaIcono),items:[{label:"".concat(e[0].empresaItemLabel),icon:"".concat(e[0].empresaItemIcono),to:"".concat(e[0].empresaItemTo)}]},{label:"".concat(e[0].convocatorialabel),icon:"".concat(e[0].convocatoriaIcono),items:[{label:"".concat(e[0].convocatoriaItemLabel),icon:"".concat(e[0].convocatoriaItemIcono),to:"".concat(e[0].convocatoriaItemTo)}]},{label:"".concat(e[0].pliegolabel),icon:"".concat(e[0].pliegoIcono),items:[{label:"".concat(e[0].pliegoItemLabel),icon:"".concat(e[0].pliegoItemIcono),to:"".concat(e[0].pliegoItemTo)}]},{label:"".concat(e[0].contratolabel),icon:"".concat(e[0].contratoIcono),items:[{label:"".concat(e[0].contratoItemLabel),icon:"".concat(e[0].contratoItemIcono),to:"".concat(e[0].contratoItemTo)}]},{label:"".concat(e[0].ordenlabel),icon:"".concat(e[0].ordenIcono),items:[{label:"".concat(e[0].ordenItemLabel),icon:"".concat(e[0].ordenItemIcono),to:"".concat(e[0].ordenItemTo)}]},{label:"".concat(e[0].planlabel),icon:"".concat(e[0].planIcono),items:[{label:"".concat(e[0].planItemLabel),icon:"".concat(e[0].planItemIcono),to:"".concat(e[0].planItemTo)}]},{label:"".concat(e[0].parteAlabel),icon:"".concat(e[0].parteAIcono),items:[{label:"".concat(e[0].parteAItemLabel),icon:"".concat(e[0].parteAItemIcono),to:"".concat(e[0].parteAItemTo)}]},{label:"".concat(e[0].parteBlabel),icon:"".concat(e[0].parteBIcono),items:[{label:"".concat(e[0].parteBItemLabel),icon:"".concat(e[0].parteBItemIcono),to:"".concat(e[0].parteBItemTo)}]},{label:"".concat(e[0].listEmpresalabel),icon:"".concat(e[0].listEmpresaIcono),items:[{label:"".concat(e[0].listEmpresaItemLabel),icon:"".concat(e[0].listEmpresaItemIcono),to:"".concat(e[0].listEmpresaItemTo)}]},{label:"".concat(e[0].listConvlabel),icon:"".concat(e[0].listConvIcono),items:[{label:"".concat(e[0].listConvItemLabel),icon:"".concat(e[0].listConvItemIcono),to:"".concat(e[0].listConvItemTo)}]},{label:"".concat(e[0].listPliegolabel),icon:"".concat(e[0].listPliegoIcono),items:[{label:"".concat(e[0].listPliegoItemLabel),icon:"".concat(e[0].listPliegoItemIcono),to:"".concat(e[0].listPliegoItemTo)}]},{label:"".concat(e[0].forolabel),icon:"".concat(e[0].foroIcono),items:[{label:"".concat(e[0].foroItemLabel),icon:"".concat(e[0].foroItemIcono),to:"".concat(e[0].foroItemTo)}]}]);console.log("-----------------------"),console.log(a);var t=a.filter(e=>!Object.values(e).some(e=>"*"===e||"undefined"===e));console.log(t),j(t)},[d]),Object(o.useEffect)(()=>{F()},[]);const F=()=>{let e=T.get("rol");var a;(a=e,z.a.get("https://magic-tech-backend.herokuapp.com/api/getItemsRol/".concat(a))).then(e=>{e.error?console.log("Error"):(console.log("---------Permisos insertados-----------"),p(e.data))})};Object(o.useEffect)(()=>{A?q(document.body,"body-overflow-hidden"):G(document.body,"body-overflow-hidden")},[A]);const M=()=>window.innerWidth>=992,q=(e,a)=>{e.classList?e.classList.add(a):e.className+=" "+a},G=(e,a)=>{e.classList?e.classList.remove(a):e.className=e.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")},V=i()("layout-wrapper",{"layout-overlay":"overlay"===e,"layout-static":"static"===e,"layout-static-sidebar-inactive":v&&"static"===e,"layout-overlay-sidebar-active":w&&"overlay"===e,"layout-mobile-sidebar-active":A,"p-input-filled":"filled"===l,"p-ripple-disabled":!1===h,"layout-theme-light":"light"===t});return c.a.createElement("div",{className:V,onClick:e=>{B||(k(!1),P(!1)),R||O(!1),R=!1,B=!1}},c.a.createElement(g,{onToggleMenuClick:a=>{B=!0,M()?"overlay"===e?(!0===A&&k(!0),k(e=>!e),P(!1)):"static"===e&&C(e=>!e):P(e=>!e),a.preventDefault()},layoutColorMode:t,mobileTopbarMenuActive:x,onMobileTopbarMenuClick:e=>{R=!0,O(e=>!e),e.preventDefault()},onMobileSubTopbarMenuClick:e=>{R=!0,e.preventDefault()}}),c.a.createElement("div",{className:"layout-sidebar",onClick:()=>{B=!0}},c.a.createElement(E,{model:L,onMenuItemClick:e=>{e.item.items||(k(!1),P(!1))},layoutColorMode:t})),c.a.createElement("div",{className:"layout-main-container"},c.a.createElement("div",{className:"layout-main"},c.a.createElement(s.a,{path:"/",exact:!0,component:S}),c.a.createElement(s.a,{path:"/Role",exact:!0,render:e=>c.a.createElement(U,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/Permiso",exact:!0,render:e=>c.a.createElement(Z,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/User",exact:!0,render:e=>c.a.createElement(J,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/Empresa",exact:!0,render:e=>c.a.createElement(ee,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/Convocatoria",exact:!0,render:e=>c.a.createElement(ge,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/PliegoEspecificacion",exact:!0,render:e=>c.a.createElement(Ee,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/Aviso",component:ve}),c.a.createElement(s.a,{path:"/ListEmpresa",exact:!0,render:e=>c.a.createElement(Ce,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/ListConvocatoria",exact:!0,render:e=>c.a.createElement(Ne,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/ListPliego",exact:!0,render:e=>c.a.createElement(ye,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/Forum",exact:!0,render:e=>c.a.createElement(Fe,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/Contrato",exact:!0,render:e=>c.a.createElement(Ge,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/Orden",exact:!0,render:e=>c.a.createElement(Ve,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/Plan",exact:!0,render:e=>c.a.createElement($e,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/ParteA",exact:!0,render:e=>c.a.createElement(Je,Object.assign({layoutColorMode:t},e))}),c.a.createElement(s.a,{path:"/ParteB",exact:!0,render:e=>c.a.createElement(Xe,Object.assign({layoutColorMode:t},e))})),c.a.createElement(b,{layoutColorMode:t}),c.a.createElement(I,{layoutColorMode:t})),c.a.createElement(N,{rippleEffect:h,onRippleEffect:e=>{y.b.ripple=e.value,f(e.value)},inputStyle:l,onInputStyleChange:e=>{r(e)},layoutMode:e,onLayoutModeChange:e=>{a(e)},layoutColorMode:t,onColorModeChange:e=>{n(e)}}),c.a.createElement(m.a,{classNames:"layout-mask",timeout:{enter:200,exit:200},in:A,unmountOnExit:!0},c.a.createElement("div",{className:"layout-mask p-component-overlay"})))};var ea=Object(s.h)(e=>{let a=Object(s.g)();return Object(o.useEffect)(()=>{window.scrollTo(0,0)},[a]),e.children}),aa=t(62);const ta=e=>{const a=Object(s.f)(),[t,n]=Object(o.useState)(!0),l=Object(o.useRef)(null),r=new u.a,i=Object(R.a)({initialValues:{email:"",password:""},validate:e=>{let a={};return e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com"):a.email="Se requiere el correo electronico",e.password?e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",a},onSubmit:e=>{n(!1);const t=setTimeout(()=>{},1e4);z.a.post("https://magic-tech-backend.herokuapp.com/api/login",{email:"".concat(e.email),password:"".concat(e.password)}).then((function(e){r.set("id",e.data.id,{path:"/"}),r.set("nombre",e.data.nombre,{path:"/"}),r.set("apellido",e.data.apellido,{path:"/"}),r.set("email",e.data.email,{path:"/"}),r.set("rol",e.data.rol,{path:"/"}),r.set("isLogin",!0),console.log("id:        "+r.get("id")),console.log("nombre:    "+r.get("nombre")),console.log("apellido:  "+r.get("apellido")),console.log("email:     "+r.get("email")),console.log("rol:       "+r.get("rol")),console.log("isLogin:   "+r.get("isLogin")),200===e.status&&(clearTimeout(t),a.push("/")),i.resetForm(),n(!0)})).catch((function(a){l.current.show({severity:"error",summary:"Error Message",detail:"El correo electronico o la contrase\xf1a son incorrectas",life:3e3}),clearTimeout(t),n(!0),i.resetForm(),i.setValues({email:"".concat(e.email),password:""})}))}}),m=e=>(e=>!(!i.touched[e]||!i.errors[e]))(e)&&c.a.createElement("small",{className:"ml-5 p-error",style:{color:"#ff0000"}},i.errors[e]);return c.a.createElement("div",{className:"grid justify-content-evenly mt-6"},c.a.createElement(P.a,{ref:l}),c.a.createElement("div",{className:"lg:col-3"}),c.a.createElement("div",{className:" lg:col-3 md:col-3"},c.a.createElement("div",{className:"card p-fluid",style:"light"===r.get("theme")?{border:"black 2px outset"}:{border:"white 2px outset"}},c.a.createElement("form",{onSubmit:i.handleSubmit},c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement("h2",{className:"p-text-center p-p-1"},"Iniciar sesi\xf3n"))),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement("img",{src:"light"===r.get("theme")?"assets/layout/images/avatar.png":"assets/layout/images/avatar-dark.png",className:"p-avatar-xl",shape:"circle",size:"xlarge",style:{height:"8em",width:"8em"}}))),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center"},c.a.createElement("div",{className:"p-field mt-1 lg:col-11"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===r.get("theme")?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(L.a,{id:"email",name:"email",placeholder:"Correo electronico",value:i.values.email,onChange:i.handleChange,autoFocus:!0}))))),m("email"),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center"},c.a.createElement("div",{className:"p-field mt-1 lg:col-10"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===r.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(V.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:i.values.password,onChange:i.handleChange,toggleMask:!0,feedback:!1}))))),m("password"),t?c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-2"},c.a.createElement(C.a,{type:"submit",id:"buttonSubmit",icon:"pi pi-arrow-right",className:"p-button-raised mt-4 p-button-lg",style:{fontSize:"1.5em","background-color":"#d13639",color:"#ffffff",border:"1px solid hsl(0deg 0% 100% / 12%)"}}))):c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-4"},c.a.createElement(aa.a,{style:{width:"50px",height:"50px",stroke:"#d62d20"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"10s"}))),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  mt-3"},c.a.createElement(d.c,{to:"/Register"},c.a.createElement(C.a,{label:"Crear una cuenta",className:"p-button-link",style:"light"===r.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}})))),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center"},c.a.createElement(d.c,{to:"/"},c.a.createElement(C.a,{label:"Pagina principal",className:"p-button-link",style:"light"===r.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}}))))))),c.a.createElement("div",{className:"lg:col-3"}))},oa=e=>{const a=Object(o.useRef)(null),[t,n]=Object(o.useState)(null),[l,r]=(Object(s.f)(),Object(o.useState)("")),[i,m]=Object(o.useState)(!0),p=new u.a,g=Object(R.a)({initialValues:{nombre:"",apellido:"",email:"",password:"",confirmPassword:""},validate:e=>{let a={};return e.nombre?e.nombre.length<2?a.nombre="Como minimo 2 caracteres":e.nombre.length>30?a.nombre="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.nombre)||(a.nombre="No se permiten numero o caracteres especiales"):a.nombre="Se requiere el nombre",e.apellido?e.apellido.length<2?a.apellido="Como minimo 2 caracteres":e.apellido.length>30?a.apellido="Como maximo 30 caracteres":/^^[a-zA-Z\s]+$/i.test(e.apellido)||(a.apellido="No se permiten numero o caracteres especiales"):a.apellido="Se requiere el apellido",e.email?e.email.length>255?a.email="Como maximo 255 caracteres":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?h(e.email)||(a.email="Ya existe el correo electronico"):a.email="Direcci\xf3n de correo electr\xf3nico inv\xe1lida. P.ej. ejemplo@email.com":a.email="Se requiere el correo electronico",e.password?e.password.length<6?a.password="Como minimo 6 caracteres":e.password.length>255&&(a.password="Como maximo 255 caracteres"):a.password="Se requiere la contrase\xf1a",e.confirmPassword?e.confirmPassword!=e.password&&(a.confirmPassword="Las contrase\xf1as deben coincidir"):a.confirmPassword="Se requiere la confirmacion de la contrase\xf1a",a},onSubmit:e=>{let t=F()("user-");m(!1);const o=setTimeout(()=>{},1e4);z.a.post("https://magic-tech-backend.herokuapp.com/api/createUser",{id:"".concat(t),nombre:"".concat(e.nombre),apellido:"".concat(e.apellido),email:"".concat(e.email),password:"".concat(e.password),estado:"".concat("Activo"),rol:"".concat("rol-kvjva7f6")}).then((function(e){200===e.status&&(clearTimeout(o),a.current.show({severity:"success",summary:"Successful",detail:"Registrado Exitosamente",life:3e3})),g.resetForm(),m(!0)})).catch((function(e){clearTimeout(o),m(!0),g.resetForm()}))}}),b=e=>(e=>!(!g.touched[e]||!g.errors[e]))(e)&&c.a.createElement("small",{className:"ml-2 p-error",style:{color:"#ff0000"}},g.errors[e]),h=e=>void 0===[...t].find(a=>a.email.toLowerCase()===e.toLowerCase());Object(o.useEffect)(()=>{f()},[]);const f=()=>{$().then(e=>{e.error?console.log("Error"):(console.log("---------Users insertados-----------"),n(e.data))})};return c.a.createElement("div",{className:"grid justify-content-evenly mt-6"},c.a.createElement(P.a,{ref:a}),c.a.createElement("div",{className:"lg:col-3"}),c.a.createElement("div",{className:" lg:col-3 md:col-3"},c.a.createElement("div",{className:"card p-fluid",style:"light"===p.get("theme")?{border:"black 2px outset"}:{border:"white 2px outset"}},c.a.createElement("form",{onSubmit:g.handleSubmit},c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  "},c.a.createElement("h2",{className:"p-text-center p-p-1"},"Registrarse"))),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  "},c.a.createElement("div",{className:"p-field mt-2 lg:col-12"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(L.a,{id:"nombre",name:"nombre",placeholder:"Nombre",value:g.values.nombre,onChange:g.handleChange,autoFocus:!0}))))),b("nombre"),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  "},c.a.createElement("div",{className:"p-field mt-1 lg:col-12"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("i",{className:"pi pi-user"})),c.a.createElement(L.a,{id:"apellido",name:"apellido",placeholder:"Apellido",value:g.values.apellido,onChange:g.handleChange}))))),b("apellido"),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  "},c.a.createElement("div",{className:"p-field mt-1 lg:col-12"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/gmail.png":"assets/layout/images/gmail-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(L.a,{id:"email",name:"email",placeholder:"Correo electronico",value:g.values.email,onChange:g.handleChange}))))),b("email"),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  "},c.a.createElement("div",{className:"p-field mt-1 lg:col-11"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(V.a,{id:"password",name:"password",placeholder:"Contrase\xf1a",value:g.values.password,onChange:g.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))))),b("password"),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  "},c.a.createElement("div",{className:"p-field mt-1 lg:col-11"},c.a.createElement("div",{className:"p-inputgroup"},c.a.createElement("span",{className:"p-inputgroup-addon"},c.a.createElement("img",{src:"light"===p.get("theme")?"assets/layout/images/password.png":"assets/layout/images/password-dark.png",style:{height:"1.2em",width:"1.2em"}})),c.a.createElement(V.a,{id:"confirmPassword",name:"confirmPassword",placeholder:"Repite la contrase\xf1a",value:g.values.confirmPassword,onChange:g.handleChange,toggleMask:!0,promptLabel:"Por favor ingrese una contrase\xf1a",weakLabel:"D\xe9bil",mediumLabel:"Medio",strongLabel:"Fuerte"}))))),b("confirmPassword"),i?c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  "},c.a.createElement("div",{className:"p-field mt-3 lg:col-11"},c.a.createElement(C.a,{label:"Registrar",icon:"pi pi-check",type:"submit",className:"p-button-text",style:{background:"#13af4e",color:"#ffffff"}})))):c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center  m-4"},c.a.createElement(aa.a,{style:{width:"50px",height:"50px",stroke:"#d62d20"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"10s"}))),c.a.createElement("div",{className:"grid flex justify-content-center mt-3"},c.a.createElement("div",{className:"flex align-items-center justify-content-center"},c.a.createElement(d.c,{to:"/Login"},c.a.createElement(C.a,{label:"Iniciar sesion",className:"p-button-link",style:"light"===p.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}})))),c.a.createElement("div",{className:"grid flex justify-content-center"},c.a.createElement("div",{className:"flex align-items-center justify-content-center"},c.a.createElement(d.c,{to:"/"},c.a.createElement(C.a,{label:"Pagina principal",className:"p-button-link",style:"light"===p.get("theme")?{color:"#000000","font-weight":"bold"}:{color:"#ffffff","font-weight":"bold"}}))))))),c.a.createElement("div",{className:"lg:col-3"}))};{const e=new u.a;e.set("isLogin",!1),e.set("rol","rol-gt521sdfg")}l.a.render(c.a.createElement(d.b,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/Login",exact:!0,render:e=>c.a.createElement(ta,Object.assign({layoutColorMode:"light"},e))}),c.a.createElement(s.a,{path:"/Register",exact:!0,render:e=>c.a.createElement(oa,Object.assign({layoutColorMode:"light"},e))}),c.a.createElement(ea,null,c.a.createElement(Qe,null)))),document.getElementById("root"))},45:function(e,a,t){}},[[119,1,2]]]);
//# sourceMappingURL=main.d2377f13.chunk.js.map